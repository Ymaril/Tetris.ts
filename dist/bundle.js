!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_CONFIG={UPDATE_AFTER_X_FRAMES:40,CELL_SIZE:40,NEXT_SHAPE_CELL_SIZE:10,BACKGROUND_COLOR:"#28363B",STROKE_COLOR:"black",SHAPE_COLORS:["#F9B38F","#BF6C86","#84AF9C","#6D5C80","#FFA3D0","#439F9E","#EF5F3C"],FONT:"20px Comic Sans MS",FONT_COLOR:"white",SCORE_LABEL:"Score: ",NEXT_SHAPE_LABEL:"Next Shape: ",SCORE_POSITION:{X:10,Y:25},NEXT_SHAPE_LABEL_POSITION:{X:400,Y:25},NEXT_SHAPE_POSITION:{X:545,Y:8},LEFT_KEY:37,RIGHT_KEY:39,UP_KEY:38,DOWN_KEY:40,DROP:13,FILLED_LINE_BONUS:100,DROPPED_SHAPE_BONUS:2,LOWERED_SHAPE_BONUS:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"X",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Zero",{get:function(){return new e(0,0)},enumerable:!0,configurable:!0}),e.prototype.addX=function(t){return new e(this._x,this._y).addToX(t)},e.prototype.addY=function(t){return new e(this._x,this._y).addToY(t)},e.prototype.addToX=function(e){return this._x+=e,this},e.prototype.addToY=function(e){return this._y+=e,this},e.prototype.add=function(e,t){this.addToX(e),this.addToY(t)},e}();t.Vector2=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this._canvas=e,this._context=this._canvas.getContext("2d")}return Object.defineProperty(e.prototype,"Width",{get:function(){return this._canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this._canvas.height},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.drawBackground=function(e){this._context.save(),this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._context.restore()},e.prototype.drawRect=function(e,t,r,n,o){this._context.save(),this._context.strokeStyle=r,this._context.fillStyle=t,this._context.fillRect(e.X,e.Y,n,o),this._context.strokeRect(e.X,e.Y,n,o),this._context.restore()},e.prototype.drawText=function(e,t,r,n){this._context.save(),this._context.fillStyle=r,this._context.font=t,this._context.fillText(e,n.X,n.Y),this._context.restore()},e.prototype.drawRectAtCell=function(e,t,r,o,i){this.drawRect(new n.Vector2(t*i,e*i),r,o,i,i)},e}(),i=document.getElementById("screen");t.canvas2D=new o(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.keysPressed=[],document.addEventListener("keydown",function(t){e.keyDown(t)})}return e.prototype.keyDown=function(e){this.keysPressed[e.keyCode]=!0},e.prototype.reset=function(){this.keysPressed=[]},e.prototype.isPressed=function(e){return this.keysPressed[e]},e}();t.keyboard=new n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.S=3]="S",e[e.Z=4]="Z",e[e.O=5]="O",e[e.T=6]="T"}(t.ShapeType||(t.ShapeType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=r(3),a=r(2),s=r(0),c=a.canvas2D.Width/s.GAME_CONFIG.CELL_SIZE,h=a.canvas2D.Height/s.GAME_CONFIG.CELL_SIZE;function p(){n.update(),i.keyboard.reset(),a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),n.draw(),requestAnimationFrame(p)}n=new o.GameWorld(c,h),p()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=r(1),a=r(2),s=r(4),c=r(7),h=r(9),p=function(){function e(e,t){this._movingShape=null,this._shapesQueue=[],this._shapeTypes=[s.ShapeType.I,s.ShapeType.J,s.ShapeType.L,s.ShapeType.O,s.ShapeType.S,s.ShapeType.Z,s.ShapeType.T],this._shapeFactory=new h.ShapeFactory,this._map=new c.GameMap(e,t),this.init()}return Object.defineProperty(e.prototype,"gameOver",{get:function(){return this._gameOver},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._score=0,this._frame=0,this._updateEveryXFrames=n.GAME_CONFIG.UPDATE_AFTER_X_FRAMES,this._map.init();var e=this.generateRandomShape();this._shapesQueue=[e],this._movingShape=this.generateRandomShape()},e.prototype.increaseScore=function(e){this._score+=e},e.prototype.dropShape=function(){for(var e=0;!this.lowerShape();)e++;return e},e.prototype.handleInput=function(){var e=this,t=0;if(o.keyboard.isPressed(n.GAME_CONFIG.DROP)){var r=this.dropShape();this.increaseScore(r*n.GAME_CONFIG.DROPPED_SHAPE_BONUS)}else o.keyboard.isPressed(n.GAME_CONFIG.UP_KEY)?this.rotateShape():o.keyboard.isPressed(n.GAME_CONFIG.DOWN_KEY)?(this.lowerShape(),this.increaseScore(n.GAME_CONFIG.LOWERED_SHAPE_BONUS)):o.keyboard.isPressed(n.GAME_CONFIG.LEFT_KEY)?t=-1:o.keyboard.isPressed(n.GAME_CONFIG.RIGHT_KEY)&&(t=1);0!==t&&(this._movingShape.cells.some(function(r){var n=r.X+t,o=e._movingShape.isPartOfShape(r.addX(t));return n<0||n===e._map.width||e._map.isCellFilled(n,r.Y)&&!o})||(this._map.clearShape(this._movingShape),this._movingShape.move(t,0),this._map.colorShape(this._movingShape)))},e.prototype.rotateShape=function(){var e=this;if(this._movingShape.origin){for(var t=[],r=0,n=this._movingShape.cells;r<n.length;r++){var o=n[r],i=o.X-this._movingShape.origin.X,a=-(o.Y-this._movingShape.origin.Y),s=i,c=this._movingShape.origin.addX(a).addY(s);t.push(c)}t.every(function(t){var r=e._movingShape.isPartOfShape(t);return e._map.isInMap(t.X,t.Y)&&(!e._map.isCellFilled(t.X,t.Y)||r)})&&(this._map.clearShape(this._movingShape),this._movingShape.cells=t,this._map.colorShape(this._movingShape))}},e.prototype.lowerShape=function(){var e=this,t=this._movingShape.cells.some(function(t){var r=t.Y+1,n=e._movingShape.isPartOfShape(t.addY(1));return r===e._map.height||e._map.isCellFilled(t.X,r)&&!n});return t||(this._map.clearShape(this._movingShape),this._movingShape.move(0,1),this._map.colorShape(this._movingShape)),t},e.prototype.handleFilledLines=function(){var e=this._map.removeFilledLines();e>0&&(this.increaseScore(e*n.GAME_CONFIG.FILLED_LINE_BONUS),this._updateEveryXFrames>0&&this._updateEveryXFrames--)},e.prototype.checkForGameOver=function(){return this._map.anyFilledOnRow(0)},e.prototype.generateRandomShape=function(){var e=Math.floor(Math.random()*this._shapeTypes.length),t=n.GAME_CONFIG.SHAPE_COLORS[e];return this._shapeFactory.createShape(this._shapeTypes[e],new i.Vector2(Math.floor(this._map.width/2),-3),t)},e.prototype.drawShapesInQueue=function(){a.canvas2D.drawText(n.GAME_CONFIG.NEXT_SHAPE_LABEL,n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.NEXT_SHAPE_LABEL_POSITION);for(var e=function(e){var r=t._shapeFactory.createShape(e.shapeType,new i.Vector2(n.GAME_CONFIG.NEXT_SHAPE_POSITION.X,n.GAME_CONFIG.NEXT_SHAPE_POSITION.Y),e.color,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE);r.cells.forEach(function(e){return a.canvas2D.drawRect(e,r.color,n.GAME_CONFIG.STROKE_COLOR,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE)})},t=this,r=0,o=this._shapesQueue;r<o.length;r++){e(o[r])}},e.prototype.update=function(){if((this.handleInput(),!(++this._frame%this._updateEveryXFrames))&&this.lowerShape())if(this.handleFilledLines(),this._gameOver=this.checkForGameOver(),this._gameOver)this.init();else{var e=this.generateRandomShape();this._shapesQueue.unshift(e),this._movingShape=this._shapesQueue.pop()}},e.prototype.drawScore=function(){a.canvas2D.drawText(n.GAME_CONFIG.SCORE_LABEL+this._score.toString(),n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.SCORE_POSITION)},e.prototype.draw=function(){this._map.draw(),this.drawScore(),this.drawShapesInQueue()},e}();t.GameWorld=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=r(2),i=r(0),a=function(){function e(e,t){this._map=[],this._width=e,this._height=t}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.init=function(){for(var e=0;e<this._height;e++){this._map[e]=[];for(var t=0;t<this._width;t++)this._map[e][t]=new n.Cell}},e.prototype.isInMap=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},e.prototype.isCellFilled=function(e,t){return this.isInMap(e,t)&&this._map[t][e].filled},e.prototype.clearCell=function(e,t){this.isInMap(e,t)&&(this._map[t][e].filled=!1)},e.prototype.clearShape=function(e){var t=this;e.cells.forEach(function(e){t.clearCell(e.X,e.Y)})},e.prototype.colorCell=function(e,t,r){this.isInMap(e,t)&&(this._map[t][e].filled=!0,this._map[t][e].color=r)},e.prototype.colorShape=function(e){var t=this;e.cells.forEach(function(r){t.colorCell(r.X,r.Y,e.color)})},e.prototype.anyFilledOnRow=function(e){return this._map[e].some(function(e){return e.filled})},e.prototype.removeFilledLines=function(){for(var e=0,t=0;t<this._map.length;t++){if(this._map[t].every(function(e){return e.filled})){e++,this._map.splice(t,1);for(var r=[],o=0;o<this._width;o++)r[o]=new n.Cell;this._map.unshift(r)}}return e},e.prototype.draw=function(){for(var e=0;e<this._map.length;e++)for(var t=0;t<this._map[e].length;t++){var r=this._map[e][t];r.filled&&o.canvas2D.drawRectAtCell(e,t,r.color,i.GAME_CONFIG.STROKE_COLOR,i.GAME_CONFIG.CELL_SIZE)}},e}();t.GameMap=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._filled=!1}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e}();t.Cell=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(1),i=r(10),a=function(){function e(){}return e.prototype.createShape=function(e,t,r,a){void 0===a&&(a=1);var s,c=[];switch(e){case n.ShapeType.I:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X,t.Y+3*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.J:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X-1*a,t.Y+2*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.L:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X+1*a,t.Y+2*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.O:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=null;break;case n.ShapeType.S:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X-1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.Z:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X-1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.T:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X-1*a,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a)}return new i.Shape(e,c,s,r)},e}();t.ShapeFactory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this._cells=[],this._color="",this._origin=null,this._shapeType=e,this._cells=t,this._color=n,this._origin=r}return Object.defineProperty(e.prototype,"shapeType",{get:function(){return this._shapeType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},set:function(e){this._cells=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),e.prototype.isPartOfShape=function(e){return this._cells.some(function(t){return t.X===e.X&&t.Y===e.Y})},e.prototype.move=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._origin&&this._origin.addToX(e).addToY(t),this.cells.forEach(function(r){return r.addToX(e).addToY(t)})},e}();t.Shape=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL1ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXQvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZVdvcmxkLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXAvR2FtZU1hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwL0NlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU2hhcGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIlVQREFURV9BRlRFUl9YX0ZSQU1FUyIsIkNFTExfU0laRSIsIk5FWFRfU0hBUEVfQ0VMTF9TSVpFIiwiQkFDS0dST1VORF9DT0xPUiIsIlNUUk9LRV9DT0xPUiIsIlNIQVBFX0NPTE9SUyIsIkZPTlQiLCJGT05UX0NPTE9SIiwiU0NPUkVfTEFCRUwiLCJORVhUX1NIQVBFX0xBQkVMIiwiU0NPUkVfUE9TSVRJT04iLCJYIiwiWSIsIk5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT04iLCJORVhUX1NIQVBFX1BPU0lUSU9OIiwiTEVGVF9LRVkiLCJSSUdIVF9LRVkiLCJVUF9LRVkiLCJET1dOX0tFWSIsIkRST1AiLCJGSUxMRURfTElORV9CT05VUyIsIkRST1BQRURfU0hBUEVfQk9OVVMiLCJMT1dFUkVEX1NIQVBFX0JPTlVTIiwiVmVjdG9yMiIsIngiLCJ5IiwidGhpcyIsIl94IiwiX3kiLCJhZGRYIiwiYWRkVG9YIiwiYWRkWSIsImFkZFRvWSIsImFkZCIsIlZlY3RvcjJfMSIsIkNhbnZhczJEIiwiY2FudmFzIiwiX2NhbnZhcyIsIl9jb250ZXh0IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiY2xlYXIiLCJjbGVhclJlY3QiLCJkcmF3QmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsInNhdmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJlc3RvcmUiLCJkcmF3UmVjdCIsInBvc2l0aW9uIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJkcmF3VGV4dCIsInRleHQiLCJmb250IiwiY29sb3IiLCJmaWxsVGV4dCIsImRyYXdSZWN0QXRDZWxsIiwiaiIsImNlbGxTaXplIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhczJEIiwiS2V5Ym9hcmQiLCJfdGhpcyIsImtleXNQcmVzc2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlEb3duIiwiZXZlbnQiLCJrZXlDb2RlIiwicmVzZXQiLCJpc1ByZXNzZWQiLCJrZXlib2FyZCIsIlNoYXBlVHlwZSIsInRldHJpcyIsIkdhbWVXb3JsZF8xIiwiS2V5Ym9hcmRfMSIsIkNhbnZhc18xIiwiZ2FtZV9jb25maWdfMSIsImdhbWVXaWR0aCIsIldpZHRoIiwiZ2FtZUhlaWdodCIsIkhlaWdodCIsImdhbWVMb29wIiwidXBkYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkdhbWVXb3JsZCIsIlNoYXBlVHlwZV8xIiwiR2FtZU1hcF8xIiwiU2hhcGVGYWN0b3J5XzEiLCJfbW92aW5nU2hhcGUiLCJfc2hhcGVzUXVldWUiLCJfc2hhcGVUeXBlcyIsIkkiLCJKIiwiTCIsIk8iLCJTIiwiWiIsIlQiLCJfc2hhcGVGYWN0b3J5IiwiU2hhcGVGYWN0b3J5IiwiX21hcCIsIkdhbWVNYXAiLCJpbml0IiwiX2dhbWVPdmVyIiwiX3Njb3JlIiwiX2ZyYW1lIiwiX3VwZGF0ZUV2ZXJ5WEZyYW1lcyIsIm5ld1NoYXBlIiwiZ2VuZXJhdGVSYW5kb21TaGFwZSIsImluY3JlYXNlU2NvcmUiLCJ0b0FkZCIsImRyb3BTaGFwZSIsIm51bU9mQ2VsbHMiLCJsb3dlclNoYXBlIiwiaGFuZGxlSW5wdXQiLCJ0b01vdmVYIiwiY2VsbHNEcm9wcGVkIiwicm90YXRlU2hhcGUiLCJjZWxscyIsInNvbWUiLCJjZWxsIiwibmV4dFgiLCJwYXJ0T2ZTaGFwZSIsImlzUGFydE9mU2hhcGUiLCJpc0NlbGxGaWxsZWQiLCJjbGVhclNoYXBlIiwibW92ZSIsImNvbG9yU2hhcGUiLCJvcmlnaW4iLCJfaSIsIl9hIiwibGVuZ3RoIiwibmV3WCIsIm5ld1kiLCJuZXdDZWxsIiwicHVzaCIsImV2ZXJ5IiwiaXNJbk1hcCIsInJlYWNoZWRCb3R0b20iLCJuZXh0WSIsImhhbmRsZUZpbGxlZExpbmVzIiwiZmlsbGVkTGluZXNDb3VudCIsInJlbW92ZUZpbGxlZExpbmVzIiwiY2hlY2tGb3JHYW1lT3ZlciIsImFueUZpbGxlZE9uUm93IiwicmFuZG9tU2hhcGVUeXBlSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzaGFwZUNvbG9yIiwiY3JlYXRlU2hhcGUiLCJkcmF3U2hhcGVzSW5RdWV1ZSIsInNoYXBlIiwiZGVtb1NoYXBlIiwidGhpc18xIiwic2hhcGVUeXBlIiwiZm9yRWFjaCIsInVuc2hpZnQiLCJwb3AiLCJkcmF3U2NvcmUiLCJ0b1N0cmluZyIsIkNlbGxfMSIsIl93aWR0aCIsIl9oZWlnaHQiLCJDZWxsIiwiZmlsbGVkIiwiY2xlYXJDZWxsIiwiY29sb3JDZWxsIiwicm93Iiwic3BsaWNlIiwibmV3Um93IiwiX2ZpbGxlZCIsIl9jb2xvciIsInYiLCJTaGFwZV8xIiwibWFyZ2luIiwic2hhcGVPcmlnaW4iLCJzaGFwZUNlbGxzIiwiU2hhcGUiLCJfY2VsbHMiLCJfb3JpZ2luIiwiX3NoYXBlVHlwZSIsInNoYXBlQ2VsbCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxH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VGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiZXhwb3J0IGNvbnN0IEdBTUVfQ09ORklHIDogYW55ID0ge1xuXG4gICAgLy8gUEhZU0lDU1xuICAgIFVQREFURV9BRlRFUl9YX0ZSQU1FUzogNDAsXG5cbiAgICAvLyBTSVpJTkdcbiAgICBDRUxMX1NJWkU6IDQwLFxuICAgIE5FWFRfU0hBUEVfQ0VMTF9TSVpFOiAxMCxcblxuICAgIC8vIENPTE9SU1xuICAgIEJBQ0tHUk9VTkRfQ09MT1I6ICcjMjgzNjNCJyxcbiAgICBTVFJPS0VfQ09MT1I6ICdibGFjaycsXG4gICAgU0hBUEVfQ09MT1JTOiBbXCIjRjlCMzhGXCIsIFwiI0JGNkM4NlwiLCBcIiM4NEFGOUNcIiwgXCIjNkQ1QzgwXCIsIFwiI0ZGQTNEMFwiLCBcIiM0MzlGOUVcIiwgXCIjRUY1RjNDXCJdLFxuICAgIFxuICAgIC8vIFRFWFRcbiAgICBGT05UOiAnMjBweCBDb21pYyBTYW5zIE1TJywgICAgXG4gICAgRk9OVF9DT0xPUjogJ3doaXRlJyxcbiAgICBTQ09SRV9MQUJFTDogJ1Njb3JlOiAnLFxuICAgIE5FWFRfU0hBUEVfTEFCRUw6ICdOZXh0IFNoYXBlOiAnLFxuXG4gICAgLy8gUE9TSVRJT05TXG4gICAgU0NPUkVfUE9TSVRJT046IHtYOiAxMCwgWTogMjV9LFxuICAgIE5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT046IHtYOiA0MDAsIFk6IDI1fSxcbiAgICBORVhUX1NIQVBFX1BPU0lUSU9OOiB7WDogNTQ1LCBZOiA4fSxcblxuICAgIC8vIEtFWVNcbiAgICBMRUZUX0tFWTogMzcsXG4gICAgUklHSFRfS0VZOiAzOSxcbiAgICBVUF9LRVk6IDM4LFxuICAgIERPV05fS0VZOiA0MCxcbiAgICBEUk9QOiAxMyxcblxuICAgIC8vIFJVTEVTXG4gICAgRklMTEVEX0xJTkVfQk9OVVM6IDEwMCxcbiAgICBEUk9QUEVEX1NIQVBFX0JPTlVTOiAyLFxuICAgIExPV0VSRURfU0hBUEVfQk9OVVM6IDEsXG59O1xuIiwiXG5leHBvcnQgY2xhc3MgVmVjdG9yMiB7XG4gICAgcHJpdmF0ZSBfeDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3k6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICB9XG5cbiAgICBnZXQgWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgfVxuICAgIFxuICAgIGdldCBZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IFplcm8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCAwKTtcbiAgICB9XG5cbiAgICBhZGRYKHg6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy5feCwgdGhpcy5feSkuYWRkVG9YKHgpO1xuICAgIH1cblxuICAgIGFkZFkoeTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1koeSk7XG4gICAgfVxuXG4gICAgYWRkVG9YKHg6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ICs9IHg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZFRvWSh5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5feSArPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGQoeCA6IG51bWJlciwgeTogbnVtYmVyKSA6IHZvaWR7XG4gICAgICAgIHRoaXMuYWRkVG9YKHgpO1xuICAgICAgICB0aGlzLmFkZFRvWSh5KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vZ2VvbS9WZWN0b3IyJztcblxuY2xhc3MgQ2FudmFzMkQge1xuXG4gICAgcHJpdmF0ZSBfY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29udGV4dCA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAvL3RoaXMuZml4RFBJKCk7XG4gICAgfVxuXG4gICAgZ2V0IFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzLndpZHRoO1xuICAgIH1cbiAgICBcbiAgICBnZXQgSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FudmFzLmhlaWdodDtcbiAgICB9XG5cbiAgICBjbGVhcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIGZpeERQSSgpe1xuICAgIC8vICAgICAvL2dldCBEUElcbiAgICAvLyAgICAgbGV0IGRwaTogbnVtYmVyID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cbiAgICAvLyAgICAgLy9nZXQgQ1NTIGhlaWdodFxuICAgIC8vICAgICAvL3RoZSArIHByZWZpeCBjYXN0cyBpdCB0byBhbiBpbnRlZ2VyXG4gICAgLy8gICAgIC8vdGhlIHNsaWNlIG1ldGhvZCBnZXRzIHJpZCBvZiBcInB4XCJcbiAgICAvLyAgICAgbGV0IHN0eWxlX2hlaWdodDogbnVtYmVyID0gK2dldENvbXB1dGVkU3R5bGUodGhpcy5fY2FudmFzKS5nZXRQcm9wZXJ0eVZhbHVlKFwiaGVpZ2h0XCIpLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgXG4gICAgLy8gICAgIC8vZ2V0IENTUyB3aWR0aFxuICAgIC8vICAgICBsZXQgc3R5bGVfd2lkdGg6IG51bWJlciA9ICtnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2NhbnZhcykuZ2V0UHJvcGVydHlWYWx1ZShcIndpZHRoXCIpLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgXG4gICAgLy8gICAgIC8vc2NhbGUgdGhlIGNhbnZhc1xuICAgIC8vICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAoc3R5bGVfaGVpZ2h0ICogZHBpKS50b1N0cmluZygpKTtcbiAgICAvLyAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAoc3R5bGVfd2lkdGggKiBkcGkpLnRvU3RyaW5nKCkpO1xuICAgIC8vIH1cblxuICAgIGRyYXdCYWNrZ3JvdW5kKGJhY2tncm91bmRDb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc2F2ZSgpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBkcmF3UmVjdChwb3NpdGlvbjogVmVjdG9yMiwgZmlsbENvbG9yOiBzdHJpbmcsIHN0cm9rZUNvbG9yOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zdHJva2VTdHlsZSA9IHN0cm9rZUNvbG9yO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsUmVjdChwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zdHJva2VSZWN0KHBvc2l0aW9uLlgsIHBvc2l0aW9uLlksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBkcmF3VGV4dCh0ZXh0OiBzdHJpbmcsIGZvbnQ6c3RyaW5nLCBjb2xvcjogc3RyaW5nLCBwb3NpdGlvbjogVmVjdG9yMik6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsVGV4dCh0ZXh0LCBwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1JlY3RBdENlbGwoaTogbnVtYmVyLCBqOiBudW1iZXIsIGZpbGxDb2xvcjogc3RyaW5nLCBzdHJva2VDb2xvcjogc3RyaW5nLCBjZWxsU2l6ZTogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmRyYXdSZWN0KG5ldyBWZWN0b3IyKGogKiBjZWxsU2l6ZSxpICogY2VsbFNpemUpLCBmaWxsQ29sb3IsIHN0cm9rZUNvbG9yLCBjZWxsU2l6ZSwgY2VsbFNpemUpO1xuICAgIH1cbn1cblxuY29uc3QgY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5leHBvcnQgY29uc3QgY2FudmFzMkQgPSBuZXcgQ2FudmFzMkQoY2FudmFzKTsiLCJcbmNsYXNzIEtleWJvYXJkIHtcblxuICAgIGtleXNQcmVzc2VkIDogYm9vbGVhbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7dGhpcy5rZXlEb3duKGUpIH0pO1xuICAgIH1cblxuICAgIGtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZFtldmVudC5rZXlDb2RlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzZXQoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmtleXNQcmVzc2VkID0gW107XG4gICAgfVxuXG4gICAgaXNQcmVzc2VkKGtleUNvZGU6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlzUHJlc3NlZFtrZXlDb2RlXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpOyIsImV4cG9ydCBlbnVtIFNoYXBlVHlwZSB7XG4gICAgSSxcbiAgICBKLFxuICAgIEwsXG4gICAgUyxcbiAgICBaLFxuICAgIE8sXG4gICAgVFxufSIsImltcG9ydCB7IEdhbWVXb3JsZCB9IGZyb20gJy4vR2FtZVdvcmxkJztcbmltcG9ydCB7IGtleWJvYXJkIH0gZnJvbSAnLi9pbnB1dC9LZXlib2FyZCc7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5cbmNvbnN0IGdhbWVXaWR0aCA9IGNhbnZhczJELldpZHRoIC8gR0FNRV9DT05GSUcuQ0VMTF9TSVpFO1xuY29uc3QgZ2FtZUhlaWdodCA9IGNhbnZhczJELkhlaWdodCAvIEdBTUVfQ09ORklHLkNFTExfU0laRTtcblxubGV0IHRldHJpczogR2FtZVdvcmxkO1xuXG5mdW5jdGlvbiBzdGFydCgpIHtcbiAgICB0ZXRyaXMgPSBuZXcgR2FtZVdvcmxkKGdhbWVXaWR0aCwgZ2FtZUhlaWdodCk7XG4gICAgZ2FtZUxvb3AoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHRldHJpcy51cGRhdGUoKTtcbiAgICBrZXlib2FyZC5yZXNldCgpO1xufVxuXG5mdW5jdGlvbiBkcmF3KCkge1xuICAgIC8vY2FudmFzMkQuZml4RFBJKCk7XG4gICAgY2FudmFzMkQuY2xlYXIoKTtcbiAgICBjYW52YXMyRC5kcmF3QmFja2dyb3VuZChHQU1FX0NPTkZJRy5CQUNLR1JPVU5EX0NPTE9SKTtcbiAgICB0ZXRyaXMuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBnYW1lTG9vcCgpIHtcbiAgICB1cGRhdGUoKTtcbiAgICBkcmF3KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbn1cblxuc3RhcnQoKTsiLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsga2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL2dlb20vVmVjdG9yMic7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi9zaGFwZS9TaGFwZSc7XG5pbXBvcnQgeyBTaGFwZVR5cGUgfSBmcm9tICcuL3NoYXBlL1NoYXBlVHlwZSc7XG5pbXBvcnQgeyBHYW1lTWFwIH0gZnJvbSAnLi9tYXAvR2FtZU1hcCc7XG5pbXBvcnQgeyBTaGFwZUZhY3RvcnkgfSBmcm9tICcuL3NoYXBlL1NoYXBlRmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lV29ybGQge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX21hcDogR2FtZU1hcDtcbiAgICBwcml2YXRlIF91cGRhdGVFdmVyeVhGcmFtZXM6IG51bWJlcjtcbiAgICBwcml2YXRlIF9mcmFtZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX21vdmluZ1NoYXBlOiBTaGFwZSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfc2hhcGVzUXVldWU6IFNoYXBlW10gPSBbXTtcbiAgICBwcml2YXRlIF9zY29yZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyIDogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9zaGFwZUZhY3Rvcnk6IFNoYXBlRmFjdG9yeTtcblxuICAgIHByaXZhdGUgX3NoYXBlVHlwZXM6IFNoYXBlVHlwZVtdID0gW1xuICAgICAgICBTaGFwZVR5cGUuSSxcbiAgICAgICAgU2hhcGVUeXBlLkosXG4gICAgICAgIFNoYXBlVHlwZS5MLFxuICAgICAgICBTaGFwZVR5cGUuTyxcbiAgICAgICAgU2hhcGVUeXBlLlMsXG4gICAgICAgIFNoYXBlVHlwZS5aLFxuICAgICAgICBTaGFwZVR5cGUuVFxuICAgIF07XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuICAgIFxuICAgIHB1YmxpYyBnZXQgZ2FtZU92ZXIoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZU92ZXI7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVGYWN0b3J5ID0gbmV3IFNoYXBlRmFjdG9yeSgpO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgR2FtZU1hcCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gMDsgXG4gICAgICAgIHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcyA9IEdBTUVfQ09ORklHLlVQREFURV9BRlRFUl9YX0ZSQU1FUztcbiAgICAgICAgdGhpcy5fbWFwLmluaXQoKTtcbiAgICAgICAgY29uc3QgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgIHRoaXMuX3NoYXBlc1F1ZXVlID0gW25ld1NoYXBlXTtcbiAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUgPSB0aGlzLmdlbmVyYXRlUmFuZG9tU2hhcGUoKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVByaXZhdGUgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIGluY3JlYXNlU2NvcmUodG9BZGQ6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdG9BZGQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcm9wU2hhcGUoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IG51bU9mQ2VsbHMgPSAwO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUoIXRoaXMubG93ZXJTaGFwZSgpKXtcbiAgICAgICAgICAgIG51bU9mQ2VsbHMrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtT2ZDZWxscztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUlucHV0KCk6IHZvaWQge1xuXG4gICAgICAgIGxldCB0b01vdmVYID0gMDtcblxuICAgICAgICBpZihrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuRFJPUCkpIHtcbiAgICAgICAgICAgIGxldCBjZWxsc0Ryb3BwZWQgPSB0aGlzLmRyb3BTaGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKGNlbGxzRHJvcHBlZCAqIEdBTUVfQ09ORklHLkRST1BQRURfU0hBUEVfQk9OVVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLlVQX0tFWSkpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRlU2hhcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuRE9XTl9LRVkpKSB7XG4gICAgICAgICAgICB0aGlzLmxvd2VyU2hhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTY29yZShHQU1FX0NPTkZJRy5MT1dFUkVEX1NIQVBFX0JPTlVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuTEVGVF9LRVkpKSB7XG4gICAgICAgICAgICB0b01vdmVYID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLlJJR0hUX0tFWSkpIHtcbiAgICAgICAgICAgIHRvTW92ZVggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodG9Nb3ZlWCAhPT0gMCl7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlYWNoZWRCb3JkZXIgPSB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscy5zb21lKGNlbGwgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRYID0gY2VsbC5YICsgdG9Nb3ZlWDtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0T2ZTaGFwZSA9IHRoaXMuX21vdmluZ1NoYXBlLmlzUGFydE9mU2hhcGUoY2VsbC5hZGRYKHRvTW92ZVgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFggPCAwIHx8IG5leHRYID09PSB0aGlzLl9tYXAud2lkdGggfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX21hcC5pc0NlbGxGaWxsZWQobmV4dFgsIGNlbGwuWSkgJiYgIXBhcnRPZlNoYXBlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZighcmVhY2hlZEJvcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5jbGVhclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZS5tb3ZlKHRvTW92ZVgsIDApO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5jb2xvclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcm90YXRlU2hhcGUoKTogdm9pZCB7XG5cbiAgICAgICAgaWYoIXRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbil7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3U2hhcGUgPSBbXTtcblxuICAgICAgICBmb3IobGV0IGNlbGwgb2YgdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMpIHtcbiAgICAgICAgICAgIGxldCB4ID0gY2VsbC5YIC0gdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luLlg7XG4gICAgICAgICAgICBsZXQgeSA9IGNlbGwuWSAtIHRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbi5ZO1xuICAgICAgICAgICAgbGV0IG5ld1ggPSAteTtcbiAgICAgICAgICAgIGxldCBuZXdZID0geDtcblxuICAgICAgICAgICAgbGV0IG5ld0NlbGwgPSB0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4uYWRkWChuZXdYKS5hZGRZKG5ld1kpO1xuICAgICAgICAgICAgbmV3U2hhcGUucHVzaChuZXdDZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3NzaWJsZVJvdGF0aW9uID0gbmV3U2hhcGUuZXZlcnkoY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0T2ZTaGFwZSA9IHRoaXMuX21vdmluZ1NoYXBlLmlzUGFydE9mU2hhcGUoY2VsbCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmlzSW5NYXAoY2VsbC5YLCBjZWxsLlkpICYmXG4gICAgICAgICAgICAgICAgKCF0aGlzLl9tYXAuaXNDZWxsRmlsbGVkKGNlbGwuWCwgY2VsbC5ZKSB8fCBwYXJ0T2ZTaGFwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKHBvc3NpYmxlUm90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jbGVhclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzID0gbmV3U2hhcGU7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY29sb3JTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvd2VyU2hhcGUoKTogYm9vbGVhbiB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZWFjaGVkQm90dG9tID0gdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMuc29tZShjZWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRZOiBudW1iZXIgPSBjZWxsLlkgKyAxO1xuICAgICAgICAgICAgY29uc3QgcGFydE9mU2hhcGUgPSB0aGlzLl9tb3ZpbmdTaGFwZS5pc1BhcnRPZlNoYXBlKGNlbGwuYWRkWSgxKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFkgPT09IHRoaXMuX21hcC5oZWlnaHQgfHxcbiAgICAgICAgICAgICAgICAgICAodGhpcy5fbWFwLmlzQ2VsbEZpbGxlZChjZWxsLlgsIG5leHRZKSAmJiAhcGFydE9mU2hhcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZighcmVhY2hlZEJvdHRvbSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNsZWFyU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUubW92ZSgwLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jb2xvclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWFjaGVkQm90dG9tO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRmlsbGVkTGluZXMoKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBsZXQgZmlsbGVkTGluZXNDb3VudCA9IHRoaXMuX21hcC5yZW1vdmVGaWxsZWRMaW5lcygpO1xuXG4gICAgICAgIGlmKGZpbGxlZExpbmVzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmluY3JlYXNlU2NvcmUoZmlsbGVkTGluZXNDb3VudCAqIEdBTUVfQ09ORklHLkZJTExFRF9MSU5FX0JPTlVTKTtcblxuICAgICAgICAgICAgaWYodGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0ZvckdhbWVPdmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmFueUZpbGxlZE9uUm93KDApO1xuICAgIH0gXG5cbiAgICBwcml2YXRlIGdlbmVyYXRlUmFuZG9tU2hhcGUoKTogU2hhcGUge1xuICAgICAgICBjb25zdCByYW5kb21TaGFwZVR5cGVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3NoYXBlVHlwZXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IHNoYXBlQ29sb3IgPSBHQU1FX0NPTkZJRy5TSEFQRV9DT0xPUlNbcmFuZG9tU2hhcGVUeXBlSW5kZXhdO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlRmFjdG9yeS5jcmVhdGVTaGFwZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcGVUeXBlc1tyYW5kb21TaGFwZVR5cGVJbmRleF0sIFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihNYXRoLmZsb29yKHRoaXMuX21hcC53aWR0aCAvIDIpLCAtMyksXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlQ29sb3JcbiAgICAgICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd1NoYXBlc0luUXVldWUoKTogdm9pZCB7XG4gICAgICAgIGNhbnZhczJELmRyYXdUZXh0KFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfTEFCRUwsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLkZPTlQsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLkZPTlRfQ09MT1IsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT05cbiAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IHNoYXBlIG9mIHRoaXMuX3NoYXBlc1F1ZXVlKXtcbiAgICAgICAgICAgIGxldCBkZW1vU2hhcGUgPSB0aGlzLl9zaGFwZUZhY3RvcnkuY3JlYXRlU2hhcGUoXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLnNoYXBlVHlwZSwgXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfUE9TSVRJT04uWCwgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9QT1NJVElPTi5ZKSwgXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX0NFTExfU0laRVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGRlbW9TaGFwZS5jZWxscy5mb3JFYWNoKGNlbGwgPT4gXG4gICAgICAgICAgICAgICAgY2FudmFzMkQuZHJhd1JlY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbW9TaGFwZS5jb2xvciwgXG4gICAgICAgICAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TVFJPS0VfQ09MT1IsIFxuICAgICAgICAgICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9DRUxMX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX0NFTExfU0laRVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLS0tLS0tUHVibGljIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuICAgICAgICBpZigrK3RoaXMuX2ZyYW1lICUgdGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMubG93ZXJTaGFwZSgpO1xuICAgICAgICBpZihyZWFjaGVkQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZpbGxlZExpbmVzKCk7XG4gICAgICAgICAgICB0aGlzLl9nYW1lT3ZlciA9IHRoaXMuY2hlY2tGb3JHYW1lT3ZlcigpO1xuICAgICAgICAgICAgaWYoIXRoaXMuX2dhbWVPdmVyKXtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcGVzUXVldWUudW5zaGlmdChuZXdTaGFwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUgPSB0aGlzLl9zaGFwZXNRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdTY29yZSgpOiB2b2lkIHtcbiAgICAgICAgY2FudmFzMkQuZHJhd1RleHQoXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuU0NPUkVfTEFCRUwgKyB0aGlzLl9zY29yZS50b1N0cmluZygpLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5GT05ULCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5GT05UX0NPTE9SLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TQ09SRV9QT1NJVElPTlxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWFwLmRyYXcoKTtcbiAgICAgICAgdGhpcy5kcmF3U2NvcmUoKTtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGVzSW5RdWV1ZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4vLi4vc2hhcGUvU2hhcGUnO1xuaW1wb3J0IHsgQ2VsbCB9IGZyb20gXCIuL0NlbGxcIjtcbmltcG9ydCB7IGNhbnZhczJEIH0gZnJvbSBcIi4uL0NhbnZhc1wiO1xuaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tIFwiLi4vZ2FtZS5jb25maWdcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwIHtcblxuICAgIHByaXZhdGUgX21hcDogQ2VsbFtdW107XG4gICAgcHJpdmF0ZSBfaGVpZ2h0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlcjtcblxuICAgIFxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lke1xuICAgICAgICBmb3IobGV0IGk6IG51bWJlciA9IDAgOyBpIDwgdGhpcy5faGVpZ2h0IDsgaSsrICl7XG4gICAgICAgICAgICB0aGlzLl9tYXBbaV0gPSBbXTtcblxuICAgICAgICAgICAgZm9yKGxldCBqOiBudW1iZXIgPSAwIDsgaiA8IHRoaXMuX3dpZHRoIDsgaisrKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBbaV1bal0gPSBuZXcgQ2VsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGlzSW5NYXAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy5fd2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGlzQ2VsbEZpbGxlZCh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0luTWFwKHgseSkgJiYgdGhpcy5fbWFwW3ldW3hdLmZpbGxlZDtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBjbGVhckNlbGwoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5pc0luTWFwKHgsIHkpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uZmlsbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJTaGFwZShzaGFwZTogU2hhcGUpOiB2b2lkIHtcbiAgICAgICAgc2hhcGUuY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDZWxsKGNlbGwuWCwgY2VsbC5ZKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbG9yQ2VsbCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLmlzSW5NYXAoeCwgeSkpe1xuICAgICAgICAgICAgdGhpcy5fbWFwW3ldW3hdLmZpbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uY29sb3IgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjb2xvclNoYXBlKHNoYXBlOiBTaGFwZSk6IHZvaWQge1xuICAgICAgICBzaGFwZS5jZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xvckNlbGwoY2VsbC5YLCBjZWxsLlksIHNoYXBlLmNvbG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFueUZpbGxlZE9uUm93KHJvdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBbcm93XS5zb21lKGNlbGwgPT4gY2VsbC5maWxsZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVGaWxsZWRMaW5lcygpOiBudW1iZXIge1xuICAgICAgICAgICAgXG4gICAgICAgIGxldCBmaWxsZWRMaW5lc0NvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tYXAubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxsZWRMaW5lIDogYm9vbGVhbiA9IHRoaXMuX21hcFtpXS5ldmVyeShjZWxsID0+IGNlbGwuZmlsbGVkKTtcblxuICAgICAgICAgICAgaWYoZmlsbGVkTGluZSkge1xuICAgICAgICAgICAgICAgIGZpbGxlZExpbmVzQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1JvdzogQ2VsbFtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMCA7IGogPCB0aGlzLl93aWR0aCA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdSb3dbal0gPSBuZXcgQ2VsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX21hcC51bnNoaWZ0KG5ld1Jvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsbGVkTGluZXNDb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tYXAubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdGhpcy5fbWFwW2ldLmxlbmd0aCA7IGorKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbDogQ2VsbCA9IHRoaXMuX21hcFtpXVtqXTtcbiAgICAgICAgICAgICAgICBpZihjZWxsLmZpbGxlZCl7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhczJELmRyYXdSZWN0QXRDZWxsKGksIGosIGNlbGwuY29sb3IsIEdBTUVfQ09ORklHLlNUUk9LRV9DT0xPUiwgR0FNRV9DT05GSUcuQ0VMTF9TSVpFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgQ2VsbCB7XG5cbiAgICBwcml2YXRlIF9maWxsZWQgOiBib29sZWFuO1xuICAgIHByaXZhdGUgX2NvbG9yIDogc3RyaW5nO1xuXG4gICAgcHVibGljIGdldCBjb2xvcigpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNvbG9yKHYgOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29sb3IgPSB2O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZmlsbGVkKCkgOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxlZDtcbiAgICB9XG4gICAgcHVibGljIHNldCBmaWxsZWQodiA6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fZmlsbGVkID0gdjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZmlsbGVkID0gZmFsc2U7XG4gICAgfVxuICAgIFxufSIsImltcG9ydCB7IFNoYXBlVHlwZSB9IGZyb20gXCIuL1NoYXBlVHlwZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSBcIi4uL2dhbWUuY29uZmlnXCI7XG5cbmV4cG9ydCBjbGFzcyBTaGFwZUZhY3Rvcnkge1xuICAgIHB1YmxpYyBjcmVhdGVTaGFwZShzaGFwZVR5cGU6IFNoYXBlVHlwZSwgcG9zaXRpb246IFZlY3RvcjIsIHNoYXBlQ29sb3I6IHN0cmluZywgbWFyZ2luOiBudW1iZXIgPSAxKTogU2hhcGUge1xuXG4gICAgICAgIGxldCBzaGFwZUNlbGxzOiBWZWN0b3IyW10gPSBbXTtcbiAgICAgICAgbGV0IHNoYXBlT3JpZ2luOiBWZWN0b3IyO1xuXG4gICAgICAgIHN3aXRjaChzaGFwZVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkk6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDIgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMyAqIG1hcmdpbilcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSjpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMiAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMiAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkw6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSApLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAyICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAyICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTzpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5TOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSAqIG1hcmdpbiwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuWjpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlQ6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlVHlwZSwgc2hhcGVDZWxscywgc2hhcGVPcmlnaW4sIHNoYXBlQ29sb3IpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTaGFwZVR5cGUgfSBmcm9tICcuL1NoYXBlVHlwZSc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi8uLi9nZW9tL1ZlY3RvcjInO1xuXG5leHBvcnQgY2xhc3MgU2hhcGUge1xuXG4gICAgcHJpdmF0ZSBfY2VsbHM6IFZlY3RvcjJbXSA9IFtdO1xuICAgIHByaXZhdGUgX2NvbG9yOiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIF9vcmlnaW46IFZlY3RvcjIgPSBudWxsO1xuICAgIHByaXZhdGUgX3NoYXBlVHlwZTogU2hhcGVUeXBlO1xuICAgIFxuICAgIHB1YmxpYyBnZXQgc2hhcGVUeXBlKCkgOiBTaGFwZVR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hhcGVUeXBlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGNlbGxzKCkgOiBWZWN0b3IyW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbHM7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY2VsbHMoY2VsbHMgOiBWZWN0b3IyW10pIHtcbiAgICAgICAgdGhpcy5fY2VsbHMgPSBjZWxscztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IG9yaWdpbigpIDogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmlnaW47XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgb3JpZ2luKG9yaWdpbiA6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gb3JpZ2luO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY29sb3IoY29sb3IgOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb2xvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc3RydWN0b3Ioc2hhcGVUeXBlOiBTaGFwZVR5cGUsIGNlbGxzOiBWZWN0b3IyW10sIG9yaWdpbjogVmVjdG9yMiwgY29sb3I6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zaGFwZVR5cGUgPSBzaGFwZVR5cGU7XG4gICAgICAgIHRoaXMuX2NlbGxzID0gY2VsbHM7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IG9yaWdpbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNQYXJ0T2ZTaGFwZShjZWxsOiBWZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxscy5zb21lKHNoYXBlQ2VsbCA9PiBzaGFwZUNlbGwuWCA9PT0gY2VsbC5YICYmIHNoYXBlQ2VsbC5ZID09PSBjZWxsLlkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApIHtcbiAgICAgICAgaWYodGhpcy5fb3JpZ2luKXtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbi5hZGRUb1goeCkuYWRkVG9ZKHkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goY2VsbCA9PiBjZWxsLmFkZFRvWCh4KS5hZGRUb1koeSkpO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9