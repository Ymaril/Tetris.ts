!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_CONFIG={UPDATE_AFTER_X_FRAMES:40,GAME_WIDTH:15,GAME_HEIGHT:20,CANVAS_MIN_WIDTH:300,CANVAS_MIN_HEIGHT:400,CELL_SIZE:20,NEXT_SHAPE_CELL_SIZE:5,STROKE_WIDTH:.5,BACKGROUND_COLOR:"#28363B",STROKE_COLOR:"black",SHAPE_COLORS:["#F9B38F","#BF6C86","#84AF9C","#6D5C80","#FFA3D0","#439F9E","#EF5F3C"],SCORE_LABEL_FONT:"10px Comic Sans MS",NEXT_SHAPE_LABEL_FONT:"10px Comic Sans MS",GAME_OVER_LABEL_FONT:"25px Comic Sans MS",GAME_OVER_YOUR_SCORE_LABEL_FONT:"15px Comic Sans MS",FONT_COLOR:"white",SCORE_LABEL:"Score: ",NEXT_SHAPE_LABEL:"Next Shape: ",GAME_OVER_LABEL:"Game Over!",GAME_OVER_YOUR_SCORE_LABEL:"Your Score: ",NEXT_SHAPE_POSITION:{X:283,Y:6},SCORE_LABEL_POSITION:{X:5,Y:13,ALIGNMENT:"left"},NEXT_SHAPE_LABEL_POSITION:{X:215,Y:13,ALIGNMENT:"left"},GAME_OVER_LABEL_POSITION:{X:150,Y:200,ALIGNMENT:"center"},GAME_OVER_YOUR_SCORE_LABEL_POSITION:{X:150,Y:235,ALIGNMENT:"center"},START_KEY:32,LEFT_KEY:37,RIGHT_KEY:39,UP_KEY:38,DOWN_KEY:40,DROP:13,FILLED_LINE_BONUS:100,DROPPED_SHAPE_BONUS:2,LOWERED_SHAPE_BONUS:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"X",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Zero",{get:function(){return new e(0,0)},enumerable:!0,configurable:!0}),e.prototype.addX=function(t){return new e(this._x,this._y).addToX(t)},e.prototype.addY=function(t){return new e(this._x,this._y).addToY(t)},e.prototype.addToX=function(e){return this._x+=e,this},e.prototype.addToY=function(e){return this._y+=e,this},e.prototype.add=function(e,t){return this.addToX(e),this.addToY(t),this},e}();t.Vector2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=function(){function e(e,t){this._canvasContainer=t,this._canvas=e,this._context=this._canvas.getContext("2d"),this.resizeCanvas()}return e.prototype.fixDPI=function(e){this._dpi=window.devicePixelRatio;var t=+getComputedStyle(this._canvas).getPropertyValue("height").slice(0,-2),n=+getComputedStyle(this._canvas).getPropertyValue("width").slice(0,-2);this._canvas.setAttribute("height",(t*this._dpi).toString()),this._canvas.setAttribute("width",(n*this._dpi).toString()),this._context.scale(this._dpi*e.X,this._dpi*e.Y)},e.prototype.resizeCanvas=function(){var e=r.GAME_CONFIG.GAME_WIDTH*r.GAME_CONFIG.CELL_SIZE,t=r.GAME_CONFIG.GAME_HEIGHT*r.GAME_CONFIG.CELL_SIZE,n=e/t,o=window.innerHeight-10>=r.GAME_CONFIG.CANVAS_MIN_HEIGHT?window.innerHeight-10:r.GAME_CONFIG.CANVAS_MIN_HEIGHT,a=window.innerWidth>=r.GAME_CONFIG.CANVAS_MIN_WIDTH?window.innerWidth:r.GAME_CONFIG.CANVAS_MIN_WIDTH;a=a/o>n?o*n:a/n,this._canvasContainer.style.width=a+"px",this._canvasContainer.style.height=o+"px",this._canvasContainer.style.marginLeft=(window.innerWidth-20-a)/2+"px",this._canvasContainer.style.marginRight=(window.innerWidth-20-a)/2+"px";var s=new i.Vector2(a/e,o/t);this._canvas.width=a,this._canvas.height=o,this.fixDPI(s)},e.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.drawBackground=function(e){this._context.save(),this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._context.restore()},e.prototype.drawRect=function(e,t,n,i,o){this._context.save(),this._context.lineWidth=r.GAME_CONFIG.STROKE_WIDTH,this._context.strokeStyle=n,this._context.fillStyle=t,this._context.fillRect(e.X,e.Y,i,o),this._context.strokeRect(e.X,e.Y,i,o),this._context.restore()},e.prototype.drawText=function(e,t,n,r,i){void 0===i&&(i="left"),this._context.save(),this._context.fillStyle=n,this._context.font=t,this._context.textAlign=i,this._context.fillText(e,r.X,r.Y),this._context.restore()},e.prototype.drawRectAtCell=function(e,t,n,r,o){this.drawRect(new i.Vector2(t*o,e*o),n,r,o,o)},e}(),a=document.getElementById("screen"),s=document.getElementById("screen");t.canvas2D=new o(a,s),window.addEventListener("resize",t.canvas2D.resizeCanvas.bind(t.canvas2D))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this._keysPressed=[],document.addEventListener("keydown",function(t){e.keyDown(t)})}return e.prototype.keyDown=function(e){this._keysPressed[e.keyCode]=!0},e.prototype.reset=function(){this._keysPressed=[]},e.prototype.isPressed=function(e){return this._keysPressed[e]},e}();t.keyboard=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.S=3]="S",e[e.Z=4]="Z",e[e.O=5]="O",e[e.T=6]="T"}(t.ShapeType||(t.ShapeType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=n(3),a=n(2),s=n(0);function _(){r.gameOver?(a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),a.canvas2D.drawText(s.GAME_CONFIG.GAME_OVER_LABEL,s.GAME_CONFIG.GAME_OVER_LABEL_FONT,s.GAME_CONFIG.FONT_COLOR,s.GAME_CONFIG.GAME_OVER_LABEL_POSITION,s.GAME_CONFIG.GAME_OVER_LABEL_POSITION.ALIGNMENT),a.canvas2D.drawText(s.GAME_CONFIG.GAME_OVER_YOUR_SCORE_LABEL+r.score,s.GAME_CONFIG.GAME_OVER_YOUR_SCORE_LABEL_FONT,s.GAME_CONFIG.FONT_COLOR,s.GAME_CONFIG.GAME_OVER_YOUR_SCORE_LABEL_POSITION,s.GAME_CONFIG.GAME_OVER_LABEL_POSITION.ALIGNMENT),o.keyboard.isPressed(s.GAME_CONFIG.START_KEY)&&r.init()):(r.update(),a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),r.draw()),o.keyboard.reset(),requestAnimationFrame(_)}r=new i.GameWorld(s.GAME_CONFIG.GAME_WIDTH,s.GAME_CONFIG.GAME_HEIGHT),_()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(1),a=n(2),s=n(4),_=n(7),c=n(9),h=function(){function e(e,t){this._movingShape=null,this._shapesQueue=[],this._shapeTypes=[s.ShapeType.I,s.ShapeType.J,s.ShapeType.L,s.ShapeType.O,s.ShapeType.S,s.ShapeType.Z,s.ShapeType.T],this._shapeFactory=new c.ShapeFactory,this._map=new _.GameMap(e,t),this.init()}return Object.defineProperty(e.prototype,"gameOver",{get:function(){return this._gameOver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),e.prototype.increaseScore=function(e){this._score+=e},e.prototype.dropShape=function(){for(var e=0;!this.lowerShape();)e++;return e},e.prototype.handleInput=function(){var e=this,t=0;if(i.keyboard.isPressed(r.GAME_CONFIG.DROP)){var n=this.dropShape();this.increaseScore(n*r.GAME_CONFIG.DROPPED_SHAPE_BONUS)}else i.keyboard.isPressed(r.GAME_CONFIG.UP_KEY)?this.rotateShape():i.keyboard.isPressed(r.GAME_CONFIG.DOWN_KEY)?(this.lowerShape(),this.increaseScore(r.GAME_CONFIG.LOWERED_SHAPE_BONUS)):i.keyboard.isPressed(r.GAME_CONFIG.LEFT_KEY)?t=-1:i.keyboard.isPressed(r.GAME_CONFIG.RIGHT_KEY)&&(t=1);0!==t&&(this._movingShape.cells.some(function(n){var r=n.X+t,i=e._movingShape.isPartOfShape(n.addX(t));return r<0||r===e._map.width||e._map.isCellFilled(r,n.Y)&&!i})||(this._map.clearShape(this._movingShape),this._movingShape.move(t,0),this._map.colorShape(this._movingShape)))},e.prototype.rotateShape=function(){var e=this;if(this._movingShape.origin){for(var t=[],n=0,r=this._movingShape.cells;n<r.length;n++){var i=r[n],o=i.X-this._movingShape.origin.X,a=-(i.Y-this._movingShape.origin.Y),s=o,_=this._movingShape.origin.addX(a).addY(s);t.push(_)}t.every(function(t){var n=e._movingShape.isPartOfShape(t);return e._map.isInMap(t.X,t.Y)&&(!e._map.isCellFilled(t.X,t.Y)||n)})&&(this._map.clearShape(this._movingShape),this._movingShape.cells=t,this._map.colorShape(this._movingShape))}},e.prototype.lowerShape=function(){var e=this,t=this._movingShape.cells.some(function(t){var n=t.Y+1,r=e._movingShape.isPartOfShape(t.addY(1));return n===e._map.height||e._map.isCellFilled(t.X,n)&&!r});return t||(this._map.clearShape(this._movingShape),this._movingShape.move(0,1),this._map.colorShape(this._movingShape)),t},e.prototype.handleFilledLines=function(){var e=this._map.removeFilledLines();e>0&&(this.increaseScore(e*r.GAME_CONFIG.FILLED_LINE_BONUS),this._updateEveryXFrames>0&&this._updateEveryXFrames--)},e.prototype.checkForGameOver=function(){return this._map.anyFilledOnRow(0)},e.prototype.generateRandomShape=function(){var e=Math.floor(Math.random()*this._shapeTypes.length),t=r.GAME_CONFIG.SHAPE_COLORS[e];return this._shapeFactory.createShape(this._shapeTypes[e],new o.Vector2(Math.floor(this._map.width/2),-3),t)},e.prototype.drawShapesInQueue=function(){a.canvas2D.drawText(r.GAME_CONFIG.NEXT_SHAPE_LABEL,r.GAME_CONFIG.NEXT_SHAPE_LABEL_FONT,r.GAME_CONFIG.FONT_COLOR,r.GAME_CONFIG.NEXT_SHAPE_LABEL_POSITION,r.GAME_CONFIG.NEXT_SHAPE_LABEL_POSITION.ALIGNMENT);for(var e=function(e){var n=t._shapesQueue[e],i=t._shapesQueue.length-1-e,s=t._shapeFactory.createShape(n.shapeType,new o.Vector2(r.GAME_CONFIG.NEXT_SHAPE_POSITION.X+4*i*r.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE,r.GAME_CONFIG.NEXT_SHAPE_POSITION.Y),n.color,r.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE);s.cells.forEach(function(e){return a.canvas2D.drawRect(e,s.color,r.GAME_CONFIG.STROKE_COLOR,r.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE,r.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE)})},t=this,n=this._shapesQueue.length-1;n>=0;n--)e(n)},e.prototype.drawScore=function(){a.canvas2D.drawText(r.GAME_CONFIG.SCORE_LABEL+this._score.toString(),r.GAME_CONFIG.SCORE_LABEL_FONT,r.GAME_CONFIG.FONT_COLOR,r.GAME_CONFIG.SCORE_LABEL_POSITION,r.GAME_CONFIG.SCORE_LABEL_POSITION.ALIGNMENT)},e.prototype.init=function(){this._gameOver=!1,this._score=0,this._frame=0,this._updateEveryXFrames=r.GAME_CONFIG.UPDATE_AFTER_X_FRAMES,this._map.init();var e=this.generateRandomShape();this._shapesQueue=[e],this._movingShape=this.generateRandomShape()},e.prototype.update=function(){if((this.handleInput(),!(++this._frame%this._updateEveryXFrames))&&(this.lowerShape()&&(this.handleFilledLines(),this._gameOver=this.checkForGameOver(),!this._gameOver))){var e=this.generateRandomShape();this._shapesQueue.unshift(e),this._movingShape=this._shapesQueue.pop()}},e.prototype.draw=function(){this._map.draw(),this.drawScore(),this.drawShapesInQueue()},e}();t.GameWorld=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(2),o=n(0),a=function(){function e(e,t){this._map=[],this._width=e,this._height=t}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.init=function(){for(var e=0;e<this._height;e++){this._map[e]=[];for(var t=0;t<this._width;t++)this._map[e][t]=new r.Cell}},e.prototype.isInMap=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},e.prototype.isCellFilled=function(e,t){return this.isInMap(e,t)&&this._map[t][e].filled},e.prototype.clearCell=function(e,t){this.isInMap(e,t)&&(this._map[t][e].filled=!1)},e.prototype.clearShape=function(e){var t=this;e.cells.forEach(function(e){t.clearCell(e.X,e.Y)})},e.prototype.colorCell=function(e,t,n){this.isInMap(e,t)&&(this._map[t][e].filled=!0,this._map[t][e].color=n)},e.prototype.colorShape=function(e){var t=this;e.cells.forEach(function(n){t.colorCell(n.X,n.Y,e.color)})},e.prototype.anyFilledOnRow=function(e){return this._map[e].some(function(e){return e.filled})},e.prototype.removeFilledLines=function(){for(var e=0,t=0;t<this._map.length;t++){if(this._map[t].every(function(e){return e.filled})){e++,this._map.splice(t,1);for(var n=[],i=0;i<this._width;i++)n[i]=new r.Cell;this._map.unshift(n)}}return e},e.prototype.draw=function(){for(var e=0;e<this._map.length;e++)for(var t=0;t<this._map[e].length;t++){var n=this._map[e][t];n.filled&&i.canvas2D.drawRectAtCell(e,t,n.color,o.GAME_CONFIG.STROKE_COLOR,o.GAME_CONFIG.CELL_SIZE)}},e}();t.GameMap=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._filled=!1}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e}();t.Cell=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(1),o=n(10),a=function(){function e(){}return e.prototype.createShape=function(e,t,n,a){void 0===a&&(a=1);var s,_=[];switch(e){case r.ShapeType.I:_=[new i.Vector2(t.X,t.Y-1*a),new i.Vector2(t.X,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X,t.Y+2*a)],s=new i.Vector2(t.X,t.Y);break;case r.ShapeType.J:_=[new i.Vector2(t.X,t.Y-1*a),new i.Vector2(t.X,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X-1*a,t.Y+1*a)],s=new i.Vector2(t.X,t.Y);break;case r.ShapeType.L:_=[new i.Vector2(t.X,t.Y-1*a),new i.Vector2(t.X,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X+1*a,t.Y+1*a)],s=new i.Vector2(t.X,t.Y);break;case r.ShapeType.O:_=[new i.Vector2(t.X-1*a,t.Y),new i.Vector2(t.X,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X-1*a,t.Y+1*a)],s=null;break;case r.ShapeType.S:_=[new i.Vector2(t.X,t.Y),new i.Vector2(t.X+1*a,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X-1*a,t.Y+1*a)],s=new i.Vector2(t.X,t.Y+1*a);break;case r.ShapeType.Z:_=[new i.Vector2(t.X,t.Y),new i.Vector2(t.X-1*a,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X+1*a,t.Y+1*a)],s=new i.Vector2(t.X,t.Y+1*a);break;case r.ShapeType.T:_=[new i.Vector2(t.X,t.Y),new i.Vector2(t.X,t.Y+1*a),new i.Vector2(t.X-1*a,t.Y+1*a),new i.Vector2(t.X+1*a,t.Y+1*a)],s=new i.Vector2(t.X,t.Y+1*a)}return new o.Shape(e,_,s,n)},e}();t.ShapeFactory=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this._cells=[],this._color="",this._origin=null,this._shapeType=e,this._cells=t,this._color=r,this._origin=n}return Object.defineProperty(e.prototype,"shapeType",{get:function(){return this._shapeType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},set:function(e){this._cells=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),e.prototype.isPartOfShape=function(e){return this._cells.some(function(t){return t.X===e.X&&t.Y===e.Y})},e.prototype.move=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._origin&&this._origin.addToX(e).addToY(t),this.cells.forEach(function(n){return n.addToX(e).addToY(t)})},e}();t.Shape=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL1ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXQvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZVdvcmxkLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXAvR2FtZU1hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwL0NlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU2hhcGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIlVQREFURV9BRlRFUl9YX0ZSQU1FUyIsIkdBTUVfV0lEVEgiLCJHQU1FX0hFSUdIVCIsIkNBTlZBU19NSU5fV0lEVEgiLCJDQU5WQVNfTUlOX0hFSUdIVCIsIkNFTExfU0laRSIsIk5FWFRfU0hBUEVfQ0VMTF9TSVpFIiwiU1RST0tFX1dJRFRIIiwiQkFDS0dST1VORF9DT0xPUiIsIlNUUk9LRV9DT0xPUiIsIlNIQVBFX0NPTE9SUyIsIlNDT1JFX0xBQkVMX0ZPTlQiLCJORVhUX1NIQVBFX0xBQkVMX0ZPTlQiLCJHQU1FX09WRVJfTEFCRUxfRk9OVCIsIkdBTUVfT1ZFUl9ZT1VSX1NDT1JFX0xBQkVMX0ZPTlQiLCJGT05UX0NPTE9SIiwiU0NPUkVfTEFCRUwiLCJORVhUX1NIQVBFX0xBQkVMIiwiR0FNRV9PVkVSX0xBQkVMIiwiR0FNRV9PVkVSX1lPVVJfU0NPUkVfTEFCRUwiLCJORVhUX1NIQVBFX1BPU0lUSU9OIiwiWCIsIlkiLCJTQ09SRV9MQUJFTF9QT1NJVElPTiIsIkFMSUdOTUVOVCIsIk5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT04iLCJHQU1FX09WRVJfTEFCRUxfUE9TSVRJT04iLCJHQU1FX09WRVJfWU9VUl9TQ09SRV9MQUJFTF9QT1NJVElPTiIsIlNUQVJUX0tFWSIsIkxFRlRfS0VZIiwiUklHSFRfS0VZIiwiVVBfS0VZIiwiRE9XTl9LRVkiLCJEUk9QIiwiRklMTEVEX0xJTkVfQk9OVVMiLCJEUk9QUEVEX1NIQVBFX0JPTlVTIiwiTE9XRVJFRF9TSEFQRV9CT05VUyIsIlZlY3RvcjIiLCJ4IiwieSIsInRoaXMiLCJfeCIsIl95IiwiYWRkWCIsImFkZFRvWCIsImFkZFkiLCJhZGRUb1kiLCJhZGQiLCJnYW1lX2NvbmZpZ18xIiwiVmVjdG9yMl8xIiwiQ2FudmFzMkQiLCJjYW52YXMiLCJjYW52YXNDb250YWluZXIiLCJfY2FudmFzQ29udGFpbmVyIiwiX2NhbnZhcyIsIl9jb250ZXh0IiwiZ2V0Q29udGV4dCIsInJlc2l6ZUNhbnZhcyIsImZpeERQSSIsInNjYWxlIiwiX2RwaSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzdHlsZV9oZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNsaWNlIiwic3R5bGVfd2lkdGgiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsIm9yaWdpbmFsQ2FudmFzV2lkdGgiLCJvcmlnaW5hbENhbnZhc0hlaWdodCIsIndpZHRoVG9IZWlnaHQiLCJuZXdIZWlnaHQiLCJpbm5lckhlaWdodCIsIm5ld1dpZHRoIiwiaW5uZXJXaWR0aCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJjbGVhciIsImNsZWFyUmVjdCIsImRyYXdCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZENvbG9yIiwic2F2ZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImRyYXdSZWN0IiwicG9zaXRpb24iLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImRyYXdUZXh0IiwidGV4dCIsImZvbnQiLCJjb2xvciIsInRleHRBbGlnbiIsImZpbGxUZXh0IiwiZHJhd1JlY3RBdENlbGwiLCJqIiwiY2VsbFNpemUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVyIiwiY2FudmFzMkQiLCJhZGRFdmVudExpc3RlbmVyIiwiS2V5Ym9hcmQiLCJfdGhpcyIsIl9rZXlzUHJlc3NlZCIsImUiLCJrZXlEb3duIiwiZXZlbnQiLCJrZXlDb2RlIiwicmVzZXQiLCJpc1ByZXNzZWQiLCJrZXlib2FyZCIsIlNoYXBlVHlwZSIsInRldHJpcyIsIkdhbWVXb3JsZF8xIiwiS2V5Ym9hcmRfMSIsIkNhbnZhc18xIiwiZ2FtZUxvb3AiLCJnYW1lT3ZlciIsInNjb3JlIiwiaW5pdCIsInVwZGF0ZSIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJHYW1lV29ybGQiLCJTaGFwZVR5cGVfMSIsIkdhbWVNYXBfMSIsIlNoYXBlRmFjdG9yeV8xIiwiX21vdmluZ1NoYXBlIiwiX3NoYXBlc1F1ZXVlIiwiX3NoYXBlVHlwZXMiLCJJIiwiSiIsIkwiLCJPIiwiUyIsIloiLCJUIiwiX3NoYXBlRmFjdG9yeSIsIlNoYXBlRmFjdG9yeSIsIl9tYXAiLCJHYW1lTWFwIiwiX2dhbWVPdmVyIiwiX3Njb3JlIiwiaW5jcmVhc2VTY29yZSIsInRvQWRkIiwiZHJvcFNoYXBlIiwibnVtT2ZDZWxscyIsImxvd2VyU2hhcGUiLCJoYW5kbGVJbnB1dCIsInRvTW92ZVgiLCJjZWxsc0Ryb3BwZWQiLCJyb3RhdGVTaGFwZSIsImNlbGxzIiwic29tZSIsImNlbGwiLCJuZXh0WCIsInBhcnRPZlNoYXBlIiwiaXNQYXJ0T2ZTaGFwZSIsImlzQ2VsbEZpbGxlZCIsImNsZWFyU2hhcGUiLCJtb3ZlIiwiY29sb3JTaGFwZSIsIm9yaWdpbiIsIm5ld1NoYXBlIiwiX2kiLCJfYSIsImxlbmd0aCIsIm5ld1giLCJuZXdZIiwibmV3Q2VsbCIsInB1c2giLCJldmVyeSIsImlzSW5NYXAiLCJyZWFjaGVkQm90dG9tIiwibmV4dFkiLCJoYW5kbGVGaWxsZWRMaW5lcyIsImZpbGxlZExpbmVzQ291bnQiLCJyZW1vdmVGaWxsZWRMaW5lcyIsIl91cGRhdGVFdmVyeVhGcmFtZXMiLCJjaGVja0ZvckdhbWVPdmVyIiwiYW55RmlsbGVkT25Sb3ciLCJnZW5lcmF0ZVJhbmRvbVNoYXBlIiwicmFuZG9tU2hhcGVUeXBlSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzaGFwZUNvbG9yIiwiY3JlYXRlU2hhcGUiLCJkcmF3U2hhcGVzSW5RdWV1ZSIsInNoYXBlIiwidGhpc18xIiwiaW5kZXhGcm9tRW5kIiwiZGVtb1NoYXBlIiwic2hhcGVUeXBlIiwiZm9yRWFjaCIsImRyYXdTY29yZSIsIl9mcmFtZSIsInVuc2hpZnQiLCJwb3AiLCJDZWxsXzEiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiQ2VsbCIsImZpbGxlZCIsImNsZWFyQ2VsbCIsImNvbG9yQ2VsbCIsInJvdyIsInNwbGljZSIsIm5ld1JvdyIsIl9maWxsZWQiLCJfY29sb3IiLCJ2IiwiU2hhcGVfMSIsIm1hcmdpbiIsInNoYXBlT3JpZ2luIiwic2hhcGVDZWxscyIsIlNoYXBlIiwiX2NlbGxzIiwiX29yaWdpbiIsIl9zaGFwZVR5cGUi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LEtBQUEyTCxPQUFvQixHQUNwQjNMLEtBQUFvTCxPQUFpQixHQUNqQnBMLEtBQUE0TCxRQUFtQixLQTJCdkI1TCxLQUFLNkwsV0FBYTFCLEVBQ2xCbkssS0FBSzJMLE9BQVNqRSxFQUNkMUgsS0FBS29MLE9BQVN4SCxFQUNkNUQsS0FBSzRMLFFBQVV4RCxFQWdCdkIsT0F6Q0luTSxPQUFBQyxlQUFXd1AsRUFBQXZPLFVBQUEsWUFBUyxLQUFwQixXQUNJLE9BQU82QyxLQUFLNkwsNENBR2hCNVAsT0FBQUMsZUFBV3dQLEVBQUF2TyxVQUFBLFFBQUssS0FBaEIsV0FDSSxPQUFPNkMsS0FBSzJMLFlBRWhCLFNBQWlCakUsR0FDYjFILEtBQUsyTCxPQUFTakUsbUNBR2xCekwsT0FBQUMsZUFBV3dQLEVBQUF2TyxVQUFBLFNBQU0sS0FBakIsV0FDSSxPQUFPNkMsS0FBSzRMLHlDQUdoQjNQLE9BQUFDLGVBQVd3UCxFQUFBdk8sVUFBQSxRQUFLLEtBQWhCLFdBQ0ksT0FBTzZDLEtBQUtvTCx3Q0FjVE0sRUFBQXZPLFVBQUE0SyxjQUFQLFNBQXFCSCxHQUNqQixPQUFPNUgsS0FBSzJMLE9BQU9oRSxLQUFLLFNBQUFtRSxHQUFhLE9BQUFBLEVBQVVqTixJQUFNK0ksRUFBSy9JLEdBQUtpTixFQUFVaE4sSUFBTThJLEVBQUs5SSxLQUdqRjRNLEVBQUF2TyxVQUFBK0ssS0FBUCxTQUFZcEksRUFBZUMsUUFBZixJQUFBRCxNQUFBLFFBQWUsSUFBQUMsTUFBQSxHQUNwQkMsS0FBSzRMLFNBQ0o1TCxLQUFLNEwsUUFBUXhMLE9BQU9OLEdBQUdRLE9BQU9QLEdBR2xDQyxLQUFLMEgsTUFBTTBDLFFBQVEsU0FBQXhDLEdBQVEsT0FBQUEsRUFBS3hILE9BQU9OLEdBQUdRLE9BQU9QLE1BRXpEMkwsRUFwREEsR0FBYXJRLEVBQUFxUSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJleHBvcnQgY29uc3QgR0FNRV9DT05GSUcgOiBhbnkgPSB7XG5cbiAgICAvLyBQSFlTSUNTXG4gICAgVVBEQVRFX0FGVEVSX1hfRlJBTUVTOiA0MCxcblxuICAgIC8vIFNJWklOR1xuICAgIEdBTUVfV0lEVEg6IDE1LFxuICAgIEdBTUVfSEVJR0hUOiAyMCxcbiAgICBDQU5WQVNfTUlOX1dJRFRIOiAzMDAsXG4gICAgQ0FOVkFTX01JTl9IRUlHSFQ6IDQwMCxcbiAgICBDRUxMX1NJWkU6IDIwLFxuICAgIE5FWFRfU0hBUEVfQ0VMTF9TSVpFOiA1LFxuICAgIFNUUk9LRV9XSURUSDogMC41LFxuXG4gICAgLy8gQ09MT1JTXG4gICAgQkFDS0dST1VORF9DT0xPUjogJyMyODM2M0InLFxuICAgIFNUUk9LRV9DT0xPUjogJ2JsYWNrJyxcbiAgICBTSEFQRV9DT0xPUlM6IFtcIiNGOUIzOEZcIiwgXCIjQkY2Qzg2XCIsIFwiIzg0QUY5Q1wiLCBcIiM2RDVDODBcIiwgXCIjRkZBM0QwXCIsIFwiIzQzOUY5RVwiLCBcIiNFRjVGM0NcIl0sXG4gICAgXG4gICAgLy8gVEVYVFNcbiAgICBTQ09SRV9MQUJFTF9GT05UOiAnMTBweCBDb21pYyBTYW5zIE1TJyxcbiAgICBORVhUX1NIQVBFX0xBQkVMX0ZPTlQ6ICcxMHB4IENvbWljIFNhbnMgTVMnLFxuICAgIEdBTUVfT1ZFUl9MQUJFTF9GT05UOiAnMjVweCBDb21pYyBTYW5zIE1TJyxcbiAgICBHQU1FX09WRVJfWU9VUl9TQ09SRV9MQUJFTF9GT05UOiAnMTVweCBDb21pYyBTYW5zIE1TJyxcbiAgICBGT05UX0NPTE9SOiAnd2hpdGUnLFxuICAgIFNDT1JFX0xBQkVMOiAnU2NvcmU6ICcsXG4gICAgTkVYVF9TSEFQRV9MQUJFTDogJ05leHQgU2hhcGU6ICcsXG4gICAgR0FNRV9PVkVSX0xBQkVMOiAnR2FtZSBPdmVyIScsXG4gICAgR0FNRV9PVkVSX1lPVVJfU0NPUkVfTEFCRUw6ICdZb3VyIFNjb3JlOiAnLFxuXG4gICAgLy8gUE9TSVRJT05TXG4gICAgTkVYVF9TSEFQRV9QT1NJVElPTjoge1g6IDI4MywgWTogNn0sXG4gICAgU0NPUkVfTEFCRUxfUE9TSVRJT046IHtYOiA1LCBZOiAxMywgQUxJR05NRU5UOiAnbGVmdCd9LFxuICAgIE5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT046IHtYOiAyMTUsIFk6IDEzLCBBTElHTk1FTlQ6ICdsZWZ0J30sXG4gICAgR0FNRV9PVkVSX0xBQkVMX1BPU0lUSU9OOiB7WDogMTUwLCBZOiAyMDAsIEFMSUdOTUVOVDogJ2NlbnRlcid9LFxuICAgIEdBTUVfT1ZFUl9ZT1VSX1NDT1JFX0xBQkVMX1BPU0lUSU9OOiB7WDogMTUwLCBZOiAyMzUsIEFMSUdOTUVOVDogJ2NlbnRlcid9LFxuXG4gICAgLy8gS0VZU1xuICAgIFNUQVJUX0tFWTogMzIsXG4gICAgTEVGVF9LRVk6IDM3LFxuICAgIFJJR0hUX0tFWTogMzksXG4gICAgVVBfS0VZOiAzOCxcbiAgICBET1dOX0tFWTogNDAsXG4gICAgRFJPUDogMTMsXG5cbiAgICAvLyBSVUxFU1xuICAgIEZJTExFRF9MSU5FX0JPTlVTOiAxMDAsXG4gICAgRFJPUFBFRF9TSEFQRV9CT05VUzogMixcbiAgICBMT1dFUkVEX1NIQVBFX0JPTlVTOiAxLFxufTtcbiIsIlxuZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX3g6IG51bWJlcjtcbiAgICBwcml2YXRlIF95OiBudW1iZXI7XG5cbiAgICAvLy0tLS0tLUNvbnN0cnVjdG9yLS0tLS0tLy9cblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuXG4gICAgZ2V0IFgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgIH1cbiAgICBcbiAgICBnZXQgWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBaZXJvKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgYWRkWCh4OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMuX3gsIHRoaXMuX3kpLmFkZFRvWCh4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkWSh5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMuX3gsIHRoaXMuX3kpLmFkZFRvWSh5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkVG9YKHg6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLl94ICs9IHg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUb1koeTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMuX3kgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZCh4IDogbnVtYmVyLCB5OiBudW1iZXIpOiBWZWN0b3Iye1xuICAgICAgICB0aGlzLmFkZFRvWCh4KTtcbiAgICAgICAgdGhpcy5hZGRUb1koeSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vZ2VvbS9WZWN0b3IyJztcblxuY2xhc3MgQ2FudmFzMkQge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX2NhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29udGV4dCA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwcml2YXRlIF9kcGk6IG51bWJlcjtcblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQsIGNhbnZhc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyID0gY2FudmFzQ29udGFpbmVyO1xuICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5yZXNpemVDYW52YXMoKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVByaXZhdGUgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIGZpeERQSShzY2FsZTogVmVjdG9yMil7XG4gICAgICAgIC8vZ2V0IERQSVxuICAgICAgICB0aGlzLl9kcGkgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblxuICAgICAgICAvL2dldCBDU1MgaGVpZ2h0XG4gICAgICAgIC8vdGhlICsgcHJlZml4IGNhc3RzIGl0IHRvIGFuIGludGVnZXJcbiAgICAgICAgLy90aGUgc2xpY2UgbWV0aG9kIGdldHMgcmlkIG9mIFwicHhcIlxuICAgICAgICBsZXQgc3R5bGVfaGVpZ2h0OiBudW1iZXIgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9jYW52YXMpLmdldFByb3BlcnR5VmFsdWUoXCJoZWlnaHRcIikuc2xpY2UoMCwgLTIpO1xuICAgICAgICBcbiAgICAgICAgLy9nZXQgQ1NTIHdpZHRoXG4gICAgICAgIGxldCBzdHlsZV93aWR0aDogbnVtYmVyID0gK2dldENvbXB1dGVkU3R5bGUodGhpcy5fY2FudmFzKS5nZXRQcm9wZXJ0eVZhbHVlKFwid2lkdGhcIikuc2xpY2UoMCwgLTIpO1xuICAgICAgICBcbiAgICAgICAgLy9zY2FsZSB0aGUgY2FudmFzXG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIChzdHlsZV9oZWlnaHQgKiB0aGlzLl9kcGkpLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIChzdHlsZV93aWR0aCAqIHRoaXMuX2RwaSkudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgdGhpcy5fY29udGV4dC5zY2FsZSh0aGlzLl9kcGkgKiBzY2FsZS5YLCB0aGlzLl9kcGkgKiBzY2FsZS5ZKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyByZXNpemVDYW52YXMoKTogdm9pZCB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvcmlnaW5hbENhbnZhc1dpZHRoID0gR0FNRV9DT05GSUcuR0FNRV9XSURUSCAqIEdBTUVfQ09ORklHLkNFTExfU0laRTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDYW52YXNIZWlnaHQgPSBHQU1FX0NPTkZJRy5HQU1FX0hFSUdIVCAqIEdBTUVfQ09ORklHLkNFTExfU0laRTtcbiAgICAgICAgY29uc3Qgd2lkdGhUb0hlaWdodDogbnVtYmVyID0gb3JpZ2luYWxDYW52YXNXaWR0aCAvIG9yaWdpbmFsQ2FudmFzSGVpZ2h0O1xuXG4gICAgICAgIGxldCBuZXdIZWlnaHQ6IG51bWJlciA9IHdpbmRvdy5pbm5lckhlaWdodCAtIDEwID49IEdBTUVfQ09ORklHLkNBTlZBU19NSU5fSEVJR0hUID8gd2luZG93LmlubmVySGVpZ2h0IC0gMTAgOiBHQU1FX0NPTkZJRy5DQU5WQVNfTUlOX0hFSUdIVDtcbiAgICAgICAgbGV0IG5ld1dpZHRoOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aCA+PSBHQU1FX0NPTkZJRy5DQU5WQVNfTUlOX1dJRFRIID8gd2luZG93LmlubmVyV2lkdGggOiBHQU1FX0NPTkZJRy5DQU5WQVNfTUlOX1dJRFRIO1xuICAgICAgIFxuICAgICAgICBjb25zdCBuZXdXaWR0aFRvSGVpZ2h0OiBudW1iZXIgPSBuZXdXaWR0aCAvIG5ld0hlaWdodDtcblxuICAgICAgICBuZXdXaWR0aCA9IG5ld1dpZHRoVG9IZWlnaHQgPiB3aWR0aFRvSGVpZ2h0ID8gbmV3SGVpZ2h0ICogd2lkdGhUb0hlaWdodCA6IG5ld1dpZHRoIC8gd2lkdGhUb0hlaWdodDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IG5ld1dpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG5ld0hlaWdodCArICdweCc7XG4gICAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gMjAgLSBuZXdXaWR0aCkgLyAyICsgJ3B4JztcbiAgICAgICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gMjAgLSBuZXdXaWR0aCkgLyAyICsgJ3B4JztcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNjYWxlID0gbmV3IFZlY3RvcjIobmV3V2lkdGggLyBvcmlnaW5hbENhbnZhc1dpZHRoLCBuZXdIZWlnaHQgLyBvcmlnaW5hbENhbnZhc0hlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5maXhEUEkoc2NhbGUpO1xuICAgIH1cblxuXG4gICAgcHVibGljIGNsZWFyKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhd0JhY2tncm91bmQoYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3UmVjdChwb3NpdGlvbjogVmVjdG9yMiwgZmlsbENvbG9yOiBzdHJpbmcsIHN0cm9rZUNvbG9yOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5saW5lV2lkdGggPSBHQU1FX0NPTkZJRy5TVFJPS0VfV0lEVEg7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QocG9zaXRpb24uWCwgcG9zaXRpb24uWSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlUmVjdChwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXdUZXh0KHRleHQ6IHN0cmluZywgZm9udDpzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIHBvc2l0aW9uOiBWZWN0b3IyLCB0ZXh0QWxpZ246IHN0cmluZyA9ICdsZWZ0Jyk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fY29udGV4dC50ZXh0QWxpZ24gPSB0ZXh0QWxpZ24gYXMgQ2FudmFzVGV4dEFsaWduO1xuICAgICAgICB0aGlzLl9jb250ZXh0LmZpbGxUZXh0KHRleHQsIHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhd1JlY3RBdENlbGwoaTogbnVtYmVyLCBqOiBudW1iZXIsIGZpbGxDb2xvcjogc3RyaW5nLCBzdHJva2VDb2xvcjogc3RyaW5nLCBjZWxsU2l6ZTogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmRyYXdSZWN0KG5ldyBWZWN0b3IyKGogKiBjZWxsU2l6ZSxpICogY2VsbFNpemUpLCBmaWxsQ29sb3IsIHN0cm9rZUNvbG9yLCBjZWxsU2l6ZSwgY2VsbFNpemUpO1xuICAgIH1cbn1cblxuY29uc3QgY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NyZWVuJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jb25zdCBjb250YWluZXIgOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKSBhcyBIVE1MRWxlbWVudDtcbmV4cG9ydCBjb25zdCBjYW52YXMyRCA9IG5ldyBDYW52YXMyRChjYW52YXMsIGNvbnRhaW5lcik7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBjYW52YXMyRC5yZXNpemVDYW52YXMuYmluZChjYW52YXMyRCkpO1xuIiwiXG5jbGFzcyBLZXlib2FyZCB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgX2tleXNQcmVzc2VkIDogYm9vbGVhbltdID0gW107XG4gICAgXG4gICAgLy8tLS0tLS1Db25zdHJ1Y3Rvci0tLS0tLS8vXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7dGhpcy5rZXlEb3duKGUpIH0pO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUga2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkgOiB2b2lke1xuICAgICAgICB0aGlzLl9rZXlzUHJlc3NlZFtldmVudC5rZXlDb2RlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgcmVzZXQoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9rZXlzUHJlc3NlZCA9IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1ByZXNzZWQoa2V5Q29kZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlzUHJlc3NlZFtrZXlDb2RlXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpOyIsImV4cG9ydCBlbnVtIFNoYXBlVHlwZSB7XG4gICAgSSxcbiAgICBKLFxuICAgIEwsXG4gICAgUyxcbiAgICBaLFxuICAgIE8sXG4gICAgVFxufSIsImltcG9ydCB7IEdhbWVXb3JsZCB9IGZyb20gJy4vR2FtZVdvcmxkJztcbmltcG9ydCB7IGtleWJvYXJkIH0gZnJvbSAnLi9pbnB1dC9LZXlib2FyZCc7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5cbmxldCB0ZXRyaXM6IEdhbWVXb3JsZDtcblxuZnVuY3Rpb24gc3RhcnQoKTogdm9pZCB7XG4gICAgdGV0cmlzID0gbmV3IEdhbWVXb3JsZChHQU1FX0NPTkZJRy5HQU1FX1dJRFRILCBHQU1FX0NPTkZJRy5HQU1FX0hFSUdIVCk7XG4gICAgZ2FtZUxvb3AoKTtcbn1cblxuZnVuY3Rpb24gZ2FtZU92ZXJTY3JlZW4oKTogdm9pZCB7XG4gICAgY2FudmFzMkQuY2xlYXIoKTtcbiAgICBjYW52YXMyRC5kcmF3QmFja2dyb3VuZChHQU1FX0NPTkZJRy5CQUNLR1JPVU5EX0NPTE9SKTtcbiAgICBjYW52YXMyRC5kcmF3VGV4dChcbiAgICAgICAgR0FNRV9DT05GSUcuR0FNRV9PVkVSX0xBQkVMLCBcbiAgICAgICAgR0FNRV9DT05GSUcuR0FNRV9PVkVSX0xBQkVMX0ZPTlQsIFxuICAgICAgICBHQU1FX0NPTkZJRy5GT05UX0NPTE9SLCBcbiAgICAgICAgR0FNRV9DT05GSUcuR0FNRV9PVkVSX0xBQkVMX1BPU0lUSU9OLFxuICAgICAgICBHQU1FX0NPTkZJRy5HQU1FX09WRVJfTEFCRUxfUE9TSVRJT04uQUxJR05NRU5UXG4gICAgKTtcblxuICAgIGNhbnZhczJELmRyYXdUZXh0KFxuICAgICAgICBHQU1FX0NPTkZJRy5HQU1FX09WRVJfWU9VUl9TQ09SRV9MQUJFTCArIHRldHJpcy5zY29yZSwgXG4gICAgICAgIEdBTUVfQ09ORklHLkdBTUVfT1ZFUl9ZT1VSX1NDT1JFX0xBQkVMX0ZPTlQsIFxuICAgICAgICBHQU1FX0NPTkZJRy5GT05UX0NPTE9SLCBcbiAgICAgICAgR0FNRV9DT05GSUcuR0FNRV9PVkVSX1lPVVJfU0NPUkVfTEFCRUxfUE9TSVRJT04sXG4gICAgICAgIEdBTUVfQ09ORklHLkdBTUVfT1ZFUl9MQUJFTF9QT1NJVElPTi5BTElHTk1FTlRcbiAgICApO1xuXG4gICAgaWYoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLlNUQVJUX0tFWSkpIHtcbiAgICAgICAgdGV0cmlzLmluaXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0ZXRyaXMudXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGRyYXcoKTogdm9pZCB7XG4gICAgY2FudmFzMkQuY2xlYXIoKTtcbiAgICBjYW52YXMyRC5kcmF3QmFja2dyb3VuZChHQU1FX0NPTkZJRy5CQUNLR1JPVU5EX0NPTE9SKTtcbiAgICB0ZXRyaXMuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBnYW1lTG9vcCgpOiB2b2lkIHtcbiAgICBpZih0ZXRyaXMuZ2FtZU92ZXIpIHtcbiAgICAgICAgZ2FtZU92ZXJTY3JlZW4oKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgIGRyYXcoKTtcbiAgICB9XG4gICAga2V5Ym9hcmQucmVzZXQoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xufVxuXG5zdGFydCgpOyIsImltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSAnLi9nYW1lLmNvbmZpZyc7XG5pbXBvcnQgeyBrZXlib2FyZCB9IGZyb20gJy4vaW5wdXQvS2V5Ym9hcmQnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vZ2VvbS9WZWN0b3IyJztcbmltcG9ydCB7IGNhbnZhczJEIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuL3NoYXBlL1NoYXBlJztcbmltcG9ydCB7IFNoYXBlVHlwZSB9IGZyb20gJy4vc2hhcGUvU2hhcGVUeXBlJztcbmltcG9ydCB7IEdhbWVNYXAgfSBmcm9tICcuL21hcC9HYW1lTWFwJztcbmltcG9ydCB7IFNoYXBlRmFjdG9yeSB9IGZyb20gJy4vc2hhcGUvU2hhcGVGYWN0b3J5JztcblxuZXhwb3J0IGNsYXNzIEdhbWVXb3JsZCB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBfbWFwOiBHYW1lTWFwO1xuICAgIHByaXZhdGUgX3VwZGF0ZUV2ZXJ5WEZyYW1lczogbnVtYmVyO1xuICAgIHByaXZhdGUgX2ZyYW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfbW92aW5nU2hhcGU6IFNoYXBlID0gbnVsbDtcbiAgICBwcml2YXRlIF9zaGFwZXNRdWV1ZTogU2hhcGVbXSA9IFtdO1xuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfZ2FtZU92ZXIgOiBib29sZWFuO1xuICAgIHByaXZhdGUgX3NoYXBlRmFjdG9yeTogU2hhcGVGYWN0b3J5O1xuXG4gICAgcHJpdmF0ZSBfc2hhcGVUeXBlczogU2hhcGVUeXBlW10gPSBbXG4gICAgICAgIFNoYXBlVHlwZS5JLFxuICAgICAgICBTaGFwZVR5cGUuSixcbiAgICAgICAgU2hhcGVUeXBlLkwsXG4gICAgICAgIFNoYXBlVHlwZS5PLFxuICAgICAgICBTaGFwZVR5cGUuUyxcbiAgICAgICAgU2hhcGVUeXBlLlosXG4gICAgICAgIFNoYXBlVHlwZS5UXG4gICAgXTtcblxuICAgIC8vLS0tLS0tUHJvcGVydGllcy0tLS0tLS8vXG4gICAgXG4gICAgcHVibGljIGdldCBnYW1lT3ZlcigpIDogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nYW1lT3ZlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNjb3JlKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NvcmU7XG4gICAgfVxuICAgIFxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVGYWN0b3J5ID0gbmV3IFNoYXBlRmFjdG9yeSgpO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgR2FtZU1hcCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcml2YXRlIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBpbmNyZWFzZVNjb3JlKHRvQWRkOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Njb3JlICs9IHRvQWRkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJvcFNoYXBlKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBudW1PZkNlbGxzID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlKCF0aGlzLmxvd2VyU2hhcGUoKSl7XG4gICAgICAgICAgICBudW1PZkNlbGxzKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bU9mQ2VsbHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVJbnB1dCgpOiB2b2lkIHtcblxuICAgICAgICBsZXQgdG9Nb3ZlWCA9IDA7XG5cbiAgICAgICAgaWYoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkRST1ApKSB7XG4gICAgICAgICAgICBsZXQgY2VsbHNEcm9wcGVkID0gdGhpcy5kcm9wU2hhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTY29yZShjZWxsc0Ryb3BwZWQgKiBHQU1FX0NPTkZJRy5EUk9QUEVEX1NIQVBFX0JPTlVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5VUF9LRVkpKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVNoYXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkRPV05fS0VZKSkge1xuICAgICAgICAgICAgdGhpcy5sb3dlclNoYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmluY3JlYXNlU2NvcmUoR0FNRV9DT05GSUcuTE9XRVJFRF9TSEFQRV9CT05VUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkxFRlRfS0VZKSkge1xuICAgICAgICAgICAgdG9Nb3ZlWCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5SSUdIVF9LRVkpKSB7XG4gICAgICAgICAgICB0b01vdmVYID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRvTW92ZVggIT09IDApe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZWFjaGVkQm9yZGVyID0gdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMuc29tZShjZWxsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0WCA9IGNlbGwuWCArIHRvTW92ZVg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydE9mU2hhcGUgPSB0aGlzLl9tb3ZpbmdTaGFwZS5pc1BhcnRPZlNoYXBlKGNlbGwuYWRkWCh0b01vdmVYKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRYIDwgMCB8fCBuZXh0WCA9PT0gdGhpcy5fbWFwLndpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9tYXAuaXNDZWxsRmlsbGVkKG5leHRYLCBjZWxsLlkpICYmICFwYXJ0T2ZTaGFwZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYoIXJlYWNoZWRCb3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuY2xlYXJTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUubW92ZSh0b01vdmVYLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuY29sb3JTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJvdGF0ZVNoYXBlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmKCF0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4pe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld1NoYXBlID0gW107XG5cbiAgICAgICAgZm9yKGxldCBjZWxsIG9mIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzKSB7XG4gICAgICAgICAgICBsZXQgeCA9IGNlbGwuWCAtIHRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbi5YO1xuICAgICAgICAgICAgbGV0IHkgPSBjZWxsLlkgLSB0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4uWTtcbiAgICAgICAgICAgIGxldCBuZXdYID0gLXk7XG4gICAgICAgICAgICBsZXQgbmV3WSA9IHg7XG5cbiAgICAgICAgICAgIGxldCBuZXdDZWxsID0gdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luLmFkZFgobmV3WCkuYWRkWShuZXdZKTtcbiAgICAgICAgICAgIG5ld1NoYXBlLnB1c2gobmV3Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zc2libGVSb3RhdGlvbiA9IG5ld1NoYXBlLmV2ZXJ5KGNlbGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFydE9mU2hhcGUgPSB0aGlzLl9tb3ZpbmdTaGFwZS5pc1BhcnRPZlNoYXBlKGNlbGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5pc0luTWFwKGNlbGwuWCwgY2VsbC5ZKSAmJlxuICAgICAgICAgICAgICAgICghdGhpcy5fbWFwLmlzQ2VsbEZpbGxlZChjZWxsLlgsIGNlbGwuWSkgfHwgcGFydE9mU2hhcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZihwb3NzaWJsZVJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY2xlYXJTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscyA9IG5ld1NoYXBlO1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNvbG9yU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb3dlclNoYXBlKCk6IGJvb2xlYW4ge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLnNvbWUoY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0WTogbnVtYmVyID0gY2VsbC5ZICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsLmFkZFkoMSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRZID09PSB0aGlzLl9tYXAuaGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgICAgKHRoaXMuX21hcC5pc0NlbGxGaWxsZWQoY2VsbC5YLCBuZXh0WSkgJiYgIXBhcnRPZlNoYXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIXJlYWNoZWRCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jbGVhclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLm1vdmUoMCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY29sb3JTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVhY2hlZEJvdHRvbTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUZpbGxlZExpbmVzKCk6IHZvaWQge1xuICAgICAgICBcbiAgICAgICAgbGV0IGZpbGxlZExpbmVzQ291bnQgPSB0aGlzLl9tYXAucmVtb3ZlRmlsbGVkTGluZXMoKTtcblxuICAgICAgICBpZihmaWxsZWRMaW5lc0NvdW50ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKGZpbGxlZExpbmVzQ291bnQgKiBHQU1FX0NPTkZJRy5GSUxMRURfTElORV9CT05VUyk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tGb3JHYW1lT3ZlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5hbnlGaWxsZWRPblJvdygwKTtcbiAgICB9IFxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVJhbmRvbVNoYXBlKCk6IFNoYXBlIHtcbiAgICAgICAgY29uc3QgcmFuZG9tU2hhcGVUeXBlSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9zaGFwZVR5cGVzLmxlbmd0aCk7XG4gICAgICAgIGxldCBzaGFwZUNvbG9yID0gR0FNRV9DT05GSUcuU0hBUEVfQ09MT1JTW3JhbmRvbVNoYXBlVHlwZUluZGV4XTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFwZUZhY3RvcnkuY3JlYXRlU2hhcGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXBlVHlwZXNbcmFuZG9tU2hhcGVUeXBlSW5kZXhdLCBcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIoTWF0aC5mbG9vcih0aGlzLl9tYXAud2lkdGggLyAyKSwgLTMpLFxuICAgICAgICAgICAgICAgICAgICBzaGFwZUNvbG9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdTaGFwZXNJblF1ZXVlKCk6IHZvaWQge1xuICAgICAgICBjYW52YXMyRC5kcmF3VGV4dChcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX0xBQkVMLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX0xBQkVMX0ZPTlQsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLkZPTlRfQ09MT1IsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT04sXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9MQUJFTF9QT1NJVElPTi5BTElHTk1FTlRcbiAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IGkgPSB0aGlzLl9zaGFwZXNRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG4gICAgICAgICAgICBsZXQgc2hhcGUgPSB0aGlzLl9zaGFwZXNRdWV1ZVtpXTtcbiAgICAgICAgICAgIGxldCBpbmRleEZyb21FbmQgPSB0aGlzLl9zaGFwZXNRdWV1ZS5sZW5ndGggLSAxIC0gaTtcbiAgICAgICAgICAgIGxldCBkZW1vU2hhcGUgPSB0aGlzLl9zaGFwZUZhY3RvcnkuY3JlYXRlU2hhcGUoXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLnNoYXBlVHlwZSwgXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKFxuICAgICAgICAgICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9QT1NJVElPTi5YICsgaW5kZXhGcm9tRW5kICogNCAqIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfQ0VMTF9TSVpFLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfUE9TSVRJT04uWSksIFxuICAgICAgICAgICAgICAgICAgICBzaGFwZS5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9DRUxMX1NJWkVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkZW1vU2hhcGUuY2VsbHMuZm9yRWFjaChjZWxsID0+IFxuICAgICAgICAgICAgICAgIGNhbnZhczJELmRyYXdSZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBkZW1vU2hhcGUuY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuU1RST0tFX0NPTE9SLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfQ0VMTF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9DRUxMX1NJWkVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdTY29yZSgpOiB2b2lkIHtcbiAgICAgICAgY2FudmFzMkQuZHJhd1RleHQoXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuU0NPUkVfTEFCRUwgKyB0aGlzLl9zY29yZS50b1N0cmluZygpLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TQ09SRV9MQUJFTF9GT05ULCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5GT05UX0NPTE9SLCBcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TQ09SRV9MQUJFTF9QT1NJVElPTixcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TQ09SRV9MQUJFTF9QT1NJVElPTi5BTElHTk1FTlRcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xuICAgICAgICB0aGlzLl9mcmFtZSA9IDA7IFxuICAgICAgICB0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMgPSBHQU1FX0NPTkZJRy5VUERBVEVfQUZURVJfWF9GUkFNRVM7XG4gICAgICAgIHRoaXMuX21hcC5pbml0KCk7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlOiBTaGFwZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TaGFwZSgpO1xuICAgICAgICB0aGlzLl9zaGFwZXNRdWV1ZSA9IFtuZXdTaGFwZV07XG4gICAgICAgIHRoaXMuX21vdmluZ1NoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuICAgICAgICBpZigrK3RoaXMuX2ZyYW1lICUgdGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMubG93ZXJTaGFwZSgpO1xuICAgICAgICBpZihyZWFjaGVkQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZpbGxlZExpbmVzKCk7XG4gICAgICAgICAgICB0aGlzLl9nYW1lT3ZlciA9IHRoaXMuY2hlY2tGb3JHYW1lT3ZlcigpO1xuICAgICAgICAgICAgaWYoIXRoaXMuX2dhbWVPdmVyKXtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcGVzUXVldWUudW5zaGlmdChuZXdTaGFwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUgPSB0aGlzLl9zaGFwZXNRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tYXAuZHJhdygpO1xuICAgICAgICB0aGlzLmRyYXdTY29yZSgpO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZXNJblF1ZXVlKCk7XG4gICAgfVxufSIsImltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi8uLi9zaGFwZS9TaGFwZSc7XG5pbXBvcnQgeyBDZWxsIH0gZnJvbSBcIi4vQ2VsbFwiO1xuaW1wb3J0IHsgY2FudmFzMkQgfSBmcm9tIFwiLi4vQ2FudmFzXCI7XG5pbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gXCIuLi9nYW1lLmNvbmZpZ1wiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcCB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBfbWFwOiBDZWxsW11bXTtcbiAgICBwcml2YXRlIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCB3aWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICAvLy0tLS0tLVB1YmxpYyBNZXRob2RzLS0tLS0tLy9cblxuICAgIHB1YmxpYyBpbml0KCk6IHZvaWR7XG4gICAgICAgIGZvcihsZXQgaTogbnVtYmVyID0gMCA7IGkgPCB0aGlzLl9oZWlnaHQgOyBpKysgKXtcbiAgICAgICAgICAgIHRoaXMuX21hcFtpXSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IobGV0IGo6IG51bWJlciA9IDAgOyBqIDwgdGhpcy5fd2lkdGggOyBqKyspe1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXVtqXSA9IG5ldyBDZWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNJbk1hcCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLl93aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDZWxsRmlsbGVkKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzSW5NYXAoeCx5KSAmJiB0aGlzLl9tYXBbeV1beF0uZmlsbGVkO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckNlbGwoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5pc0luTWFwKHgsIHkpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uZmlsbGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXJTaGFwZShzaGFwZTogU2hhcGUpOiB2b2lkIHtcbiAgICAgICAgc2hhcGUuY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJDZWxsKGNlbGwuWCwgY2VsbC5ZKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbG9yQ2VsbCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZih0aGlzLmlzSW5NYXAoeCwgeSkpe1xuICAgICAgICAgICAgdGhpcy5fbWFwW3ldW3hdLmZpbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uY29sb3IgPSBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjb2xvclNoYXBlKHNoYXBlOiBTaGFwZSk6IHZvaWQge1xuICAgICAgICBzaGFwZS5jZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xvckNlbGwoY2VsbC5YLCBjZWxsLlksIHNoYXBlLmNvbG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFueUZpbGxlZE9uUm93KHJvdzogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBbcm93XS5zb21lKGNlbGwgPT4gY2VsbC5maWxsZWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVGaWxsZWRMaW5lcygpOiBudW1iZXIge1xuICAgICAgICAgICAgXG4gICAgICAgIGxldCBmaWxsZWRMaW5lc0NvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tYXAubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxsZWRMaW5lIDogYm9vbGVhbiA9IHRoaXMuX21hcFtpXS5ldmVyeShjZWxsID0+IGNlbGwuZmlsbGVkKTtcblxuICAgICAgICAgICAgaWYoZmlsbGVkTGluZSkge1xuICAgICAgICAgICAgICAgIGZpbGxlZExpbmVzQ291bnQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1JvdzogQ2VsbFtdID0gW107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMCA7IGogPCB0aGlzLl93aWR0aCA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdSb3dbal0gPSBuZXcgQ2VsbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX21hcC51bnNoaWZ0KG5ld1Jvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsbGVkTGluZXNDb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tYXAubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdGhpcy5fbWFwW2ldLmxlbmd0aCA7IGorKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbDogQ2VsbCA9IHRoaXMuX21hcFtpXVtqXTtcbiAgICAgICAgICAgICAgICBpZihjZWxsLmZpbGxlZCl7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhczJELmRyYXdSZWN0QXRDZWxsKGksIGosIGNlbGwuY29sb3IsIEdBTUVfQ09ORklHLlNUUk9LRV9DT0xPUiwgR0FNRV9DT05GSUcuQ0VMTF9TSVpFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgQ2VsbCB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBfZmlsbGVkIDogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9jb2xvciA6IHN0cmluZztcblxuICAgIC8vLS0tLS0tUHJvcGVydGllcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY29sb3IodiA6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IHY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaWxsZWQoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbGVkO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGZpbGxlZCh2IDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSB2O1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2ZpbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBcbn0iLCJpbXBvcnQgeyBTaGFwZVR5cGUgfSBmcm9tIFwiLi9TaGFwZVR5cGVcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gXCIuL1NoYXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBTaGFwZUZhY3Rvcnkge1xuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgY3JlYXRlU2hhcGUoc2hhcGVUeXBlOiBTaGFwZVR5cGUsIHBvc2l0aW9uOiBWZWN0b3IyLCBzaGFwZUNvbG9yOiBzdHJpbmcsIG1hcmdpbjogbnVtYmVyID0gMSk6IFNoYXBlIHtcblxuICAgICAgICBsZXQgc2hhcGVDZWxsczogVmVjdG9yMltdID0gW107XG4gICAgICAgIGxldCBzaGFwZU9yaWdpbjogVmVjdG9yMjtcblxuICAgICAgICBzd2l0Y2goc2hhcGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5JOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgLSAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDIgKiBtYXJnaW4pXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSjpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZIC0gMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTDpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZIC0gMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTzpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSAqIG1hcmdpbiwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5TOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSAqIG1hcmdpbiwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuWjpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxICogbWFyZ2luLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlQ6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlVHlwZSwgc2hhcGVDZWxscywgc2hhcGVPcmlnaW4sIHNoYXBlQ29sb3IpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBTaGFwZVR5cGUgfSBmcm9tICcuL1NoYXBlVHlwZSc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi8uLi9nZW9tL1ZlY3RvcjInO1xuXG5leHBvcnQgY2xhc3MgU2hhcGUge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX2NlbGxzOiBWZWN0b3IyW10gPSBbXTtcbiAgICBwcml2YXRlIF9jb2xvcjogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBWZWN0b3IyID0gbnVsbDtcbiAgICBwcml2YXRlIF9zaGFwZVR5cGU6IFNoYXBlVHlwZTtcblxuICAgIC8vLS0tLS0tUHJvcGVydGllcy0tLS0tLS8vXG4gICAgXG4gICAgcHVibGljIGdldCBzaGFwZVR5cGUoKSA6IFNoYXBlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFwZVR5cGU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgY2VsbHMoKSA6IFZlY3RvcjJbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxscztcbiAgICB9XG4gICAgcHVibGljIHNldCBjZWxscyhjZWxscyA6IFZlY3RvcjJbXSkge1xuICAgICAgICB0aGlzLl9jZWxscyA9IGNlbGxzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb3JpZ2luKCkgOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWdpbjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCBjb2xvcigpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xuICAgIH1cblxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHNoYXBlVHlwZTogU2hhcGVUeXBlLCBjZWxsczogVmVjdG9yMltdLCBvcmlnaW46IFZlY3RvcjIsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVUeXBlID0gc2hhcGVUeXBlO1xuICAgICAgICB0aGlzLl9jZWxscyA9IGNlbGxzO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBvcmlnaW47XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgaXNQYXJ0T2ZTaGFwZShjZWxsOiBWZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxscy5zb21lKHNoYXBlQ2VsbCA9PiBzaGFwZUNlbGwuWCA9PT0gY2VsbC5YICYmIHNoYXBlQ2VsbC5ZID09PSBjZWxsLlkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApIHtcbiAgICAgICAgaWYodGhpcy5fb3JpZ2luKXtcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbi5hZGRUb1goeCkuYWRkVG9ZKHkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goY2VsbCA9PiBjZWxsLmFkZFRvWCh4KS5hZGRUb1koeSkpO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9