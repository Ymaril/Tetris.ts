!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_CONFIG={CELL_SIZE:80,BACKGROUND_COLOR:"#28363B",STROKE_COLOR:"black",SHAPE_COLORS:["#F9B38F","#BF6C86","#84AF9C","#6D5C80","#FFA3D0","#439F9E","#EF5F3C"],FONT:"40px Comic Sans MS",FONT_COLOR:"white",SCORE_POSITION:{X:20,Y:50},LEFT_KEY:37,RIGHT_KEY:39,UP_KEY:38,DOWN_KEY:40,DROP:13}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.keysPressed=[],document.addEventListener("keydown",function(t){e.keyDown(t)})}return e.prototype.keyDown=function(e){this.keysPressed[e.keyCode]=!0},e.prototype.reset=function(){this.keysPressed=[]},e.prototype.isPressed=function(e){return this.keysPressed[e]},e}();t.keyboard=new n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"X",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Zero",{get:function(){return new e(0,0)},enumerable:!0,configurable:!0}),e.prototype.addX=function(t){return new e(this._x,this._y).addToX(t)},e.prototype.addY=function(t){return new e(this._x,this._y).addToY(t)},e.prototype.addToX=function(e){return this._x+=e,this},e.prototype.addToY=function(e){return this._y+=e,this},e.prototype.add=function(e,t){this.addToX(e),this.addToY(t)},e}();t.Vector2=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),r=function(){function e(e){this._canvas=e,this._context=this._canvas.getContext("2d"),this.fixDPI()}return Object.defineProperty(e.prototype,"Width",{get:function(){return this._canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this._canvas.height},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.fixDPI=function(){var e=window.devicePixelRatio,t=+getComputedStyle(this._canvas).getPropertyValue("height").slice(0,-2),o=+getComputedStyle(this._canvas).getPropertyValue("width").slice(0,-2);this._canvas.setAttribute("height",(t*e).toString()),this._canvas.setAttribute("width",(o*e).toString())},e.prototype.drawBackground=function(e){this._context.save(),this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._context.restore()},e.prototype.drawRect=function(e,t,o,n,r){this._context.save(),this._context.strokeStyle=o,this._context.fillStyle=t,this._context.fillRect(e.X,e.Y,n,r),this._context.strokeRect(e.X,e.Y,n,r),this._context.restore()},e.prototype.drawText=function(e,t,o,n){this._context.save(),this._context.fillStyle=o,this._context.font=t,this._context.fillText(e,n.X,n.Y),this._context.restore()},e.prototype.drawRectAtCell=function(e,t,o,r,i){this.drawRect(new n.Vector2(t*i,e*i),o,r,i,i)},e}(),i=document.getElementById("screen");t.canvas2D=new r(i)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(5),i=o(1),a=o(3),s=o(0),c=a.canvas2D.Width/s.GAME_CONFIG.CELL_SIZE,h=a.canvas2D.Height/s.GAME_CONFIG.CELL_SIZE;function p(){n.update(),i.keyboard.reset(),a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),n.draw(),requestAnimationFrame(p)}n=new r.GameWorld(c,h),p()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=o(1),i=o(2),a=o(3),s=o(6),c=o(8),h=o(7),p=function(){function e(e,t){this._updateEveryXFrames=20,this._frame=0,this._movingShape=null,this._shapesQueue=[],this._score=0,this._shapeTypes=[h.ShapeType.I,h.ShapeType.J,h.ShapeType.L,h.ShapeType.O,h.ShapeType.S,h.ShapeType.Z,h.ShapeType.T],this._width=e,this._height=t,this.initMap();var o=this.generateRandomShape();this._shapesQueue.push(o),this._movingShape=this.generateRandomShape()}return Object.defineProperty(e.prototype,"gameOver",{get:function(){return this._gameOver},enumerable:!0,configurable:!0}),e.prototype.initMap=function(){this._map=[];for(var e=0;e<this._height;e++){this._map[e]=[];for(var t=0;t<this._width;t++)this._map[e][t]=new s.Cell}},e.prototype.isCellFilled=function(e,t){return this.isInMap(e,t)&&this._map[t][e].filled},e.prototype.clearCell=function(e,t){this.isInMap(e,t)&&(this._map[t][e].filled=!1)},e.prototype.isInMap=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},e.prototype.colorCell=function(e,t,o){this.isInMap(e,t)&&(this._map[t][e].filled=!0,this._map[t][e].color=o)},e.prototype.increaseScore=function(){this._score+=this._width},e.prototype.dropShape=function(){for(;!this.lowerShape(););},e.prototype.handleInput=function(){var e=this,t=0;(r.keyboard.isPressed(n.GAME_CONFIG.DROP)?this.dropShape():r.keyboard.isPressed(n.GAME_CONFIG.UP_KEY)?this.rotateShape():r.keyboard.isPressed(n.GAME_CONFIG.DOWN_KEY)?this.lowerShape():r.keyboard.isPressed(n.GAME_CONFIG.LEFT_KEY)?t=-1:r.keyboard.isPressed(n.GAME_CONFIG.RIGHT_KEY)&&(t=1),0!==t)&&(this._movingShape.cells.some(function(o){var n=o.X+t,r=e._movingShape.isPartOfShape(o.addX(t));return n<0||n===e._width||e.isCellFilled(n,o.Y)&&!r})||(this._movingShape.cells.forEach(function(t){e.clearCell(t.X,t.Y)}),this._movingShape.move(t,0),this._movingShape.cells.forEach(function(t){e.colorCell(t.X,t.Y,e._movingShape.color)})))},e.prototype.rotateShape=function(){var e=this;if(this._movingShape.origin){for(var t=[],o=0;o<this._movingShape.cells.length;o++){var n=this._movingShape.cells[o],r=n.X-this._movingShape.origin.X,i=-(n.Y-this._movingShape.origin.Y),a=r,s=this._movingShape.origin.addX(i).addY(a);t.push(s)}t.every(function(t){var o=e._movingShape.isPartOfShape(t);return t.Y>=0&&t.X>=0&&t.X<e._width&&(!e.isCellFilled(t.X,t.Y)||o)})&&(this._movingShape.cells.forEach(function(t){e.clearCell(t.X,t.Y)}),this._movingShape.cells=t,this._movingShape.cells.forEach(function(t){e.colorCell(t.X,t.Y,e._movingShape.color)}))}},e.prototype.lowerShape=function(){var e=this,t=this._movingShape.cells.some(function(t){var o=t.Y+1,n=e._movingShape.isPartOfShape(t.addY(1));return o===e._height||e.isCellFilled(t.X,o)&&!n});return t||(this._movingShape.cells.forEach(function(t){e.clearCell(t.X,t.Y)}),this._movingShape.move(0,1),this._movingShape.cells.forEach(function(t){e.colorCell(t.X,t.Y,e._movingShape.color)})),t},e.prototype.handleFilledLines=function(){for(var e=0;e<this._map.length;e++){if(this._map[e].every(function(e){return e.filled})){this._map.splice(e,1);for(var t=[],o=0;o<this._width;o++)t[o]=new s.Cell;this._map.unshift(t),this.increaseScore(),this._updateEveryXFrames>0&&this._updateEveryXFrames--}}},e.prototype.checkForGameOver=function(){return this._map[0].some(function(e){return e.filled})},e.prototype.createShape=function(e){var t,o,r,a=[];switch(e){case h.ShapeType.I:t=Math.floor(Math.random()*this._width),o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X,o.Y+2),new i.Vector2(o.X,o.Y+3)],r=new i.Vector2(o.X,o.Y+1);break;case h.ShapeType.J:t=Math.floor(Math.random()*(this._width-1))+1,o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X,o.Y+2),new i.Vector2(o.X-1,o.Y+2)],r=new i.Vector2(o.X,o.Y+1);break;case h.ShapeType.L:t=Math.floor(Math.random()*(this._width-1)),o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X,o.Y+2),new i.Vector2(o.X+1,o.Y+2)],r=new i.Vector2(o.X,o.Y+1);break;case h.ShapeType.O:t=Math.floor(Math.random()*(this._width-1)),o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X+1,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X+1,o.Y+1)],r=null;break;case h.ShapeType.S:t=Math.floor(Math.random()*(this._width-2))+1,o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X+1,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X-1,o.Y+1)],r=new i.Vector2(o.X,o.Y+1);break;case h.ShapeType.Z:t=Math.floor(Math.random()*(this._width-2))+1,o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X-1,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X+1,o.Y+1)],r=new i.Vector2(o.X,o.Y+1);break;case h.ShapeType.T:t=Math.floor(Math.random()*(this._width-2))+1,o=new i.Vector2(t,-4),a=[new i.Vector2(o.X,o.Y),new i.Vector2(o.X,o.Y+1),new i.Vector2(o.X-1,o.Y+1),new i.Vector2(o.X+1,o.Y+1)],r=new i.Vector2(o.X,o.Y+1)}var s=this._shapeTypes.indexOf(e),p=n.GAME_CONFIG.SHAPE_COLORS[s];return new c.Shape(e,a,r,p)},e.prototype.generateRandomShape=function(){var e=Math.floor(Math.random()*this._shapeTypes.length);return this.createShape(this._shapeTypes[e])},e.prototype.update=function(){if((this.handleInput(),!(++this._frame%this._updateEveryXFrames))&&this.lowerShape())if(this.handleFilledLines(),this.checkForGameOver())this._gameOver=!0;else{var e=this.generateRandomShape();this._shapesQueue.unshift(e),this._movingShape=this._shapesQueue.pop(),console.log(h.ShapeType[this._shapesQueue[0].shapeType])}},e.prototype.drawScore=function(){a.canvas2D.drawText("Score: "+this._score.toString(),n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.SCORE_POSITION)},e.prototype.draw=function(){for(var e=0;e<this._map.length;e++)for(var t=0;t<this._map[e].length;t++){var o=this._map[e][t];o.filled&&a.canvas2D.drawRectAtCell(e,t,o.color,n.GAME_CONFIG.STROKE_COLOR,n.GAME_CONFIG.CELL_SIZE)}this.drawScore()},e}();t.GameWorld=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._filled=!1}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e}();t.Cell=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.S=3]="S",e[e.Z=4]="Z",e[e.O=5]="O",e[e.T=6]="T"}(t.ShapeType||(t.ShapeType={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,o,n){this._cells=[],this._color="",this._origin=null,this._shapeType=e,this._cells=t,this._color=n,this._origin=o}return Object.defineProperty(e.prototype,"shapeType",{get:function(){return this._shapeType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},set:function(e){this._cells=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),e.prototype.isPartOfShape=function(e){return this._cells.some(function(t){return t.X===e.X&&t.Y===e.Y})},e.prototype.move=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._origin&&this._origin.addToX(e).addToY(t),this.cells.forEach(function(o){return o.addToX(e).addToY(t)})},e}();t.Shape=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dC9LZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2VvbS9WZWN0b3IyLnRzIiwid2VicGFjazovLy8uL3NyYy9DYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVXb3JsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwL0NlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU2hhcGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIkNFTExfU0laRSIsIkJBQ0tHUk9VTkRfQ09MT1IiLCJTVFJPS0VfQ09MT1IiLCJTSEFQRV9DT0xPUlMiLCJGT05UIiwiRk9OVF9DT0xPUiIsIlNDT1JFX1BPU0lUSU9OIiwiWCIsIlkiLCJMRUZUX0tFWSIsIlJJR0hUX0tFWSIsIlVQX0tFWSIsIkRPV05fS0VZIiwiRFJPUCIsIktleWJvYXJkIiwiX3RoaXMiLCJ0aGlzIiwia2V5c1ByZXNzZWQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwia2V5RG93biIsImV2ZW50Iiwia2V5Q29kZSIsInJlc2V0IiwiaXNQcmVzc2VkIiwia2V5Ym9hcmQiLCJWZWN0b3IyIiwieCIsInkiLCJfeCIsIl95IiwiYWRkWCIsImFkZFRvWCIsImFkZFkiLCJhZGRUb1kiLCJhZGQiLCJWZWN0b3IyXzEiLCJDYW52YXMyRCIsImNhbnZhcyIsIl9jYW52YXMiLCJfY29udGV4dCIsImdldENvbnRleHQiLCJmaXhEUEkiLCJ3aWR0aCIsImhlaWdodCIsImNsZWFyIiwiY2xlYXJSZWN0IiwiZHBpIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsInN0eWxlX2hlaWdodCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwic2xpY2UiLCJzdHlsZV93aWR0aCIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwiZHJhd0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzYXZlIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwiZHJhd1JlY3QiLCJwb3NpdGlvbiIsImZpbGxDb2xvciIsInN0cm9rZUNvbG9yIiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwiZHJhd1RleHQiLCJ0ZXh0IiwiZm9udCIsImNvbG9yIiwiZmlsbFRleHQiLCJkcmF3UmVjdEF0Q2VsbCIsImoiLCJjZWxsU2l6ZSIsImdldEVsZW1lbnRCeUlkIiwiY2FudmFzMkQiLCJtYXAiLCJHYW1lV29ybGRfMSIsIktleWJvYXJkXzEiLCJDYW52YXNfMSIsImdhbWVfY29uZmlnXzEiLCJnYW1lV2lkdGgiLCJXaWR0aCIsImdhbWVIZWlnaHQiLCJIZWlnaHQiLCJnYW1lTG9vcCIsInVwZGF0ZSIsImRyYXciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJHYW1lV29ybGQiLCJDZWxsXzEiLCJTaGFwZV8xIiwiU2hhcGVUeXBlXzEiLCJfdXBkYXRlRXZlcnlYRnJhbWVzIiwiX2ZyYW1lIiwiX21vdmluZ1NoYXBlIiwiX3NoYXBlc1F1ZXVlIiwiX3Njb3JlIiwiX3NoYXBlVHlwZXMiLCJTaGFwZVR5cGUiLCJJIiwiSiIsIkwiLCJPIiwiUyIsIloiLCJUIiwiX3dpZHRoIiwiX2hlaWdodCIsImluaXRNYXAiLCJuZXdTaGFwZSIsImdlbmVyYXRlUmFuZG9tU2hhcGUiLCJwdXNoIiwiX2dhbWVPdmVyIiwiX21hcCIsIkNlbGwiLCJpc0NlbGxGaWxsZWQiLCJpc0luTWFwIiwiZmlsbGVkIiwiY2xlYXJDZWxsIiwiY29sb3JDZWxsIiwiaW5jcmVhc2VTY29yZSIsImRyb3BTaGFwZSIsImxvd2VyU2hhcGUiLCJoYW5kbGVJbnB1dCIsInRvTW92ZVgiLCJyb3RhdGVTaGFwZSIsImNlbGxzIiwic29tZSIsImNlbGwiLCJuZXh0WCIsInBhcnRPZlNoYXBlIiwiaXNQYXJ0T2ZTaGFwZSIsImZvckVhY2giLCJtb3ZlIiwib3JpZ2luIiwibGVuZ3RoIiwibmV3WCIsIm5ld1kiLCJuZXdDZWxsIiwiZXZlcnkiLCJyZWFjaGVkQm90dG9tIiwibmV4dFkiLCJoYW5kbGVGaWxsZWRMaW5lcyIsInNwbGljZSIsIm5ld1JvdyIsInVuc2hpZnQiLCJjaGVja0ZvckdhbWVPdmVyIiwiY3JlYXRlU2hhcGUiLCJzaGFwZVR5cGUiLCJyYW5kb21YIiwic2hhcGVPcmlnaW4iLCJzaGFwZUNlbGxzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2hhcGVUeXBlSW5kZXgiLCJpbmRleE9mIiwic2hhcGVDb2xvciIsIlNoYXBlIiwicmFuZG9tU2hhcGVUeXBlSW5kZXgiLCJwb3AiLCJjb25zb2xlIiwibG9nIiwiZHJhd1Njb3JlIiwiX2ZpbGxlZCIsIl9jb2xvciIsInYiLCJfY2VsbHMiLCJfb3JpZ2luIiwiX3NoYXBlVHlwZSIsInNoYXBlQ2VsbCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FD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LE9BQU9xQixLQUFLNkosYUFFaEIsU0FBa0JsQyxHQUNkM0gsS0FBSzZKLFFBQVVsQyxtQ0FHbkJsSyxPQUFBQyxlQUFXeUwsRUFBQXhLLFVBQUEsUUFBSyxLQUFoQixXQUNJLE9BQU9xQixLQUFLMEosWUFFaEIsU0FBaUJqRyxHQUNiekQsS0FBSzBKLE9BQVNqRyxtQ0FVWDBGLEVBQUF4SyxVQUFBNkksY0FBUCxTQUFxQkgsR0FDakIsT0FBT3JILEtBQUs0SixPQUFPeEMsS0FBSyxTQUFBMkMsR0FBYSxPQUFBQSxFQUFVeEssSUFBTThILEVBQUs5SCxHQUFLd0ssRUFBVXZLLElBQU02SCxFQUFLN0gsS0FHakYySixFQUFBeEssVUFBQStJLEtBQVAsU0FBWTlHLEVBQWVDLFFBQWYsSUFBQUQsTUFBQSxRQUFlLElBQUFDLE1BQUEsR0FDcEJiLEtBQUs2SixTQUNKN0osS0FBSzZKLFFBQVE1SSxPQUFPTCxHQUFHTyxPQUFPTixHQUdsQ2IsS0FBS21ILE1BQU1NLFFBQVEsU0FBQUosR0FBUSxPQUFBQSxFQUFLcEcsT0FBT0wsR0FBR08sT0FBT04sTUFFekRzSSxFQWxEQSxHQUFhdE0sRUFBQXNNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsImV4cG9ydCBjb25zdCBHQU1FX0NPTkZJRyA6IGFueSA9IHtcblxuICAgIC8vIFBIWVNJQ1NcblxuICAgIC8vIFNJWklOR1xuICAgIENFTExfU0laRTogODAsXG5cbiAgICAvLyBDT0xPUlNcbiAgICBCQUNLR1JPVU5EX0NPTE9SOiAnIzI4MzYzQicsXG4gICAgU1RST0tFX0NPTE9SOiAnYmxhY2snLFxuICAgIFNIQVBFX0NPTE9SUzogW1wiI0Y5QjM4RlwiLCBcIiNCRjZDODZcIiwgXCIjODRBRjlDXCIsIFwiIzZENUM4MFwiLCBcIiNGRkEzRDBcIiwgXCIjNDM5RjlFXCIsIFwiI0VGNUYzQ1wiXSxcbiAgICBcbiAgICAvLyBURVhUXG4gICAgRk9OVDogJzQwcHggQ29taWMgU2FucyBNUycsICAgIFxuICAgIEZPTlRfQ09MT1I6ICd3aGl0ZScsXG5cbiAgICAvLyBQT1NJVElPTlNcbiAgICBTQ09SRV9QT1NJVElPTjoge1g6IDIwLCBZOiA1MH0sXG5cbiAgICAvLyBLRVlTXG4gICAgTEVGVF9LRVk6IDM3LFxuICAgIFJJR0hUX0tFWTogMzksXG4gICAgVVBfS0VZOiAzOCxcbiAgICBET1dOX0tFWTogNDAsXG4gICAgRFJPUDogMTNcbn07XG4iLCJcbmNsYXNzIEtleWJvYXJkIHtcblxuICAgIGtleXNQcmVzc2VkIDogYm9vbGVhbltdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7dGhpcy5rZXlEb3duKGUpIH0pO1xuICAgIH1cblxuICAgIGtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZFtldmVudC5rZXlDb2RlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzZXQoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmtleXNQcmVzc2VkID0gW107XG4gICAgfVxuXG4gICAgaXNQcmVzc2VkKGtleUNvZGU6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlzUHJlc3NlZFtrZXlDb2RlXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpOyIsIlxuZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuICAgIHByaXZhdGUgX3g6IG51bWJlcjtcbiAgICBwcml2YXRlIF95OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgfVxuXG4gICAgZ2V0IFgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgIH1cbiAgICBcbiAgICBnZXQgWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBaZXJvKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgfVxuXG4gICAgYWRkWCh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMuX3gsIHRoaXMuX3kpLmFkZFRvWCh4KTtcbiAgICB9XG5cbiAgICBhZGRZKHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy5feCwgdGhpcy5feSkuYWRkVG9ZKHkpO1xuICAgIH1cblxuICAgIGFkZFRvWCh4OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5feCArPSB4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRUb1koeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3kgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYWRkKHggOiBudW1iZXIsIHk6IG51bWJlcikgOiB2b2lke1xuICAgICAgICB0aGlzLmFkZFRvWCh4KTtcbiAgICAgICAgdGhpcy5hZGRUb1koeSk7XG4gICAgfVxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL2dlb20vVmVjdG9yMic7XG5cbmNsYXNzIENhbnZhczJEIHtcblxuICAgIHByaXZhdGUgX2NhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgX2NvbnRleHQgOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5maXhEUEkoKTtcbiAgICB9XG5cbiAgICBnZXQgV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXMud2lkdGg7XG4gICAgfVxuICAgIFxuICAgIGdldCBIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIGNsZWFyKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBmaXhEUEkoKXtcbiAgICAgICAgLy9nZXQgRFBJXG4gICAgICAgIGxldCBkcGk6IG51bWJlciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG4gICAgICAgIC8vZ2V0IENTUyBoZWlnaHRcbiAgICAgICAgLy90aGUgKyBwcmVmaXggY2FzdHMgaXQgdG8gYW4gaW50ZWdlclxuICAgICAgICAvL3RoZSBzbGljZSBtZXRob2QgZ2V0cyByaWQgb2YgXCJweFwiXG4gICAgICAgIGxldCBzdHlsZV9oZWlnaHQ6IG51bWJlciA9ICtnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2NhbnZhcykuZ2V0UHJvcGVydHlWYWx1ZShcImhlaWdodFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgICAgICAvL2dldCBDU1Mgd2lkdGhcbiAgICAgICAgbGV0IHN0eWxlX3dpZHRoOiBudW1iZXIgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9jYW52YXMpLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgICAgICAvL3NjYWxlIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHN0eWxlX2hlaWdodCAqIGRwaSkudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgKHN0eWxlX3dpZHRoICogZHBpKS50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBkcmF3QmFja2dyb3VuZChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1JlY3QocG9zaXRpb246IFZlY3RvcjIsIGZpbGxDb2xvcjogc3RyaW5nLCBzdHJva2VDb2xvcjogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QocG9zaXRpb24uWCwgcG9zaXRpb24uWSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlUmVjdChwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1RleHQodGV4dDogc3RyaW5nLCBmb250OnN0cmluZywgY29sb3I6IHN0cmluZywgcG9zaXRpb246IFZlY3RvcjIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFRleHQodGV4dCwgcG9zaXRpb24uWCwgcG9zaXRpb24uWSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGRyYXdSZWN0QXRDZWxsKGk6IG51bWJlciwgajogbnVtYmVyLCBmaWxsQ29sb3I6IHN0cmluZywgc3Ryb2tlQ29sb3I6IHN0cmluZywgY2VsbFNpemU6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kcmF3UmVjdChuZXcgVmVjdG9yMihqICogY2VsbFNpemUsaSAqIGNlbGxTaXplKSwgZmlsbENvbG9yLCBzdHJva2VDb2xvciwgY2VsbFNpemUsIGNlbGxTaXplKTtcbiAgICB9XG59XG5cbmNvbnN0IGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuZXhwb3J0IGNvbnN0IGNhbnZhczJEID0gbmV3IENhbnZhczJEKGNhbnZhcyk7IiwiaW1wb3J0IHsgR2FtZVdvcmxkIH0gZnJvbSAnLi9HYW1lV29ybGQnO1xuaW1wb3J0IHsga2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IGNhbnZhczJEIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuL2dhbWUuY29uZmlnJztcblxuY29uc3QgZ2FtZVdpZHRoID0gY2FudmFzMkQuV2lkdGggLyBHQU1FX0NPTkZJRy5DRUxMX1NJWkU7XG5jb25zdCBnYW1lSGVpZ2h0ID0gY2FudmFzMkQuSGVpZ2h0IC8gR0FNRV9DT05GSUcuQ0VMTF9TSVpFO1xuXG5sZXQgbWFwOiBHYW1lV29ybGQ7XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIG1hcCA9IG5ldyBHYW1lV29ybGQoZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KTtcbiAgICBnYW1lTG9vcCgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgbWFwLnVwZGF0ZSgpO1xuICAgIGtleWJvYXJkLnJlc2V0KCk7XG59XG5cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgY2FudmFzMkQuY2xlYXIoKTtcbiAgICBjYW52YXMyRC5kcmF3QmFja2dyb3VuZChHQU1FX0NPTkZJRy5CQUNLR1JPVU5EX0NPTE9SKTtcbiAgICBtYXAuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBnYW1lTG9vcCgpIHtcbiAgICB1cGRhdGUoKTtcbiAgICBkcmF3KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbn1cblxuc3RhcnQoKTsiLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsga2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL2dlb20vVmVjdG9yMic7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IENlbGwgfSBmcm9tIFwiLi9tYXAvQ2VsbFwiO1xuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuL3NoYXBlL1NoYXBlJztcbmltcG9ydCB7IFNoYXBlVHlwZSB9IGZyb20gJy4vc2hhcGUvU2hhcGVUeXBlJztcblxuZXhwb3J0IGNsYXNzIEdhbWVXb3JsZCB7XG5cbiAgICAvLy0tLS0tLU1lbWJlcnMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBfbWFwOiBDZWxsW11bXTtcbiAgICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3VwZGF0ZUV2ZXJ5WEZyYW1lczogbnVtYmVyID0gMjA7XG4gICAgcHJpdmF0ZSBfZnJhbWU6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfbW92aW5nU2hhcGU6IFNoYXBlID0gbnVsbDtcbiAgICBwcml2YXRlIF9zaGFwZXNRdWV1ZTogU2hhcGVbXSA9IFtdO1xuICAgIHByaXZhdGUgX3Njb3JlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyIDogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgX3NoYXBlVHlwZXM6IFNoYXBlVHlwZVtdID0gW1xuICAgICAgICBTaGFwZVR5cGUuSSxcbiAgICAgICAgU2hhcGVUeXBlLkosXG4gICAgICAgIFNoYXBlVHlwZS5MLFxuICAgICAgICBTaGFwZVR5cGUuTyxcbiAgICAgICAgU2hhcGVUeXBlLlMsXG4gICAgICAgIFNoYXBlVHlwZS5aLFxuICAgICAgICBTaGFwZVR5cGUuVFxuICAgIF07XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuICAgIFxuICAgIHB1YmxpYyBnZXQgZ2FtZU92ZXIoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZU92ZXI7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmluaXRNYXAoKTtcbiAgICAgICAgY29uc3QgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgIHRoaXMuX3NoYXBlc1F1ZXVlLnB1c2gobmV3U2hhcGUpO1xuICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TaGFwZSgpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgaW5pdE1hcCgpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gW107XG5cbiAgICAgICAgZm9yKGxldCBpOiBudW1iZXIgPSAwIDsgaSA8IHRoaXMuX2hlaWdodCA7IGkrKyApe1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldID0gW107XG5cbiAgICAgICAgICAgIGZvcihsZXQgajogbnVtYmVyID0gMCA7IGogPCB0aGlzLl93aWR0aCA7IGorKyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW2ldW2pdID0gbmV3IENlbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaXNDZWxsRmlsbGVkKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzSW5NYXAoeCx5KSAmJiB0aGlzLl9tYXBbeV1beF0uZmlsbGVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xlYXJDZWxsKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaXNJbk1hcCh4LCB5KSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3ldW3hdLmZpbGxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0luTWFwKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29sb3JDZWxsKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaXNJbk1hcCh4LCB5KSl7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21hcFt5XVt4XS5jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbmNyZWFzZVNjb3JlKCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2NvcmUgKz0gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcm9wU2hhcGUoKTogdm9pZCB7XG4gICAgICAgIHdoaWxlKCF0aGlzLmxvd2VyU2hhcGUoKSl7fVxuICAgIH1cbiAgICBwcml2YXRlIGhhbmRsZUlucHV0KCk6IHZvaWQge1xuXG4gICAgICAgIGxldCB0b01vdmVYID0gMDtcblxuICAgICAgICBpZihrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuRFJPUCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcFNoYXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuVVBfS0VZKSkge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVTaGFwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5ET1dOX0tFWSkpIHtcbiAgICAgICAgICAgIHRoaXMubG93ZXJTaGFwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5MRUZUX0tFWSkpIHtcbiAgICAgICAgICAgIHRvTW92ZVggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuUklHSFRfS0VZKSkge1xuICAgICAgICAgICAgdG9Nb3ZlWCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0b01vdmVYICE9PSAwKXtcblxuICAgICAgICAgICAgY29uc3QgcmVhY2hlZEJvcmRlciA9IHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLnNvbWUoY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFggPSBjZWxsLlggKyB0b01vdmVYO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsLmFkZFgodG9Nb3ZlWCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0WCA8IDAgfHwgbmV4dFggPT09IHRoaXMuX3dpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmlzQ2VsbEZpbGxlZChuZXh0WCwgY2VsbC5ZKSAmJiAhcGFydE9mU2hhcGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKCFyZWFjaGVkQm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckNlbGwoY2VsbC5YLCBjZWxsLlkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUubW92ZSh0b01vdmVYLCAwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JDZWxsKGNlbGwuWCwgY2VsbC5ZLCB0aGlzLl9tb3ZpbmdTaGFwZS5jb2xvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJvdGF0ZVNoYXBlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmKCF0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4pe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld1NoYXBlID0gW107XG5cbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxsc1tpXTtcbiAgICAgICAgICAgIGxldCB4ID0gY2VsbC5YIC0gdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luLlg7XG4gICAgICAgICAgICBsZXQgeSA9IGNlbGwuWSAtIHRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbi5ZO1xuICAgICAgICAgICAgbGV0IG5ld1ggPSAteTtcbiAgICAgICAgICAgIGxldCBuZXdZID0geDtcblxuICAgICAgICAgICAgbGV0IG5ld0NlbGwgPSB0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4uYWRkWChuZXdYKS5hZGRZKG5ld1kpO1xuICAgICAgICAgICAgbmV3U2hhcGUucHVzaChuZXdDZWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3NzaWJsZVJvdGF0aW9uID0gbmV3U2hhcGUuZXZlcnkoY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0T2ZTaGFwZSA9IHRoaXMuX21vdmluZ1NoYXBlLmlzUGFydE9mU2hhcGUoY2VsbCk7XG4gICAgICAgICAgICByZXR1cm4gY2VsbC5ZID49IDAgJiYgY2VsbC5YID49IDAgJiYgY2VsbC5YIDwgdGhpcy5fd2lkdGggJiZcbiAgICAgICAgICAgICAgICAoIXRoaXMuaXNDZWxsRmlsbGVkKGNlbGwuWCwgY2VsbC5ZKSB8fCBwYXJ0T2ZTaGFwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKHBvc3NpYmxlUm90YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckNlbGwoY2VsbC5YLCBjZWxsLlkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzID0gbmV3U2hhcGU7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvckNlbGwoY2VsbC5YLCBjZWxsLlksIHRoaXMuX21vdmluZ1NoYXBlLmNvbG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb3dlclNoYXBlKCk6IGJvb2xlYW4ge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLnNvbWUoY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0WTogbnVtYmVyID0gY2VsbC5ZICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsLmFkZFkoMSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRZID09PSB0aGlzLl9oZWlnaHQgfHxcbiAgICAgICAgICAgICAgICAgICAodGhpcy5pc0NlbGxGaWxsZWQoY2VsbC5YLCBuZXh0WSkgJiYgIXBhcnRPZlNoYXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIXJlYWNoZWRCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhckNlbGwoY2VsbC5YLCBjZWxsLlkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLm1vdmUoMCwgMSk7XG5cbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2xvckNlbGwoY2VsbC5YLCBjZWxsLlksIHRoaXMuX21vdmluZ1NoYXBlLmNvbG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlYWNoZWRCb3R0b207XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVGaWxsZWRMaW5lcygpOiB2b2lkIHtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuX21hcC5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGxlZExpbmUgOiBib29sZWFuID0gdGhpcy5fbWFwW2ldLmV2ZXJ5KGNlbGwgPT4gY2VsbC5maWxsZWQpO1xuXG4gICAgICAgICAgICBpZihmaWxsZWRMaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdSb3c6IENlbGxbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdGhpcy5fd2lkdGggOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93W2pdID0gbmV3IENlbGwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAudW5zaGlmdChuZXdSb3cpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTY29yZSgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0ZvckdhbWVPdmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwWzBdLnNvbWUoY2VsbCA9PiBjZWxsLmZpbGxlZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTaGFwZShzaGFwZVR5cGU6IFNoYXBlVHlwZSk6IFNoYXBlIHtcblxuICAgICAgICBsZXQgc2hhcGVZID0gLTQ7XG4gICAgICAgIGxldCByYW5kb21YOiBudW1iZXI7XG4gICAgICAgIGxldCBwb3NpdGlvbjogVmVjdG9yMjtcbiAgICAgICAgbGV0IHNoYXBlQ2VsbHM6IFZlY3RvcjJbXSA9IFtdO1xuICAgICAgICBsZXQgc2hhcGVPcmlnaW46IFZlY3RvcjI7XG5cbiAgICAgICAgc3dpdGNoKHNoYXBlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSTpcbiAgICAgICAgICAgICAgICByYW5kb21YID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fd2lkdGgpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbmV3IFZlY3RvcjIocmFuZG9tWCwgc2hhcGVZKTtcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5KOlxuICAgICAgICAgICAgICAgIHJhbmRvbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5fd2lkdGggLSAxKSkgKyAxO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbmV3IFZlY3RvcjIocmFuZG9tWCwgc2hhcGVZKTtcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxLCBwb3NpdGlvbi5ZICsgMiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLkw6XG4gICAgICAgICAgICAgICAgcmFuZG9tWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLl93aWR0aCAtIDEpKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5ldyBWZWN0b3IyKHJhbmRvbVgsIHNoYXBlWSk7XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSApLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAyKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkgKyAyKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTzpcbiAgICAgICAgICAgICAgICByYW5kb21YID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuX3dpZHRoIC0gMSkpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbmV3IFZlY3RvcjIocmFuZG9tWCwgc2hhcGVZKTtcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5TOlxuICAgICAgICAgICAgICAgIHJhbmRvbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5fd2lkdGggLSAyKSkgKyAxO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbmV3IFZlY3RvcjIocmFuZG9tWCwgc2hhcGVZKTtcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlo6XG4gICAgICAgICAgICAgICAgcmFuZG9tWCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLl93aWR0aCAtIDIpKSArIDE7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBuZXcgVmVjdG9yMihyYW5kb21YLCBzaGFwZVkpO1xuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuVDpcbiAgICAgICAgICAgICAgICByYW5kb21YID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuX3dpZHRoIC0gMikpICsgMTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5ldyBWZWN0b3IyKHJhbmRvbVgsIHNoYXBlWSk7XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrOyAgXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXRzIHNoYXBlIGNvbG9yXG4gICAgICAgIGNvbnN0IHNoYXBlVHlwZUluZGV4ID0gdGhpcy5fc2hhcGVUeXBlcy5pbmRleE9mKHNoYXBlVHlwZSkgXG4gICAgICAgIGxldCBzaGFwZUNvbG9yID0gR0FNRV9DT05GSUcuU0hBUEVfQ09MT1JTW3NoYXBlVHlwZUluZGV4XTtcblxuICAgICAgICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlVHlwZSwgc2hhcGVDZWxscywgc2hhcGVPcmlnaW4sIHNoYXBlQ29sb3IpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVSYW5kb21TaGFwZSgpOiBTaGFwZSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVNoYXBlVHlwZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fc2hhcGVUeXBlcy5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTaGFwZSh0aGlzLl9zaGFwZVR5cGVzW3JhbmRvbVNoYXBlVHlwZUluZGV4XSk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmhhbmRsZUlucHV0KCk7XG4gICAgICAgIGlmKCsrdGhpcy5fZnJhbWUgJSB0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWFjaGVkQm90dG9tID0gdGhpcy5sb3dlclNoYXBlKCk7XG4gICAgICAgIGlmKHJlYWNoZWRCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsbGVkTGluZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGdhbWVPdmVyOiBib29sZWFuID0gdGhpcy5jaGVja0ZvckdhbWVPdmVyKCk7XG4gICAgICAgICAgICBpZighZ2FtZU92ZXIpe1xuICAgICAgICAgICAgICAgIGxldCBuZXdTaGFwZTogU2hhcGUgPSB0aGlzLmdlbmVyYXRlUmFuZG9tU2hhcGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFwZXNRdWV1ZS51bnNoaWZ0KG5ld1NoYXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZSA9IHRoaXMuX3NoYXBlc1F1ZXVlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFNoYXBlVHlwZVt0aGlzLl9zaGFwZXNRdWV1ZVswXS5zaGFwZVR5cGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3U2NvcmUoKTogdm9pZCB7XG4gICAgICAgIGNhbnZhczJELmRyYXdUZXh0KCdTY29yZTogJyArIHRoaXMuX3Njb3JlLnRvU3RyaW5nKCksIEdBTUVfQ09ORklHLkZPTlQsIEdBTUVfQ09ORklHLkZPTlRfQ09MT1IsIEdBTUVfQ09ORklHLlNDT1JFX1BPU0lUSU9OKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhdygpOiB2b2lkIHtcbiAgICAgICAgZm9yKGxldCBpID0gMCA7IGkgPCB0aGlzLl9tYXAubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdGhpcy5fbWFwW2ldLmxlbmd0aCA7IGorKyl7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbDogQ2VsbCA9IHRoaXMuX21hcFtpXVtqXTtcbiAgICAgICAgICAgICAgICBpZihjZWxsLmZpbGxlZCl7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhczJELmRyYXdSZWN0QXRDZWxsKGksIGosIGNlbGwuY29sb3IsIEdBTUVfQ09ORklHLlNUUk9LRV9DT0xPUiwgR0FNRV9DT05GSUcuQ0VMTF9TSVpFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdTY29yZSgpO1xuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBDZWxsIHtcblxuICAgIHByaXZhdGUgX2ZpbGxlZCA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfY29sb3IgOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY29sb3IodiA6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IHY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaWxsZWQoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbGVkO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGZpbGxlZCh2IDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSB2O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGVudW0gU2hhcGVUeXBlIHtcbiAgICBJLFxuICAgIEosXG4gICAgTCxcbiAgICBTLFxuICAgIFosXG4gICAgTyxcbiAgICBUXG59IiwiaW1wb3J0IHsgU2hhcGVUeXBlIH0gZnJvbSAnLi9TaGFwZVR5cGUnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vLi4vZ2VvbS9WZWN0b3IyJztcblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcblxuICAgIHByaXZhdGUgX2NlbGxzOiBWZWN0b3IyW10gPSBbXTtcbiAgICBwcml2YXRlIF9jb2xvcjogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBWZWN0b3IyID0gbnVsbDtcbiAgICBwcml2YXRlIF9zaGFwZVR5cGU6IFNoYXBlVHlwZTtcbiAgICBcbiAgICBwdWJsaWMgZ2V0IHNoYXBlVHlwZSgpIDogU2hhcGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlVHlwZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCBjZWxscygpIDogVmVjdG9yMltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NlbGxzO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNlbGxzKGNlbGxzIDogVmVjdG9yMltdKSB7XG4gICAgICAgIHRoaXMuX2NlbGxzID0gY2VsbHM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvcmlnaW4oKSA6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JpZ2luO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9yaWdpbihvcmlnaW4gOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IG9yaWdpbjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCBjb2xvcigpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNvbG9yKGNvbG9yIDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0cnVjdG9yKHNoYXBlVHlwZTogU2hhcGVUeXBlLCBjZWxsczogVmVjdG9yMltdLCBvcmlnaW46IFZlY3RvcjIsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVUeXBlID0gc2hhcGVUeXBlO1xuICAgICAgICB0aGlzLl9jZWxscyA9IGNlbGxzO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBvcmlnaW47XG4gICAgfVxuXG4gICAgcHVibGljIGlzUGFydE9mU2hhcGUoY2VsbDogVmVjdG9yMikge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbHMuc29tZShzaGFwZUNlbGwgPT4gc2hhcGVDZWxsLlggPT09IGNlbGwuWCAmJiBzaGFwZUNlbGwuWSA9PT0gY2VsbC5ZKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZSh4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmKHRoaXMuX29yaWdpbil7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW4uYWRkVG9YKHgpLmFkZFRvWSh5KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5hZGRUb1goeCkuYWRkVG9ZKHkpKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==