!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_CONFIG={UPDATE_AFTER_X_FRAMES:40,CELL_SIZE:40,NEXT_SHAPE_CELL_SIZE:10,BACKGROUND_COLOR:"#28363B",STROKE_COLOR:"black",SHAPE_COLORS:["#F9B38F","#BF6C86","#84AF9C","#6D5C80","#FFA3D0","#439F9E","#EF5F3C"],FONT:"20px Comic Sans MS",FONT_COLOR:"white",SCORE_LABEL:"Score: ",NEXT_SHAPE_LABEL:"Next Shape: ",SCORE_POSITION:{X:10,Y:25},NEXT_SHAPE_LABEL_POSITION:{X:400,Y:25},NEXT_SHAPE_POSITION:{X:545,Y:8},LEFT_KEY:37,RIGHT_KEY:39,UP_KEY:38,DOWN_KEY:40,DROP:13,FILLED_LINE_BONUS:100,DROPPED_SHAPE_BONUS:2,LOWERED_SHAPE_BONUS:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"X",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Zero",{get:function(){return new e(0,0)},enumerable:!0,configurable:!0}),e.prototype.addX=function(t){return new e(this._x,this._y).addToX(t)},e.prototype.addY=function(t){return new e(this._x,this._y).addToY(t)},e.prototype.addToX=function(e){return this._x+=e,this},e.prototype.addToY=function(e){return this._y+=e,this},e.prototype.add=function(e,t){this.addToX(e),this.addToY(t)},e}();t.Vector2=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this._canvas=e,this._context=this._canvas.getContext("2d")}return Object.defineProperty(e.prototype,"Width",{get:function(){return this._canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this._canvas.height},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.drawBackground=function(e){this._context.save(),this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._context.restore()},e.prototype.drawRect=function(e,t,r,n,o){this._context.save(),this._context.strokeStyle=r,this._context.fillStyle=t,this._context.fillRect(e.X,e.Y,n,o),this._context.strokeRect(e.X,e.Y,n,o),this._context.restore()},e.prototype.drawText=function(e,t,r,n){this._context.save(),this._context.fillStyle=r,this._context.font=t,this._context.fillText(e,n.X,n.Y),this._context.restore()},e.prototype.drawRectAtCell=function(e,t,r,o,i){this.drawRect(new n.Vector2(t*i,e*i),r,o,i,i)},e}(),i=document.getElementById("screen");t.canvas2D=new o(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.keysPressed=[],document.addEventListener("keydown",function(t){e.keyDown(t)})}return e.prototype.keyDown=function(e){this.keysPressed[e.keyCode]=!0},e.prototype.reset=function(){this.keysPressed=[]},e.prototype.isPressed=function(e){return this.keysPressed[e]},e}();t.keyboard=new n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.S=3]="S",e[e.Z=4]="Z",e[e.O=5]="O",e[e.T=6]="T"}(t.ShapeType||(t.ShapeType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=r(3),a=r(2),s=r(0),c=a.canvas2D.Width/s.GAME_CONFIG.CELL_SIZE,h=a.canvas2D.Height/s.GAME_CONFIG.CELL_SIZE;function p(){n.update(),i.keyboard.reset(),a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),n.draw(),requestAnimationFrame(p)}n=new o.GameWorld(c,h),p()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3),i=r(1),a=r(2),s=r(4),c=r(7),h=r(9),p=function(){function e(e,t){this._movingShape=null,this._shapesQueue=[],this._shapeTypes=[s.ShapeType.I,s.ShapeType.J,s.ShapeType.L,s.ShapeType.O,s.ShapeType.S,s.ShapeType.Z,s.ShapeType.T],this._shapeFactory=new h.ShapeFactory,this._map=new c.GameMap(e,t),this.init()}return Object.defineProperty(e.prototype,"gameOver",{get:function(){return this._gameOver},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._score=0,this._frame=0,this._updateEveryXFrames=n.GAME_CONFIG.UPDATE_AFTER_X_FRAMES,this._map.init();var e=this.generateRandomShape();this._shapesQueue=[e],this._movingShape=this.generateRandomShape()},e.prototype.increaseScore=function(e){this._score+=e},e.prototype.dropShape=function(){for(var e=0;!this.lowerShape();)e++;return e},e.prototype.handleInput=function(){var e=this,t=0;if(o.keyboard.isPressed(n.GAME_CONFIG.DROP)){var r=this.dropShape();this.increaseScore(r*n.GAME_CONFIG.DROPPED_SHAPE_BONUS)}else o.keyboard.isPressed(n.GAME_CONFIG.UP_KEY)?this.rotateShape():o.keyboard.isPressed(n.GAME_CONFIG.DOWN_KEY)?this.increaseScore(n.GAME_CONFIG.LOWERED_SHAPE_BONUS):o.keyboard.isPressed(n.GAME_CONFIG.LEFT_KEY)?t=-1:o.keyboard.isPressed(n.GAME_CONFIG.RIGHT_KEY)&&(t=1);0!==t&&(this._movingShape.cells.some(function(r){var n=r.X+t,o=e._movingShape.isPartOfShape(r.addX(t));return n<0||n===e._map.width||e._map.isCellFilled(n,r.Y)&&!o})||(this._map.clearShape(this._movingShape),this._movingShape.move(t,0),this._map.colorShape(this._movingShape)))},e.prototype.rotateShape=function(){var e=this;if(this._movingShape.origin){for(var t=[],r=0,n=this._movingShape.cells;r<n.length;r++){var o=n[r],i=o.X-this._movingShape.origin.X,a=-(o.Y-this._movingShape.origin.Y),s=i,c=this._movingShape.origin.addX(a).addY(s);t.push(c)}t.every(function(t){var r=e._movingShape.isPartOfShape(t);return e._map.isInMap(t.X,t.Y)&&(!e._map.isCellFilled(t.X,t.Y)||r)})&&(this._map.clearShape(this._movingShape),this._movingShape.cells=t,this._map.colorShape(this._movingShape))}},e.prototype.lowerShape=function(){var e=this,t=this._movingShape.cells.some(function(t){var r=t.Y+1,n=e._movingShape.isPartOfShape(t.addY(1));return r===e._map.height||e._map.isCellFilled(t.X,r)&&!n});return t||(this._map.clearShape(this._movingShape),this._movingShape.move(0,1),this._map.colorShape(this._movingShape)),t},e.prototype.handleFilledLines=function(){var e=this._map.removeFilledLines();e>0&&(this.increaseScore(e*n.GAME_CONFIG.FILLED_LINE_BONUS),this._updateEveryXFrames>0&&this._updateEveryXFrames--)},e.prototype.checkForGameOver=function(){return this._map.anyFilledOnRow(0)},e.prototype.generateRandomShape=function(){var e=Math.floor(Math.random()*this._shapeTypes.length),t=n.GAME_CONFIG.SHAPE_COLORS[e];return this._shapeFactory.createShape(this._shapeTypes[e],new i.Vector2(Math.floor(this._map.width/2),-3),t)},e.prototype.drawShapesInQueue=function(){a.canvas2D.drawText(n.GAME_CONFIG.NEXT_SHAPE_LABEL,n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.NEXT_SHAPE_LABEL_POSITION);for(var e=function(e){var r=t._shapeFactory.createShape(e.shapeType,new i.Vector2(n.GAME_CONFIG.NEXT_SHAPE_POSITION.X,n.GAME_CONFIG.NEXT_SHAPE_POSITION.Y),e.color,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE);r.cells.forEach(function(e){return a.canvas2D.drawRect(e,r.color,n.GAME_CONFIG.STROKE_COLOR,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE,n.GAME_CONFIG.NEXT_SHAPE_CELL_SIZE)})},t=this,r=0,o=this._shapesQueue;r<o.length;r++){e(o[r])}},e.prototype.update=function(){if((this.handleInput(),!(++this._frame%this._updateEveryXFrames))&&this.lowerShape())if(this.handleFilledLines(),this._gameOver=this.checkForGameOver(),this._gameOver)this.init();else{var e=this.generateRandomShape();this._shapesQueue.unshift(e),this._movingShape=this._shapesQueue.pop()}},e.prototype.drawScore=function(){a.canvas2D.drawText(n.GAME_CONFIG.SCORE_LABEL+this._score.toString(),n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.SCORE_POSITION)},e.prototype.draw=function(){this._map.draw(),this.drawScore(),this.drawShapesInQueue()},e}();t.GameWorld=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=r(2),i=r(0),a=function(){function e(e,t){this._map=[],this._width=e,this._height=t}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.init=function(){for(var e=0;e<this._height;e++){this._map[e]=[];for(var t=0;t<this._width;t++)this._map[e][t]=new n.Cell}},e.prototype.isInMap=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},e.prototype.isCellFilled=function(e,t){return this.isInMap(e,t)&&this._map[t][e].filled},e.prototype.clearCell=function(e,t){this.isInMap(e,t)&&(this._map[t][e].filled=!1)},e.prototype.clearShape=function(e){var t=this;e.cells.forEach(function(e){t.clearCell(e.X,e.Y)})},e.prototype.colorCell=function(e,t,r){this.isInMap(e,t)&&(this._map[t][e].filled=!0,this._map[t][e].color=r)},e.prototype.colorShape=function(e){var t=this;e.cells.forEach(function(r){t.colorCell(r.X,r.Y,e.color)})},e.prototype.anyFilledOnRow=function(e){return this._map[e].some(function(e){return e.filled})},e.prototype.removeFilledLines=function(){for(var e=0,t=0;t<this._map.length;t++){if(this._map[t].every(function(e){return e.filled})){e++,this._map.splice(t,1);for(var r=[],o=0;o<this._width;o++)r[o]=new n.Cell;this._map.unshift(r)}}return e},e.prototype.draw=function(){for(var e=0;e<this._map.length;e++)for(var t=0;t<this._map[e].length;t++){var r=this._map[e][t];r.filled&&o.canvas2D.drawRectAtCell(e,t,r.color,i.GAME_CONFIG.STROKE_COLOR,i.GAME_CONFIG.CELL_SIZE)}},e}();t.GameMap=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._filled=!1}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e}();t.Cell=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(1),i=r(10),a=function(){function e(){}return e.prototype.createShape=function(e,t,r,a){void 0===a&&(a=1);var s,c=[];switch(e){case n.ShapeType.I:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X,t.Y+3*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.J:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X-1*a,t.Y+2*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.L:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X,t.Y+2*a),new o.Vector2(t.X+1*a,t.Y+2*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.O:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=null;break;case n.ShapeType.S:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X-1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.Z:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X-1*a,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a);break;case n.ShapeType.T:c=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1*a),new o.Vector2(t.X-1*a,t.Y+1*a),new o.Vector2(t.X+1*a,t.Y+1*a)],s=new o.Vector2(t.X,t.Y+1*a)}return new i.Shape(e,c,s,r)},e}();t.ShapeFactory=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this._cells=[],this._color="",this._origin=null,this._shapeType=e,this._cells=t,this._color=n,this._origin=r}return Object.defineProperty(e.prototype,"shapeType",{get:function(){return this._shapeType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},set:function(e){this._cells=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),e.prototype.isPartOfShape=function(e){return this._cells.some(function(t){return t.X===e.X&&t.Y===e.Y})},e.prototype.move=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._origin&&this._origin.addToX(e).addToY(t),this.cells.forEach(function(r){return r.addToX(e).addToY(t)})},e}();t.Shape=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9nZW9tL1ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXQvS2V5Ym9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZVdvcmxkLnRzIiwid2VicGFjazovLy8uL3NyYy9tYXAvR2FtZU1hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwL0NlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU2hhcGUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIlVQREFURV9BRlRFUl9YX0ZSQU1FUyIsIkNFTExfU0laRSIsIk5FWFRfU0hBUEVfQ0VMTF9TSVpFIiwiQkFDS0dST1VORF9DT0xPUiIsIlNUUk9LRV9DT0xPUiIsIlNIQVBFX0NPTE9SUyIsIkZPTlQiLCJGT05UX0NPTE9SIiwiU0NPUkVfTEFCRUwiLCJORVhUX1NIQVBFX0xBQkVMIiwiU0NPUkVfUE9TSVRJT04iLCJYIiwiWSIsIk5FWFRfU0hBUEVfTEFCRUxfUE9TSVRJT04iLCJORVhUX1NIQVBFX1BPU0lUSU9OIiwiTEVGVF9LRVkiLCJSSUdIVF9LRVkiLCJVUF9LRVkiLCJET1dOX0tFWSIsIkRST1AiLCJGSUxMRURfTElORV9CT05VUyIsIkRST1BQRURfU0hBUEVfQk9OVVMiLCJMT1dFUkVEX1NIQVBFX0JPTlVTIiwiVmVjdG9yMiIsIngiLCJ5IiwidGhpcyIsIl94IiwiX3kiLCJhZGRYIiwiYWRkVG9YIiwiYWRkWSIsImFkZFRvWSIsImFkZCIsIlZlY3RvcjJfMSIsIkNhbnZhczJEIiwiY2FudmFzIiwiX2NhbnZhcyIsIl9jb250ZXh0IiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiY2xlYXIiLCJjbGVhclJlY3QiLCJkcmF3QmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsInNhdmUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJlc3RvcmUiLCJkcmF3UmVjdCIsInBvc2l0aW9uIiwiZmlsbENvbG9yIiwic3Ryb2tlQ29sb3IiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJkcmF3VGV4dCIsInRleHQiLCJmb250IiwiY29sb3IiLCJmaWxsVGV4dCIsImRyYXdSZWN0QXRDZWxsIiwiaiIsImNlbGxTaXplIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhczJEIiwiS2V5Ym9hcmQiLCJfdGhpcyIsImtleXNQcmVzc2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXlEb3duIiwiZXZlbnQiLCJrZXlDb2RlIiwicmVzZXQiLCJpc1ByZXNzZWQiLCJrZXlib2FyZCIsIlNoYXBlVHlwZSIsInRldHJpcyIsIkdhbWVXb3JsZF8xIiwiS2V5Ym9hcmRfMSIsIkNhbnZhc18xIiwiZ2FtZV9jb25maWdfMSIsImdhbWVXaWR0aCIsIldpZHRoIiwiZ2FtZUhlaWdodCIsIkhlaWdodCIsImdhbWVMb29wIiwidXBkYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkdhbWVXb3JsZCIsIlNoYXBlVHlwZV8xIiwiR2FtZU1hcF8xIiwiU2hhcGVGYWN0b3J5XzEiLCJfbW92aW5nU2hhcGUiLCJfc2hhcGVzUXVldWUiLCJfc2hhcGVUeXBlcyIsIkkiLCJKIiwiTCIsIk8iLCJTIiwiWiIsIlQiLCJfc2hhcGVGYWN0b3J5IiwiU2hhcGVGYWN0b3J5IiwiX21hcCIsIkdhbWVNYXAiLCJpbml0IiwiX2dhbWVPdmVyIiwiX3Njb3JlIiwiX2ZyYW1lIiwiX3VwZGF0ZUV2ZXJ5WEZyYW1lcyIsIm5ld1NoYXBlIiwiZ2VuZXJhdGVSYW5kb21TaGFwZSIsImluY3JlYXNlU2NvcmUiLCJ0b0FkZCIsImRyb3BTaGFwZSIsIm51bU9mQ2VsbHMiLCJsb3dlclNoYXBlIiwiaGFuZGxlSW5wdXQiLCJ0b01vdmVYIiwiY2VsbHNEcm9wcGVkIiwicm90YXRlU2hhcGUiLCJjZWxscyIsInNvbWUiLCJjZWxsIiwibmV4dFgiLCJwYXJ0T2ZTaGFwZSIsImlzUGFydE9mU2hhcGUiLCJpc0NlbGxGaWxsZWQiLCJjbGVhclNoYXBlIiwibW92ZSIsImNvbG9yU2hhcGUiLCJvcmlnaW4iLCJfaSIsIl9hIiwibGVuZ3RoIiwibmV3WCIsIm5ld1kiLCJuZXdDZWxsIiwicHVzaCIsImV2ZXJ5IiwiaXNJbk1hcCIsInJlYWNoZWRCb3R0b20iLCJuZXh0WSIsImhhbmRsZUZpbGxlZExpbmVzIiwiZmlsbGVkTGluZXNDb3VudCIsInJlbW92ZUZpbGxlZExpbmVzIiwiY2hlY2tGb3JHYW1lT3ZlciIsImFueUZpbGxlZE9uUm93IiwicmFuZG9tU2hhcGVUeXBlSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzaGFwZUNvbG9yIiwiY3JlYXRlU2hhcGUiLCJkcmF3U2hhcGVzSW5RdWV1ZSIsInNoYXBlIiwiZGVtb1NoYXBlIiwidGhpc18xIiwic2hhcGVUeXBlIiwiZm9yRWFjaCIsInVuc2hpZnQiLCJwb3AiLCJkcmF3U2NvcmUiLCJ0b1N0cmluZyIsIkNlbGxfMSIsIl93aWR0aCIsIl9oZWlnaHQiLCJDZWxsIiwiZmlsbGVkIiwiY2xlYXJDZWxsIiwiY29sb3JDZWxsIiwicm93Iiwic3BsaWNlIiwibmV3Um93IiwiX2ZpbGxlZCIsIl9jb2xvciIsInYiLCJTaGFwZV8xIiwibWFyZ2luIiwic2hhcGVPcmlnaW4iLCJzaGFwZUNlbGxzIiwiU2hhcGUiLCJfY2VsbHMiLCJfb3JpZ2luIiwiX3NoYXBlVHlwZSIsInNoYXBlQ2VsbCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxH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aGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsImV4cG9ydCBjb25zdCBHQU1FX0NPTkZJRyA6IGFueSA9IHtcblxuICAgIC8vIFBIWVNJQ1NcbiAgICBVUERBVEVfQUZURVJfWF9GUkFNRVM6IDQwLFxuXG4gICAgLy8gU0laSU5HXG4gICAgQ0VMTF9TSVpFOiA0MCxcbiAgICBORVhUX1NIQVBFX0NFTExfU0laRTogMTAsXG5cbiAgICAvLyBDT0xPUlNcbiAgICBCQUNLR1JPVU5EX0NPTE9SOiAnIzI4MzYzQicsXG4gICAgU1RST0tFX0NPTE9SOiAnYmxhY2snLFxuICAgIFNIQVBFX0NPTE9SUzogW1wiI0Y5QjM4RlwiLCBcIiNCRjZDODZcIiwgXCIjODRBRjlDXCIsIFwiIzZENUM4MFwiLCBcIiNGRkEzRDBcIiwgXCIjNDM5RjlFXCIsIFwiI0VGNUYzQ1wiXSxcbiAgICBcbiAgICAvLyBURVhUXG4gICAgRk9OVDogJzIwcHggQ29taWMgU2FucyBNUycsICAgIFxuICAgIEZPTlRfQ09MT1I6ICd3aGl0ZScsXG4gICAgU0NPUkVfTEFCRUw6ICdTY29yZTogJyxcbiAgICBORVhUX1NIQVBFX0xBQkVMOiAnTmV4dCBTaGFwZTogJyxcblxuICAgIC8vIFBPU0lUSU9OU1xuICAgIFNDT1JFX1BPU0lUSU9OOiB7WDogMTAsIFk6IDI1fSxcbiAgICBORVhUX1NIQVBFX0xBQkVMX1BPU0lUSU9OOiB7WDogNDAwLCBZOiAyNX0sXG4gICAgTkVYVF9TSEFQRV9QT1NJVElPTjoge1g6IDU0NSwgWTogOH0sXG5cbiAgICAvLyBLRVlTXG4gICAgTEVGVF9LRVk6IDM3LFxuICAgIFJJR0hUX0tFWTogMzksXG4gICAgVVBfS0VZOiAzOCxcbiAgICBET1dOX0tFWTogNDAsXG4gICAgRFJPUDogMTMsXG5cbiAgICAvLyBSVUxFU1xuICAgIEZJTExFRF9MSU5FX0JPTlVTOiAxMDAsXG4gICAgRFJPUFBFRF9TSEFQRV9CT05VUzogMixcbiAgICBMT1dFUkVEX1NIQVBFX0JPTlVTOiAxLFxufTtcbiIsIlxuZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuICAgIHByaXZhdGUgX3g6IG51bWJlcjtcbiAgICBwcml2YXRlIF95OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgfVxuXG4gICAgZ2V0IFgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgIH1cbiAgICBcbiAgICBnZXQgWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBaZXJvKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgfVxuXG4gICAgYWRkWCh4OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMuX3gsIHRoaXMuX3kpLmFkZFRvWCh4KTtcbiAgICB9XG5cbiAgICBhZGRZKHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy5feCwgdGhpcy5feSkuYWRkVG9ZKHkpO1xuICAgIH1cblxuICAgIGFkZFRvWCh4OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5feCArPSB4O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRUb1koeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3kgKz0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYWRkKHggOiBudW1iZXIsIHk6IG51bWJlcikgOiB2b2lke1xuICAgICAgICB0aGlzLmFkZFRvWCh4KTtcbiAgICAgICAgdGhpcy5hZGRUb1koeSk7XG4gICAgfVxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL2dlb20vVmVjdG9yMic7XG5cbmNsYXNzIENhbnZhczJEIHtcblxuICAgIHByaXZhdGUgX2NhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgX2NvbnRleHQgOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgLy90aGlzLmZpeERQSSgpO1xuICAgIH1cblxuICAgIGdldCBXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy53aWR0aDtcbiAgICB9XG4gICAgXG4gICAgZ2V0IEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBmaXhEUEkoKXtcbiAgICAvLyAgICAgLy9nZXQgRFBJXG4gICAgLy8gICAgIGxldCBkcGk6IG51bWJlciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG4gICAgLy8gICAgIC8vZ2V0IENTUyBoZWlnaHRcbiAgICAvLyAgICAgLy90aGUgKyBwcmVmaXggY2FzdHMgaXQgdG8gYW4gaW50ZWdlclxuICAgIC8vICAgICAvL3RoZSBzbGljZSBtZXRob2QgZ2V0cyByaWQgb2YgXCJweFwiXG4gICAgLy8gICAgIGxldCBzdHlsZV9oZWlnaHQ6IG51bWJlciA9ICtnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2NhbnZhcykuZ2V0UHJvcGVydHlWYWx1ZShcImhlaWdodFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgIC8vICAgICAvL2dldCBDU1Mgd2lkdGhcbiAgICAvLyAgICAgbGV0IHN0eWxlX3dpZHRoOiBudW1iZXIgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9jYW52YXMpLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgIC8vICAgICAvL3NjYWxlIHRoZSBjYW52YXNcbiAgICAvLyAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHN0eWxlX2hlaWdodCAqIGRwaSkudG9TdHJpbmcoKSk7XG4gICAgLy8gICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgKHN0eWxlX3dpZHRoICogZHBpKS50b1N0cmluZygpKTtcbiAgICAvLyB9XG5cbiAgICBkcmF3QmFja2dyb3VuZChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1JlY3QocG9zaXRpb246IFZlY3RvcjIsIGZpbGxDb2xvcjogc3RyaW5nLCBzdHJva2VDb2xvcjogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QocG9zaXRpb24uWCwgcG9zaXRpb24uWSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlUmVjdChwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1RleHQodGV4dDogc3RyaW5nLCBmb250OnN0cmluZywgY29sb3I6IHN0cmluZywgcG9zaXRpb246IFZlY3RvcjIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFRleHQodGV4dCwgcG9zaXRpb24uWCwgcG9zaXRpb24uWSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGRyYXdSZWN0QXRDZWxsKGk6IG51bWJlciwgajogbnVtYmVyLCBmaWxsQ29sb3I6IHN0cmluZywgc3Ryb2tlQ29sb3I6IHN0cmluZywgY2VsbFNpemU6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kcmF3UmVjdChuZXcgVmVjdG9yMihqICogY2VsbFNpemUsaSAqIGNlbGxTaXplKSwgZmlsbENvbG9yLCBzdHJva2VDb2xvciwgY2VsbFNpemUsIGNlbGxTaXplKTtcbiAgICB9XG59XG5cbmNvbnN0IGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuZXhwb3J0IGNvbnN0IGNhbnZhczJEID0gbmV3IENhbnZhczJEKGNhbnZhcyk7IiwiXG5jbGFzcyBLZXlib2FyZCB7XG5cbiAgICBrZXlzUHJlc3NlZCA6IGJvb2xlYW5bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge3RoaXMua2V5RG93bihlKSB9KTtcbiAgICB9XG5cbiAgICBrZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIHRoaXMua2V5c1ByZXNzZWRbZXZlbnQua2V5Q29kZV0gPSB0cnVlO1xuICAgIH1cblxuICAgIHJlc2V0KCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZCA9IFtdO1xuICAgIH1cblxuICAgIGlzUHJlc3NlZChrZXlDb2RlOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1ByZXNzZWRba2V5Q29kZV07XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoKTsiLCJleHBvcnQgZW51bSBTaGFwZVR5cGUge1xuICAgIEksXG4gICAgSixcbiAgICBMLFxuICAgIFMsXG4gICAgWixcbiAgICBPLFxuICAgIFRcbn0iLCJpbXBvcnQgeyBHYW1lV29ybGQgfSBmcm9tICcuL0dhbWVXb3JsZCc7XG5pbXBvcnQgeyBrZXlib2FyZCB9IGZyb20gJy4vaW5wdXQvS2V5Ym9hcmQnO1xuaW1wb3J0IHsgY2FudmFzMkQgfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuXG5jb25zdCBnYW1lV2lkdGggPSBjYW52YXMyRC5XaWR0aCAvIEdBTUVfQ09ORklHLkNFTExfU0laRTtcbmNvbnN0IGdhbWVIZWlnaHQgPSBjYW52YXMyRC5IZWlnaHQgLyBHQU1FX0NPTkZJRy5DRUxMX1NJWkU7XG5cbmxldCB0ZXRyaXM6IEdhbWVXb3JsZDtcblxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgdGV0cmlzID0gbmV3IEdhbWVXb3JsZChnYW1lV2lkdGgsIGdhbWVIZWlnaHQpO1xuICAgIGdhbWVMb29wKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB0ZXRyaXMudXBkYXRlKCk7XG4gICAga2V5Ym9hcmQucmVzZXQoKTtcbn1cblxuZnVuY3Rpb24gZHJhdygpIHtcbiAgICAvL2NhbnZhczJELmZpeERQSSgpO1xuICAgIGNhbnZhczJELmNsZWFyKCk7XG4gICAgY2FudmFzMkQuZHJhd0JhY2tncm91bmQoR0FNRV9DT05GSUcuQkFDS0dST1VORF9DT0xPUik7XG4gICAgdGV0cmlzLmRyYXcoKTtcbn1cblxuZnVuY3Rpb24gZ2FtZUxvb3AoKSB7XG4gICAgdXBkYXRlKCk7XG4gICAgZHJhdygpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShnYW1lTG9vcCk7XG59XG5cbnN0YXJ0KCk7IiwiaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuL2dhbWUuY29uZmlnJztcbmltcG9ydCB7IGtleWJvYXJkIH0gZnJvbSAnLi9pbnB1dC9LZXlib2FyZCc7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSAnLi9nZW9tL1ZlY3RvcjInO1xuaW1wb3J0IHsgY2FudmFzMkQgfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQgeyBTaGFwZSB9IGZyb20gJy4vc2hhcGUvU2hhcGUnO1xuaW1wb3J0IHsgU2hhcGVUeXBlIH0gZnJvbSAnLi9zaGFwZS9TaGFwZVR5cGUnO1xuaW1wb3J0IHsgR2FtZU1hcCB9IGZyb20gJy4vbWFwL0dhbWVNYXAnO1xuaW1wb3J0IHsgU2hhcGVGYWN0b3J5IH0gZnJvbSAnLi9zaGFwZS9TaGFwZUZhY3RvcnknO1xuXG5leHBvcnQgY2xhc3MgR2FtZVdvcmxkIHtcblxuICAgIC8vLS0tLS0tTWVtYmVycy0tLS0tLS8vXG5cbiAgICBwcml2YXRlIF9tYXA6IEdhbWVNYXA7XG4gICAgcHJpdmF0ZSBfdXBkYXRlRXZlcnlYRnJhbWVzOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfZnJhbWU6IG51bWJlcjtcbiAgICBwcml2YXRlIF9tb3ZpbmdTaGFwZTogU2hhcGUgPSBudWxsO1xuICAgIHByaXZhdGUgX3NoYXBlc1F1ZXVlOiBTaGFwZVtdID0gW107XG4gICAgcHJpdmF0ZSBfc2NvcmU6IG51bWJlcjtcbiAgICBwcml2YXRlIF9nYW1lT3ZlciA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfc2hhcGVGYWN0b3J5OiBTaGFwZUZhY3Rvcnk7XG5cbiAgICBwcml2YXRlIF9zaGFwZVR5cGVzOiBTaGFwZVR5cGVbXSA9IFtcbiAgICAgICAgU2hhcGVUeXBlLkksXG4gICAgICAgIFNoYXBlVHlwZS5KLFxuICAgICAgICBTaGFwZVR5cGUuTCxcbiAgICAgICAgU2hhcGVUeXBlLk8sXG4gICAgICAgIFNoYXBlVHlwZS5TLFxuICAgICAgICBTaGFwZVR5cGUuWixcbiAgICAgICAgU2hhcGVUeXBlLlRcbiAgICBdO1xuXG4gICAgLy8tLS0tLS1Qcm9wZXJ0aWVzLS0tLS0tLy9cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGdhbWVPdmVyKCkgOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVPdmVyO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICAvLy0tLS0tLUNvbnN0cnVjdG9yLS0tLS0tLy9cblxuICAgIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3NoYXBlRmFjdG9yeSA9IG5ldyBTaGFwZUZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IEdhbWVNYXAod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xuICAgICAgICB0aGlzLl9mcmFtZSA9IDA7IFxuICAgICAgICB0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMgPSBHQU1FX0NPTkZJRy5VUERBVEVfQUZURVJfWF9GUkFNRVM7XG4gICAgICAgIHRoaXMuX21hcC5pbml0KCk7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlOiBTaGFwZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TaGFwZSgpO1xuICAgICAgICB0aGlzLl9zaGFwZXNRdWV1ZSA9IFtuZXdTaGFwZV07XG4gICAgICAgIHRoaXMuX21vdmluZ1NoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgfVxuXG4gICAgLy8tLS0tLS1Qcml2YXRlIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHJpdmF0ZSBpbmNyZWFzZVNjb3JlKHRvQWRkOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Njb3JlICs9IHRvQWRkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZHJvcFNoYXBlKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBudW1PZkNlbGxzID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlKCF0aGlzLmxvd2VyU2hhcGUoKSl7XG4gICAgICAgICAgICBudW1PZkNlbGxzKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bU9mQ2VsbHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVJbnB1dCgpOiB2b2lkIHtcblxuICAgICAgICBsZXQgdG9Nb3ZlWCA9IDA7XG5cbiAgICAgICAgaWYoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkRST1ApKSB7XG4gICAgICAgICAgICBsZXQgY2VsbHNEcm9wcGVkID0gdGhpcy5kcm9wU2hhcGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTY29yZShjZWxsc0Ryb3BwZWQgKiBHQU1FX0NPTkZJRy5EUk9QUEVEX1NIQVBFX0JPTlVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5VUF9LRVkpKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0ZVNoYXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkRPV05fS0VZKSkge1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKEdBTUVfQ09ORklHLkxPV0VSRURfU0hBUEVfQk9OVVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5MRUZUX0tFWSkpIHtcbiAgICAgICAgICAgIHRvTW92ZVggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuUklHSFRfS0VZKSkge1xuICAgICAgICAgICAgdG9Nb3ZlWCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0b01vdmVYICE9PSAwKXtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVhY2hlZEJvcmRlciA9IHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLnNvbWUoY2VsbCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFggPSBjZWxsLlggKyB0b01vdmVYO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsLmFkZFgodG9Nb3ZlWCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0WCA8IDAgfHwgbmV4dFggPT09IHRoaXMuX21hcC53aWR0aCB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5fbWFwLmlzQ2VsbEZpbGxlZChuZXh0WCwgY2VsbC5ZKSAmJiAhcGFydE9mU2hhcGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKCFyZWFjaGVkQm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmNsZWFyU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLm1vdmUodG9Nb3ZlWCwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLmNvbG9yU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByb3RhdGVTaGFwZSgpOiB2b2lkIHtcblxuICAgICAgICBpZighdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdTaGFwZSA9IFtdO1xuXG4gICAgICAgIGZvcihsZXQgY2VsbCBvZiB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscykge1xuICAgICAgICAgICAgbGV0IHggPSBjZWxsLlggLSB0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4uWDtcbiAgICAgICAgICAgIGxldCB5ID0gY2VsbC5ZIC0gdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luLlk7XG4gICAgICAgICAgICBsZXQgbmV3WCA9IC15O1xuICAgICAgICAgICAgbGV0IG5ld1kgPSB4O1xuXG4gICAgICAgICAgICBsZXQgbmV3Q2VsbCA9IHRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbi5hZGRYKG5ld1gpLmFkZFkobmV3WSk7XG4gICAgICAgICAgICBuZXdTaGFwZS5wdXNoKG5ld0NlbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvc3NpYmxlUm90YXRpb24gPSBuZXdTaGFwZS5ldmVyeShjZWxsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXAuaXNJbk1hcChjZWxsLlgsIGNlbGwuWSkgJiZcbiAgICAgICAgICAgICAgICAoIXRoaXMuX21hcC5pc0NlbGxGaWxsZWQoY2VsbC5YLCBjZWxsLlkpIHx8IHBhcnRPZlNoYXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYocG9zc2libGVSb3RhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNsZWFyU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMgPSBuZXdTaGFwZTtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jb2xvclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG93ZXJTaGFwZSgpOiBib29sZWFuIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlYWNoZWRCb3R0b20gPSB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscy5zb21lKGNlbGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dFk6IG51bWJlciA9IGNlbGwuWSArIDE7XG4gICAgICAgICAgICBjb25zdCBwYXJ0T2ZTaGFwZSA9IHRoaXMuX21vdmluZ1NoYXBlLmlzUGFydE9mU2hhcGUoY2VsbC5hZGRZKDEpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0WSA9PT0gdGhpcy5fbWFwLmhlaWdodCB8fFxuICAgICAgICAgICAgICAgICAgICh0aGlzLl9tYXAuaXNDZWxsRmlsbGVkKGNlbGwuWCwgbmV4dFkpICYmICFwYXJ0T2ZTaGFwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKCFyZWFjaGVkQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY2xlYXJTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZS5tb3ZlKDAsIDEpO1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNvbG9yU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlYWNoZWRCb3R0b207XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVGaWxsZWRMaW5lcygpOiB2b2lkIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBmaWxsZWRMaW5lc0NvdW50ID0gdGhpcy5fbWFwLnJlbW92ZUZpbGxlZExpbmVzKCk7XG5cbiAgICAgICAgaWYoZmlsbGVkTGluZXNDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5jcmVhc2VTY29yZShmaWxsZWRMaW5lc0NvdW50ICogR0FNRV9DT05GSUcuRklMTEVEX0xJTkVfQk9OVVMpO1xuXG4gICAgICAgICAgICBpZih0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrRm9yR2FtZU92ZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuYW55RmlsbGVkT25Sb3coMCk7XG4gICAgfSBcblxuICAgIHByaXZhdGUgZ2VuZXJhdGVSYW5kb21TaGFwZSgpOiBTaGFwZSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbVNoYXBlVHlwZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fc2hhcGVUeXBlcy5sZW5ndGgpO1xuICAgICAgICBsZXQgc2hhcGVDb2xvciA9IEdBTUVfQ09ORklHLlNIQVBFX0NPTE9SU1tyYW5kb21TaGFwZVR5cGVJbmRleF07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5fc2hhcGVGYWN0b3J5LmNyZWF0ZVNoYXBlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGFwZVR5cGVzW3JhbmRvbVNoYXBlVHlwZUluZGV4XSwgXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKE1hdGguZmxvb3IodGhpcy5fbWFwLndpZHRoIC8gMiksIC0zKSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVDb2xvclxuICAgICAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkcmF3U2hhcGVzSW5RdWV1ZSgpOiB2b2lkIHtcbiAgICAgICAgY2FudmFzMkQuZHJhd1RleHQoXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9MQUJFTCwgXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuRk9OVCwgXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuRk9OVF9DT0xPUiwgXG4gICAgICAgICAgICAgICAgR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9MQUJFTF9QT1NJVElPTlxuICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGZvcihsZXQgc2hhcGUgb2YgdGhpcy5fc2hhcGVzUXVldWUpe1xuICAgICAgICAgICAgbGV0IGRlbW9TaGFwZSA9IHRoaXMuX3NoYXBlRmFjdG9yeS5jcmVhdGVTaGFwZShcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUuc2hhcGVUeXBlLCBcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIoR0FNRV9DT05GSUcuTkVYVF9TSEFQRV9QT1NJVElPTi5YLCBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX1BPU0lUSU9OLlkpLCBcbiAgICAgICAgICAgICAgICAgICAgc2hhcGUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfQ0VMTF9TSVpFXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGVtb1NoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiBcbiAgICAgICAgICAgICAgICBjYW52YXMyRC5kcmF3UmVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwsIFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVtb1NoYXBlLmNvbG9yLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLlNUUk9LRV9DT0xPUiwgXG4gICAgICAgICAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5ORVhUX1NIQVBFX0NFTExfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLk5FWFRfU0hBUEVfQ0VMTF9TSVpFXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8tLS0tLS1QdWJsaWMgTWV0aG9kcy0tLS0tLS8vXG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmhhbmRsZUlucHV0KCk7XG4gICAgICAgIGlmKCsrdGhpcy5fZnJhbWUgJSB0aGlzLl91cGRhdGVFdmVyeVhGcmFtZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWFjaGVkQm90dG9tID0gdGhpcy5sb3dlclNoYXBlKCk7XG4gICAgICAgIGlmKHJlYWNoZWRCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRmlsbGVkTGluZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVPdmVyID0gdGhpcy5jaGVja0ZvckdhbWVPdmVyKCk7XG4gICAgICAgICAgICBpZighdGhpcy5fZ2FtZU92ZXIpe1xuICAgICAgICAgICAgICAgIGxldCBuZXdTaGFwZTogU2hhcGUgPSB0aGlzLmdlbmVyYXRlUmFuZG9tU2hhcGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGFwZXNRdWV1ZS51bnNoaWZ0KG5ld1NoYXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZSA9IHRoaXMuX3NoYXBlc1F1ZXVlLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd1Njb3JlKCk6IHZvaWQge1xuICAgICAgICBjYW52YXMyRC5kcmF3VGV4dChcbiAgICAgICAgICAgICAgICBHQU1FX0NPTkZJRy5TQ09SRV9MQUJFTCArIHRoaXMuX3Njb3JlLnRvU3RyaW5nKCksIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLkZPTlQsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLkZPTlRfQ09MT1IsIFxuICAgICAgICAgICAgICAgIEdBTUVfQ09ORklHLlNDT1JFX1BPU0lUSU9OXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tYXAuZHJhdygpO1xuICAgICAgICB0aGlzLmRyYXdTY29yZSgpO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZXNJblF1ZXVlKCk7XG4gICAgfVxufSIsImltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi8uLi9zaGFwZS9TaGFwZSc7XG5pbXBvcnQgeyBDZWxsIH0gZnJvbSBcIi4vQ2VsbFwiO1xuaW1wb3J0IHsgY2FudmFzMkQgfSBmcm9tIFwiLi4vQ2FudmFzXCI7XG5pbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gXCIuLi9nYW1lLmNvbmZpZ1wiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9nZW9tL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXAge1xuXG4gICAgcHJpdmF0ZSBfbWFwOiBDZWxsW11bXTtcbiAgICBwcml2YXRlIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuXG4gICAgXG4gICAgcHVibGljIGdldCBoZWlnaHQoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9tYXAgPSBbXTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KCk6IHZvaWR7XG4gICAgICAgIGZvcihsZXQgaTogbnVtYmVyID0gMCA7IGkgPCB0aGlzLl9oZWlnaHQgOyBpKysgKXtcbiAgICAgICAgICAgIHRoaXMuX21hcFtpXSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IobGV0IGo6IG51bWJlciA9IDAgOyBqIDwgdGhpcy5fd2lkdGggOyBqKyspe1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcFtpXVtqXSA9IG5ldyBDZWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXNJbk1hcCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICByZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLl93aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNDZWxsRmlsbGVkKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzSW5NYXAoeCx5KSAmJiB0aGlzLl9tYXBbeV1beF0uZmlsbGVkO1xuICAgIH1cblxuXG4gICAgcHVibGljIGNsZWFyQ2VsbCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZih0aGlzLmlzSW5NYXAoeCwgeSkpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcFt5XVt4XS5maWxsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhclNoYXBlKHNoYXBlOiBTaGFwZSk6IHZvaWQge1xuICAgICAgICBzaGFwZS5jZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhckNlbGwoY2VsbC5YLCBjZWxsLlkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29sb3JDZWxsKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaXNJbk1hcCh4LCB5KSl7XG4gICAgICAgICAgICB0aGlzLl9tYXBbeV1beF0uZmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21hcFt5XVt4XS5jb2xvciA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNvbG9yU2hhcGUoc2hhcGU6IFNoYXBlKTogdm9pZCB7XG4gICAgICAgIHNoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yQ2VsbChjZWxsLlgsIGNlbGwuWSwgc2hhcGUuY29sb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW55RmlsbGVkT25Sb3cocm93OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFtyb3ddLnNvbWUoY2VsbCA9PiBjZWxsLmZpbGxlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUZpbGxlZExpbmVzKCk6IG51bWJlciB7XG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IGZpbGxlZExpbmVzQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwIDsgaSA8IHRoaXMuX21hcC5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGxlZExpbmUgOiBib29sZWFuID0gdGhpcy5fbWFwW2ldLmV2ZXJ5KGNlbGwgPT4gY2VsbC5maWxsZWQpO1xuXG4gICAgICAgICAgICBpZihmaWxsZWRMaW5lKSB7XG4gICAgICAgICAgICAgICAgZmlsbGVkTGluZXNDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcC5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Um93OiBDZWxsW10gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwIDsgaiA8IHRoaXMuX3dpZHRoIDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tqXSA9IG5ldyBDZWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnVuc2hpZnQobmV3Um93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWxsZWRMaW5lc0NvdW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICBmb3IobGV0IGkgPSAwIDsgaSA8IHRoaXMuX21hcC5sZW5ndGggOyBpKyspe1xuICAgICAgICAgICAgZm9yKGxldCBqID0gMCA7IGogPCB0aGlzLl9tYXBbaV0ubGVuZ3RoIDsgaisrKXtcbiAgICAgICAgICAgICAgICBjb25zdCBjZWxsOiBDZWxsID0gdGhpcy5fbWFwW2ldW2pdO1xuICAgICAgICAgICAgICAgIGlmKGNlbGwuZmlsbGVkKXtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzMkQuZHJhd1JlY3RBdENlbGwoaSwgaiwgY2VsbC5jb2xvciwgR0FNRV9DT05GSUcuU1RST0tFX0NPTE9SLCBHQU1FX0NPTkZJRy5DRUxMX1NJWkUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBDZWxsIHtcblxuICAgIHByaXZhdGUgX2ZpbGxlZCA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfY29sb3IgOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY29sb3IodiA6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IHY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaWxsZWQoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbGVkO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGZpbGxlZCh2IDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSB2O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgU2hhcGVUeXBlIH0gZnJvbSBcIi4vU2hhcGVUeXBlXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgU2hhcGUgfSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tIFwiLi4vZ2FtZS5jb25maWdcIjtcblxuZXhwb3J0IGNsYXNzIFNoYXBlRmFjdG9yeSB7XG4gICAgcHVibGljIGNyZWF0ZVNoYXBlKHNoYXBlVHlwZTogU2hhcGVUeXBlLCBwb3NpdGlvbjogVmVjdG9yMiwgc2hhcGVDb2xvcjogc3RyaW5nLCBtYXJnaW46IG51bWJlciA9IDEpOiBTaGFwZSB7XG5cbiAgICAgICAgbGV0IHNoYXBlQ2VsbHM6IFZlY3RvcjJbXSA9IFtdO1xuICAgICAgICBsZXQgc2hhcGVPcmlnaW46IFZlY3RvcjI7XG5cbiAgICAgICAgc3dpdGNoKHNoYXBlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuSTpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMiAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAzICogbWFyZ2luKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5KOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAyICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCAtIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAyICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuTDpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDIgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSAqIG1hcmdpbiwgcG9zaXRpb24uWSArIDIgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5POlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSAqIG1hcmdpbiwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlM6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxICogbWFyZ2luLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSAqIG1hcmdpbiwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5aOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSAqIG1hcmdpbiwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEgKiBtYXJnaW4sIHBvc2l0aW9uLlkgKyAxICogbWFyZ2luKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNoYXBlT3JpZ2luID0gbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuVDpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSAqIG1hcmdpbiwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSAqIG1hcmdpbiwgcG9zaXRpb24uWSArIDEgKiBtYXJnaW4pLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSAqIG1hcmdpbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7ICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgU2hhcGUoc2hhcGVUeXBlLCBzaGFwZUNlbGxzLCBzaGFwZU9yaWdpbiwgc2hhcGVDb2xvcik7XG4gICAgfVxufSIsImltcG9ydCB7IFNoYXBlVHlwZSB9IGZyb20gJy4vU2hhcGVUeXBlJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuLy4uL2dlb20vVmVjdG9yMic7XG5cbmV4cG9ydCBjbGFzcyBTaGFwZSB7XG5cbiAgICBwcml2YXRlIF9jZWxsczogVmVjdG9yMltdID0gW107XG4gICAgcHJpdmF0ZSBfY29sb3I6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX29yaWdpbjogVmVjdG9yMiA9IG51bGw7XG4gICAgcHJpdmF0ZSBfc2hhcGVUeXBlOiBTaGFwZVR5cGU7XG4gICAgXG4gICAgcHVibGljIGdldCBzaGFwZVR5cGUoKSA6IFNoYXBlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFwZVR5cGU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgY2VsbHMoKSA6IFZlY3RvcjJbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jZWxscztcbiAgICB9XG4gICAgcHVibGljIHNldCBjZWxscyhjZWxscyA6IFZlY3RvcjJbXSkge1xuICAgICAgICB0aGlzLl9jZWxscyA9IGNlbGxzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb3JpZ2luKCkgOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWdpbjtcbiAgICB9XG4gICAgcHVibGljIHNldCBvcmlnaW4ob3JpZ2luIDogVmVjdG9yMikge1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBvcmlnaW47XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgY29sb3IoKSA6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjtcbiAgICB9XG4gICAgcHVibGljIHNldCBjb2xvcihjb2xvciA6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgIH1cbiAgICBcbiAgICBjb25zdHJ1Y3RvcihzaGFwZVR5cGU6IFNoYXBlVHlwZSwgY2VsbHM6IFZlY3RvcjJbXSwgb3JpZ2luOiBWZWN0b3IyLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3NoYXBlVHlwZSA9IHNoYXBlVHlwZTtcbiAgICAgICAgdGhpcy5fY2VsbHMgPSBjZWxscztcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fb3JpZ2luID0gb3JpZ2luO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1BhcnRPZlNoYXBlKGNlbGw6IFZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NlbGxzLnNvbWUoc2hhcGVDZWxsID0+IHNoYXBlQ2VsbC5YID09PSBjZWxsLlggJiYgc2hhcGVDZWxsLlkgPT09IGNlbGwuWSk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdmUoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCkge1xuICAgICAgICBpZih0aGlzLl9vcmlnaW4pe1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luLmFkZFRvWCh4KS5hZGRUb1koeSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuYWRkVG9YKHgpLmFkZFRvWSh5KSk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=