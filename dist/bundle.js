!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_CONFIG={UPDATE_AFTER_X_FRAMES:40,CELL_SIZE:80,BACKGROUND_COLOR:"#28363B",STROKE_COLOR:"black",SHAPE_COLORS:["#F9B38F","#BF6C86","#84AF9C","#6D5C80","#FFA3D0","#439F9E","#EF5F3C"],FONT:"40px Comic Sans MS",FONT_COLOR:"white",SCORE_POSITION:{X:20,Y:50},LEFT_KEY:37,RIGHT_KEY:39,UP_KEY:38,DOWN_KEY:40,DROP:13,FILLED_LINE_BONUS:100,DROPPED_SHAPE_BONUS:2,LOWERED_SHAPE_BONUS:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.keysPressed=[],document.addEventListener("keydown",function(t){e.keyDown(t)})}return e.prototype.keyDown=function(e){this.keysPressed[e.keyCode]=!0},e.prototype.reset=function(){this.keysPressed=[]},e.prototype.isPressed=function(e){return this.keysPressed[e]},e}();t.keyboard=new n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"X",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Zero",{get:function(){return new e(0,0)},enumerable:!0,configurable:!0}),e.prototype.addX=function(t){return new e(this._x,this._y).addToX(t)},e.prototype.addY=function(t){return new e(this._x,this._y).addToY(t)},e.prototype.addToX=function(e){return this._x+=e,this},e.prototype.addToY=function(e){return this._y+=e,this},e.prototype.add=function(e,t){this.addToX(e),this.addToY(t)},e}();t.Vector2=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=function(){function e(e){this._canvas=e,this._context=this._canvas.getContext("2d"),this.fixDPI()}return Object.defineProperty(e.prototype,"Width",{get:function(){return this._canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Height",{get:function(){return this._canvas.height},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.fixDPI=function(){var e=window.devicePixelRatio,t=+getComputedStyle(this._canvas).getPropertyValue("height").slice(0,-2),r=+getComputedStyle(this._canvas).getPropertyValue("width").slice(0,-2);this._canvas.setAttribute("height",(t*e).toString()),this._canvas.setAttribute("width",(r*e).toString())},e.prototype.drawBackground=function(e){this._context.save(),this._context.fillStyle=e,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._context.restore()},e.prototype.drawRect=function(e,t,r,n,o){this._context.save(),this._context.strokeStyle=r,this._context.fillStyle=t,this._context.fillRect(e.X,e.Y,n,o),this._context.strokeRect(e.X,e.Y,n,o),this._context.restore()},e.prototype.drawText=function(e,t,r,n){this._context.save(),this._context.fillStyle=r,this._context.font=t,this._context.fillText(e,n.X,n.Y),this._context.restore()},e.prototype.drawRectAtCell=function(e,t,r,o,i){this.drawRect(new n.Vector2(t*i,e*i),r,o,i,i)},e}(),i=document.getElementById("screen");t.canvas2D=new o(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(5),i=r(1),a=r(3),s=r(0),c=a.canvas2D.Width/s.GAME_CONFIG.CELL_SIZE,h=a.canvas2D.Height/s.GAME_CONFIG.CELL_SIZE;function p(){n.update(),i.keyboard.reset(),a.canvas2D.fixDPI(),a.canvas2D.clear(),a.canvas2D.drawBackground(s.GAME_CONFIG.BACKGROUND_COLOR),n.draw(),requestAnimationFrame(p)}n=new o.GameWorld(c,h),p()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=r(2),a=r(3),s=r(7),c=r(9),h=r(10),p=function(){function e(e,t){this._movingShape=null,this._shapesQueue=[],this._shapeTypes=[s.ShapeType.I,s.ShapeType.J,s.ShapeType.L,s.ShapeType.O,s.ShapeType.S,s.ShapeType.Z,s.ShapeType.T],this._shapeFactory=new h.ShapeFactory,this._map=new c.GameMap(e,t),this.init()}return Object.defineProperty(e.prototype,"gameOver",{get:function(){return this._gameOver},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._score=0,this._frame=0,this._updateEveryXFrames=n.GAME_CONFIG.UPDATE_AFTER_X_FRAMES,this._map.init();var e=this.generateRandomShape();this._shapesQueue.push(e),this._movingShape=this.generateRandomShape()},e.prototype.increaseScore=function(e){this._score+=e},e.prototype.dropShape=function(){for(var e=0;!this.lowerShape();)e++;return e},e.prototype.handleInput=function(){var e=this,t=0;if(o.keyboard.isPressed(n.GAME_CONFIG.DROP)){var r=this.dropShape();this.increaseScore(r*n.GAME_CONFIG.DROPPED_SHAPE_BONUS)}else if(o.keyboard.isPressed(n.GAME_CONFIG.UP_KEY))this.rotateShape();else if(o.keyboard.isPressed(n.GAME_CONFIG.DOWN_KEY)){this.lowerShape();this.increaseScore(n.GAME_CONFIG.LOWERED_SHAPE_BONUS)}else o.keyboard.isPressed(n.GAME_CONFIG.LEFT_KEY)?t=-1:o.keyboard.isPressed(n.GAME_CONFIG.RIGHT_KEY)&&(t=1);0!==t&&(this._movingShape.cells.some(function(r){var n=r.X+t,o=e._movingShape.isPartOfShape(r.addX(t));return n<0||n===e._map.width||e._map.isCellFilled(n,r.Y)&&!o})||(this._map.clearShape(this._movingShape),this._movingShape.move(t,0),this._map.colorShape(this._movingShape)))},e.prototype.rotateShape=function(){var e=this;if(this._movingShape.origin){for(var t=[],r=0,n=this._movingShape.cells;r<n.length;r++){var o=n[r],i=o.X-this._movingShape.origin.X,a=-(o.Y-this._movingShape.origin.Y),s=i,c=this._movingShape.origin.addX(a).addY(s);t.push(c)}t.every(function(t){var r=e._movingShape.isPartOfShape(t);return e._map.isInMap(t.X,t.Y)&&(!e._map.isCellFilled(t.X,t.Y)||r)})&&(this._map.clearShape(this._movingShape),this._movingShape.cells=t,this._map.colorShape(this._movingShape))}},e.prototype.lowerShape=function(){var e=this,t=this._movingShape.cells.some(function(t){var r=t.Y+1,n=e._movingShape.isPartOfShape(t.addY(1));return r===e._map.height||e._map.isCellFilled(t.X,r)&&!n});return t||(this._map.clearShape(this._movingShape),this._movingShape.move(0,1),this._map.colorShape(this._movingShape)),t},e.prototype.handleFilledLines=function(){var e=this._map.removeFilledLines();this.increaseScore(e*n.GAME_CONFIG.FILLED_LINE_BONUS),this._updateEveryXFrames>0&&this._updateEveryXFrames--},e.prototype.checkForGameOver=function(){return this._map.anyFilledOnRow(0)},e.prototype.generateRandomShape=function(){var e=Math.floor(Math.random()*this._shapeTypes.length),t=n.GAME_CONFIG.SHAPE_COLORS[e];return this._shapeFactory.createShape(this._shapeTypes[e],new i.Vector2(Math.floor(this._map.width/2),-3),t)},e.prototype.update=function(){if((this.handleInput(),!(++this._frame%this._updateEveryXFrames))&&this.lowerShape())if(this.handleFilledLines(),this._gameOver=this.checkForGameOver(),this._gameOver)this.init();else{var e=this.generateRandomShape();this._shapesQueue.unshift(e),this._movingShape=this._shapesQueue.pop()}},e.prototype.drawScore=function(){a.canvas2D.drawText("Score: "+this._score.toString(),n.GAME_CONFIG.FONT,n.GAME_CONFIG.FONT_COLOR,n.GAME_CONFIG.SCORE_POSITION)},e.prototype.draw=function(){this._map.draw(),this.drawScore()},e}();t.GameWorld=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._filled=!1}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),e}();t.Cell=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=0]="I",e[e.J=1]="J",e[e.L=2]="L",e[e.S=3]="S",e[e.Z=4]="Z",e[e.O=5]="O",e[e.T=6]="T"}(t.ShapeType||(t.ShapeType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){this._cells=[],this._color="",this._origin=null,this._shapeType=e,this._cells=t,this._color=n,this._origin=r}return Object.defineProperty(e.prototype,"shapeType",{get:function(){return this._shapeType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){return this._cells},set:function(e){this._cells=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color=e},enumerable:!0,configurable:!0}),e.prototype.isPartOfShape=function(e){return this._cells.some(function(t){return t.X===e.X&&t.Y===e.Y})},e.prototype.move=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._origin&&this._origin.addToX(e).addToY(t),this.cells.forEach(function(r){return r.addToX(e).addToY(t)})},e}();t.Shape=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(3),i=r(0),a=function(){function e(e,t){this._map=[],this._width=e,this._height=t}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.init=function(){for(var e=0;e<this._height;e++){this._map[e]=[];for(var t=0;t<this._width;t++)this._map[e][t]=new n.Cell}},e.prototype.isInMap=function(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height},e.prototype.isCellFilled=function(e,t){return this.isInMap(e,t)&&this._map[t][e].filled},e.prototype.clearCell=function(e,t){this.isInMap(e,t)&&(this._map[t][e].filled=!1)},e.prototype.clearShape=function(e){var t=this;e.cells.forEach(function(e){t.clearCell(e.X,e.Y)})},e.prototype.colorCell=function(e,t,r){this.isInMap(e,t)&&(this._map[t][e].filled=!0,this._map[t][e].color=r)},e.prototype.colorShape=function(e){var t=this;e.cells.forEach(function(r){t.colorCell(r.X,r.Y,e.color)})},e.prototype.anyFilledOnRow=function(e){return this._map[e].some(function(e){return e.filled})},e.prototype.removeFilledLines=function(){for(var e=0,t=0;t<this._map.length;t++){if(this._map[t].every(function(e){return e.filled})){e++,this._map.splice(t,1);for(var r=[],o=0;o<this._width;o++)r[o]=new n.Cell;this._map.unshift(r)}}return e},e.prototype.draw=function(){for(var e=0;e<this._map.length;e++)for(var t=0;t<this._map[e].length;t++){var r=this._map[e][t];r.filled&&o.canvas2D.drawRectAtCell(e,t,r.color,i.GAME_CONFIG.STROKE_COLOR,i.GAME_CONFIG.CELL_SIZE)}},e}();t.GameMap=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(2),i=r(8),a=function(){function e(){}return e.prototype.createShape=function(e,t,r){var a,s=[];switch(e){case n.ShapeType.I:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X,t.Y+2),new o.Vector2(t.X,t.Y+3)],a=new o.Vector2(t.X,t.Y+1);break;case n.ShapeType.J:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X,t.Y+2),new o.Vector2(t.X-1,t.Y+2)],a=new o.Vector2(t.X,t.Y+1);break;case n.ShapeType.L:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X,t.Y+2),new o.Vector2(t.X+1,t.Y+2)],a=new o.Vector2(t.X,t.Y+1);break;case n.ShapeType.O:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X+1,t.Y+1)],a=null;break;case n.ShapeType.S:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X+1,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X-1,t.Y+1)],a=new o.Vector2(t.X,t.Y+1);break;case n.ShapeType.Z:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X-1,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X+1,t.Y+1)],a=new o.Vector2(t.X,t.Y+1);break;case n.ShapeType.T:s=[new o.Vector2(t.X,t.Y),new o.Vector2(t.X,t.Y+1),new o.Vector2(t.X-1,t.Y+1),new o.Vector2(t.X+1,t.Y+1)],a=new o.Vector2(t.X,t.Y+1)}return new i.Shape(e,s,a,r)},e}();t.ShapeFactory=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dC9LZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2VvbS9WZWN0b3IyLnRzIiwid2VicGFjazovLy8uL3NyYy9DYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dhbWVXb3JsZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFwL0NlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXBlL1NoYXBlVHlwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcGUvU2hhcGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hcC9HYW1lTWFwLnRzIiwid2VicGFjazovLy8uL3NyYy9zaGFwZS9TaGFwZUZhY3RvcnkudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJHQU1FX0NPTkZJRyIsIlVQREFURV9BRlRFUl9YX0ZSQU1FUyIsIkNFTExfU0laRSIsIkJBQ0tHUk9VTkRfQ09MT1IiLCJTVFJPS0VfQ09MT1IiLCJTSEFQRV9DT0xPUlMiLCJGT05UIiwiRk9OVF9DT0xPUiIsIlNDT1JFX1BPU0lUSU9OIiwiWCIsIlkiLCJMRUZUX0tFWSIsIlJJR0hUX0tFWSIsIlVQX0tFWSIsIkRPV05fS0VZIiwiRFJPUCIsIkZJTExFRF9MSU5FX0JPTlVTIiwiRFJPUFBFRF9TSEFQRV9CT05VUyIsIkxPV0VSRURfU0hBUEVfQk9OVVMiLCJLZXlib2FyZCIsIl90aGlzIiwidGhpcyIsImtleXNQcmVzc2VkIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImtleURvd24iLCJldmVudCIsImtleUNvZGUiLCJyZXNldCIsImlzUHJlc3NlZCIsImtleWJvYXJkIiwiVmVjdG9yMiIsIngiLCJ5IiwiX3giLCJfeSIsImFkZFgiLCJhZGRUb1giLCJhZGRZIiwiYWRkVG9ZIiwiYWRkIiwiVmVjdG9yMl8xIiwiQ2FudmFzMkQiLCJjYW52YXMiLCJfY2FudmFzIiwiX2NvbnRleHQiLCJnZXRDb250ZXh0IiwiZml4RFBJIiwid2lkdGgiLCJoZWlnaHQiLCJjbGVhciIsImNsZWFyUmVjdCIsImRwaSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzdHlsZV9oZWlnaHQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNsaWNlIiwic3R5bGVfd2lkdGgiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsImRyYXdCYWNrZ3JvdW5kIiwiYmFja2dyb3VuZENvbG9yIiwic2F2ZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImRyYXdSZWN0IiwicG9zaXRpb24iLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImRyYXdUZXh0IiwidGV4dCIsImZvbnQiLCJjb2xvciIsImZpbGxUZXh0IiwiZHJhd1JlY3RBdENlbGwiLCJqIiwiY2VsbFNpemUiLCJnZXRFbGVtZW50QnlJZCIsImNhbnZhczJEIiwidGV0cmlzIiwiR2FtZVdvcmxkXzEiLCJLZXlib2FyZF8xIiwiQ2FudmFzXzEiLCJnYW1lX2NvbmZpZ18xIiwiZ2FtZVdpZHRoIiwiV2lkdGgiLCJnYW1lSGVpZ2h0IiwiSGVpZ2h0IiwiZ2FtZUxvb3AiLCJ1cGRhdGUiLCJkcmF3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiR2FtZVdvcmxkIiwiU2hhcGVUeXBlXzEiLCJHYW1lTWFwXzEiLCJTaGFwZUZhY3RvcnlfMSIsIl9tb3ZpbmdTaGFwZSIsIl9zaGFwZXNRdWV1ZSIsIl9zaGFwZVR5cGVzIiwiU2hhcGVUeXBlIiwiSSIsIkoiLCJMIiwiTyIsIlMiLCJaIiwiVCIsIl9zaGFwZUZhY3RvcnkiLCJTaGFwZUZhY3RvcnkiLCJfbWFwIiwiR2FtZU1hcCIsImluaXQiLCJfZ2FtZU92ZXIiLCJfc2NvcmUiLCJfZnJhbWUiLCJfdXBkYXRlRXZlcnlYRnJhbWVzIiwibmV3U2hhcGUiLCJnZW5lcmF0ZVJhbmRvbVNoYXBlIiwicHVzaCIsImluY3JlYXNlU2NvcmUiLCJ0b0FkZCIsImRyb3BTaGFwZSIsIm51bU9mQ2VsbHMiLCJsb3dlclNoYXBlIiwiaGFuZGxlSW5wdXQiLCJ0b01vdmVYIiwiY2VsbHNEcm9wcGVkIiwicm90YXRlU2hhcGUiLCJjZWxscyIsInNvbWUiLCJjZWxsIiwibmV4dFgiLCJwYXJ0T2ZTaGFwZSIsImlzUGFydE9mU2hhcGUiLCJpc0NlbGxGaWxsZWQiLCJjbGVhclNoYXBlIiwibW92ZSIsImNvbG9yU2hhcGUiLCJvcmlnaW4iLCJfaSIsIl9hIiwibGVuZ3RoIiwibmV3WCIsIm5ld1kiLCJuZXdDZWxsIiwiZXZlcnkiLCJpc0luTWFwIiwicmVhY2hlZEJvdHRvbSIsIm5leHRZIiwiaGFuZGxlRmlsbGVkTGluZXMiLCJmaWxsZWRMaW5lc0NvdW50IiwicmVtb3ZlRmlsbGVkTGluZXMiLCJjaGVja0ZvckdhbWVPdmVyIiwiYW55RmlsbGVkT25Sb3ciLCJyYW5kb21TaGFwZVR5cGVJbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNoYXBlQ29sb3IiLCJjcmVhdGVTaGFwZSIsInVuc2hpZnQiLCJwb3AiLCJkcmF3U2NvcmUiLCJDZWxsIiwiX2ZpbGxlZCIsIl9jb2xvciIsInYiLCJTaGFwZSIsInNoYXBlVHlwZSIsIl9jZWxscyIsIl9vcmlnaW4iLCJfc2hhcGVUeXBlIiwic2hhcGVDZWxsIiwiZm9yRWFjaCIsIkNlbGxfMSIsIl93aWR0aCIsIl9oZWlnaHQiLCJmaWxsZWQiLCJjbGVhckNlbGwiLCJzaGFwZSIsImNvbG9yQ2VsbCIsInJvdyIsInNwbGljZSIsIm5ld1JvdyIsIlNoYXBlXzEiLCJzaGFwZU9yaWdpbiIsInNoYXBlQ2VsbHMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLG1GQ2xGYWpDLEVBQUFrQyxZQUFvQixDQUc3QkMsc0JBQXVCLEdBR3ZCQyxVQUFXLEdBR1hDLGlCQUFrQixVQUNsQkMsYUFBYyxRQUNkQyxhQUFjLENBQUMsVUFBVyxVQUFXLFVBQVcsVUFBVyxVQUFXLFVBQVcsV0FHakZDLEtBQU0scUJBQ05DLFdBQVksUUFHWkMsZUFBZ0IsQ0FBQ0MsRUFBRyxHQUFJQyxFQUFHLElBRzNCQyxTQUFVLEdBQ1ZDLFVBQVcsR0FDWEMsT0FBUSxHQUNSQyxTQUFVLEdBQ1ZDLEtBQU0sR0FHTkMsa0JBQW1CLElBQ25CQyxvQkFBcUIsRUFDckJDLG9CQUFxQixrRkM3QnpCLElBQUFDLEVBQUEsV0FJSSxTQUFBQSxJQUFBLElBQUFDLEVBQUFDLEtBRkFBLEtBQUFDLFlBQTBCLEdBR3RCQyxTQUFTQyxpQkFBaUIsVUFBVyxTQUFDQyxHQUFPTCxFQUFLTSxRQUFRRCxLQWNsRSxPQVhJTixFQUFBdkIsVUFBQThCLFFBQUEsU0FBUUMsR0FDSk4sS0FBS0MsWUFBWUssRUFBTUMsVUFBVyxHQUd0Q1QsRUFBQXZCLFVBQUFpQyxNQUFBLFdBQ0lSLEtBQUtDLFlBQWMsSUFHdkJILEVBQUF2QixVQUFBa0MsVUFBQSxTQUFVRixHQUNOLE9BQU9QLEtBQUtDLFlBQVlNLElBRWhDVCxFQW5CQSxHQXFCYXJELEVBQUFpRSxTQUFXLElBQUlaLGlGQ3JCNUIsSUFBQWEsRUFBQSxXQUlJLFNBQUFBLEVBQVlDLEVBQVdDLEdBQ25CYixLQUFLYyxHQUFLRixFQUNWWixLQUFLZSxHQUFLRixFQXFDbEIsT0FsQ0l4RCxPQUFBQyxlQUFJcUQsRUFBQXBDLFVBQUEsSUFBQyxLQUFMLFdBQ0ksT0FBT3lCLEtBQUtjLG9DQUdoQnpELE9BQUFDLGVBQUlxRCxFQUFBcEMsVUFBQSxJQUFDLEtBQUwsV0FDSSxPQUFPeUIsS0FBS2Usb0NBR2hCMUQsT0FBQUMsZUFBV3FELEVBQUEsT0FBSSxLQUFmLFdBQ0ksT0FBTyxJQUFJQSxFQUFRLEVBQUcsb0NBRzFCQSxFQUFBcEMsVUFBQXlDLEtBQUEsU0FBS0osR0FDRCxPQUFPLElBQUlELEVBQVFYLEtBQUtjLEdBQUlkLEtBQUtlLElBQUlFLE9BQU9MLElBR2hERCxFQUFBcEMsVUFBQTJDLEtBQUEsU0FBS0wsR0FDRCxPQUFPLElBQUlGLEVBQVFYLEtBQUtjLEdBQUlkLEtBQUtlLElBQUlJLE9BQU9OLElBR2hERixFQUFBcEMsVUFBQTBDLE9BQUEsU0FBT0wsR0FFSCxPQURBWixLQUFLYyxJQUFNRixFQUNKWixNQUdYVyxFQUFBcEMsVUFBQTRDLE9BQUEsU0FBT04sR0FFSCxPQURBYixLQUFLZSxJQUFNRixFQUNKYixNQUdYVyxFQUFBcEMsVUFBQTZDLElBQUEsU0FBSVIsRUFBWUMsR0FDWmIsS0FBS2lCLE9BQU9MLEdBQ1paLEtBQUttQixPQUFPTixJQUVwQkYsRUEzQ0EsR0FBYWxFLEVBQUFrRSx5RkNEYixJQUFBVSxFQUFBOUUsRUFBQSxHQUVBK0UsRUFBQSxXQUtJLFNBQUFBLEVBQVlDLEdBQ1J2QixLQUFLd0IsUUFBVUQsRUFDZnZCLEtBQUt5QixTQUFXekIsS0FBS3dCLFFBQVFFLFdBQVcsTUFDeEMxQixLQUFLMkIsU0EyRGIsT0F4REl0RSxPQUFBQyxlQUFJZ0UsRUFBQS9DLFVBQUEsUUFBSyxLQUFULFdBQ0ksT0FBT3lCLEtBQUt3QixRQUFRSSx1Q0FHeEJ2RSxPQUFBQyxlQUFJZ0UsRUFBQS9DLFVBQUEsU0FBTSxLQUFWLFdBQ0ksT0FBT3lCLEtBQUt3QixRQUFRSyx3Q0FHeEJQLEVBQUEvQyxVQUFBdUQsTUFBQSxXQUNJOUIsS0FBS3lCLFNBQVNNLFVBQVUsRUFBRyxFQUFHL0IsS0FBS3dCLFFBQVFJLE1BQU81QixLQUFLd0IsUUFBUUssU0FHNURQLEVBQUEvQyxVQUFBb0QsT0FBUCxXQUVJLElBQUlLLEVBQWNDLE9BQU9DLGlCQUtyQkMsR0FBd0JDLGlCQUFpQnBDLEtBQUt3QixTQUFTYSxpQkFBaUIsVUFBVUMsTUFBTSxHQUFJLEdBRzVGQyxHQUF1QkgsaUJBQWlCcEMsS0FBS3dCLFNBQVNhLGlCQUFpQixTQUFTQyxNQUFNLEdBQUksR0FHOUZ0QyxLQUFLd0IsUUFBUWdCLGFBQWEsVUFBV0wsRUFBZUgsR0FBS1MsWUFDekR6QyxLQUFLd0IsUUFBUWdCLGFBQWEsU0FBVUQsRUFBY1AsR0FBS1MsYUFHM0RuQixFQUFBL0MsVUFBQW1FLGVBQUEsU0FBZUMsR0FDWDNDLEtBQUt5QixTQUFTbUIsT0FDZDVDLEtBQUt5QixTQUFTb0IsVUFBWUYsRUFDMUIzQyxLQUFLeUIsU0FBU3FCLFNBQVMsRUFBRyxFQUFHOUMsS0FBS3dCLFFBQVFJLE1BQU81QixLQUFLd0IsUUFBUUssUUFDOUQ3QixLQUFLeUIsU0FBU3NCLFdBR2xCekIsRUFBQS9DLFVBQUF5RSxTQUFBLFNBQVNDLEVBQW1CQyxFQUFtQkMsRUFBcUJ2QixFQUFlQyxHQUMvRTdCLEtBQUt5QixTQUFTbUIsT0FDZDVDLEtBQUt5QixTQUFTMkIsWUFBY0QsRUFDNUJuRCxLQUFLeUIsU0FBU29CLFVBQVlLLEVBQzFCbEQsS0FBS3lCLFNBQVNxQixTQUFTRyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFHdUMsRUFBT0MsR0FDdEQ3QixLQUFLeUIsU0FBUzRCLFdBQVdKLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUd1QyxFQUFPQyxHQUN4RDdCLEtBQUt5QixTQUFTc0IsV0FHbEJ6QixFQUFBL0MsVUFBQStFLFNBQUEsU0FBU0MsRUFBY0MsRUFBYUMsRUFBZVIsR0FDL0NqRCxLQUFLeUIsU0FBU21CLE9BQ2Q1QyxLQUFLeUIsU0FBU29CLFVBQVlZLEVBQzFCekQsS0FBS3lCLFNBQVMrQixLQUFPQSxFQUNyQnhELEtBQUt5QixTQUFTaUMsU0FBU0gsRUFBTU4sRUFBUzdELEVBQUc2RCxFQUFTNUQsR0FDbERXLEtBQUt5QixTQUFTc0IsV0FHbEJ6QixFQUFBL0MsVUFBQW9GLGVBQUEsU0FBZWhILEVBQVdpSCxFQUFXVixFQUFtQkMsRUFBcUJVLEdBQ3pFN0QsS0FBS2dELFNBQVMsSUFBSTNCLEVBQUFWLFFBQVFpRCxFQUFJQyxFQUFTbEgsRUFBSWtILEdBQVdYLEVBQVdDLEVBQWFVLEVBQVVBLElBRWhHdkMsRUFuRUEsR0FxRU1DLEVBQTZCckIsU0FBUzRELGVBQWUsVUFDOUNySCxFQUFBc0gsU0FBVyxJQUFJekMsRUFBU0Msa0ZDeEVyQyxJQVFJeUMsRUFSSkMsRUFBQTFILEVBQUEsR0FDQTJILEVBQUEzSCxFQUFBLEdBQ0E0SCxFQUFBNUgsRUFBQSxHQUNBNkgsRUFBQTdILEVBQUEsR0FFTThILEVBQVlGLEVBQUFKLFNBQVNPLE1BQVFGLEVBQUF6RixZQUFZRSxVQUN6QzBGLEVBQWFKLEVBQUFKLFNBQVNTLE9BQVNKLEVBQUF6RixZQUFZRSxVQXFCakQsU0FBUzRGLElBWExULEVBQU9VLFNBQ1BSLEVBQUF4RCxTQUFTRixRQUlUMkQsRUFBQUosU0FBU3BDLFNBQ1R3QyxFQUFBSixTQUFTakMsUUFDVHFDLEVBQUFKLFNBQVNyQixlQUFlMEIsRUFBQXpGLFlBQVlHLGtCQUNwQ2tGLEVBQU9XLE9BTVBDLHNCQUFzQkgsR0FuQnRCVCxFQUFTLElBQUlDLEVBQUFZLFVBQVVSLEVBQVdFLEdBQ2xDRSxtRkNaSixJQUFBTCxFQUFBN0gsRUFBQSxHQUNBMkgsRUFBQTNILEVBQUEsR0FDQThFLEVBQUE5RSxFQUFBLEdBQ0E0SCxFQUFBNUgsRUFBQSxHQUVBdUksRUFBQXZJLEVBQUEsR0FDQXdJLEVBQUF4SSxFQUFBLEdBQ0F5SSxFQUFBekksRUFBQSxJQUVBc0ksRUFBQSxXQWdDSSxTQUFBQSxFQUFZakQsRUFBZUMsR0F6Qm5CN0IsS0FBQWlGLGFBQXNCLEtBQ3RCakYsS0FBQWtGLGFBQXdCLEdBS3hCbEYsS0FBQW1GLFlBQTJCLENBQy9CTCxFQUFBTSxVQUFVQyxFQUNWUCxFQUFBTSxVQUFVRSxFQUNWUixFQUFBTSxVQUFVRyxFQUNWVCxFQUFBTSxVQUFVSSxFQUNWVixFQUFBTSxVQUFVSyxFQUNWWCxFQUFBTSxVQUFVTSxFQUNWWixFQUFBTSxVQUFVTyxHQWFWM0YsS0FBSzRGLGNBQWdCLElBQUlaLEVBQUFhLGFBQ3pCN0YsS0FBSzhGLEtBQU8sSUFBSWYsRUFBQWdCLFFBQVFuRSxFQUFPQyxHQUMvQjdCLEtBQUtnRyxPQTJLYixPQXJMSTNJLE9BQUFDLGVBQVd1SCxFQUFBdEcsVUFBQSxXQUFRLEtBQW5CLFdBQ0ksT0FBT3lCLEtBQUtpRywyQ0FZUnBCLEVBQUF0RyxVQUFBeUgsS0FBUixXQUNJaEcsS0FBS2tHLE9BQVMsRUFDZGxHLEtBQUttRyxPQUFTLEVBQ2RuRyxLQUFLb0csb0JBQXNCaEMsRUFBQXpGLFlBQVlDLHNCQUN2Q29CLEtBQUs4RixLQUFLRSxPQUNWLElBQU1LLEVBQWtCckcsS0FBS3NHLHNCQUM3QnRHLEtBQUtrRixhQUFhcUIsS0FBS0YsR0FDdkJyRyxLQUFLaUYsYUFBZWpGLEtBQUtzRyx1QkFLckJ6QixFQUFBdEcsVUFBQWlJLGNBQVIsU0FBc0JDLEdBQ2xCekcsS0FBS2tHLFFBQVVPLEdBR1g1QixFQUFBdEcsVUFBQW1JLFVBQVIsV0FHSSxJQUZBLElBQUlDLEVBQWEsR0FFVjNHLEtBQUs0RyxjQUNSRCxJQUVKLE9BQU9BLEdBR0g5QixFQUFBdEcsVUFBQXNJLFlBQVIsZUFBQTlHLEVBQUFDLEtBRVE4RyxFQUFVLEVBRWQsR0FBRzVDLEVBQUF4RCxTQUFTRCxVQUFVMkQsRUFBQXpGLFlBQVllLE1BQU8sQ0FDckMsSUFBSXFILEVBQWUvRyxLQUFLMEcsWUFDeEIxRyxLQUFLd0csY0FBY08sRUFBZTNDLEVBQUF6RixZQUFZaUIsMEJBRTdDLEdBQUdzRSxFQUFBeEQsU0FBU0QsVUFBVTJELEVBQUF6RixZQUFZYSxRQUNuQ1EsS0FBS2dILG1CQUVKLEdBQUk5QyxFQUFBeEQsU0FBU0QsVUFBVTJELEVBQUF6RixZQUFZYyxVQUFXLENBQ3pCTyxLQUFLNEcsYUFDM0I1RyxLQUFLd0csY0FBY3BDLEVBQUF6RixZQUFZa0IsMEJBRTFCcUUsRUFBQXhELFNBQVNELFVBQVUyRCxFQUFBekYsWUFBWVcsVUFDcEN3SCxHQUFXLEVBRU41QyxFQUFBeEQsU0FBU0QsVUFBVTJELEVBQUF6RixZQUFZWSxhQUNwQ3VILEVBQVUsR0FHQyxJQUFaQSxJQUV1QjlHLEtBQUtpRixhQUFhZ0MsTUFBTUMsS0FBSyxTQUFBQyxHQUMvQyxJQUFNQyxFQUFRRCxFQUFLL0gsRUFBSTBILEVBQ2pCTyxFQUFjdEgsRUFBS2tGLGFBQWFxQyxjQUFjSCxFQUFLbkcsS0FBSzhGLElBQzlELE9BQU9NLEVBQVEsR0FBS0EsSUFBVXJILEVBQUsrRixLQUFLbEUsT0FDbkM3QixFQUFLK0YsS0FBS3lCLGFBQWFILEVBQU9ELEVBQUs5SCxLQUFPZ0ksTUFJL0NySCxLQUFLOEYsS0FBSzBCLFdBQVd4SCxLQUFLaUYsY0FDMUJqRixLQUFLaUYsYUFBYXdDLEtBQUtYLEVBQVMsR0FDaEM5RyxLQUFLOEYsS0FBSzRCLFdBQVcxSCxLQUFLaUYsaUJBSzlCSixFQUFBdEcsVUFBQXlJLFlBQVIsZUFBQWpILEVBQUFDLEtBRUksR0FBSUEsS0FBS2lGLGFBQWEwQyxPQUF0QixDQU1BLElBRkEsSUFBSXRCLEVBQVcsR0FFQ3VCLEVBQUEsRUFBQUMsRUFBQTdILEtBQUtpRixhQUFhZ0MsTUFBbEJXLEVBQUFDLEVBQUFDLE9BQUFGLElBQXlCLENBQXJDLElBQUlULEVBQUlVLEVBQUFELEdBQ0poSCxFQUFJdUcsRUFBSy9ILEVBQUlZLEtBQUtpRixhQUFhMEMsT0FBT3ZJLEVBRXRDMkksSUFESVosRUFBSzlILEVBQUlXLEtBQUtpRixhQUFhMEMsT0FBT3RJLEdBRXRDMkksRUFBT3BILEVBRVBxSCxFQUFVakksS0FBS2lGLGFBQWEwQyxPQUFPM0csS0FBSytHLEdBQU03RyxLQUFLOEcsR0FDdkQzQixFQUFTRSxLQUFLMEIsR0FHSzVCLEVBQVM2QixNQUFNLFNBQUFmLEdBQ2xDLElBQU1FLEVBQWN0SCxFQUFLa0YsYUFBYXFDLGNBQWNILEdBQ3BELE9BQU9wSCxFQUFLK0YsS0FBS3FDLFFBQVFoQixFQUFLL0gsRUFBRytILEVBQUs5SCxNQUNoQ1UsRUFBSytGLEtBQUt5QixhQUFhSixFQUFLL0gsRUFBRytILEVBQUs5SCxJQUFNZ0ksT0FJaERySCxLQUFLOEYsS0FBSzBCLFdBQVd4SCxLQUFLaUYsY0FDMUJqRixLQUFLaUYsYUFBYWdDLE1BQVFaLEVBQzFCckcsS0FBSzhGLEtBQUs0QixXQUFXMUgsS0FBS2lGLGlCQUkxQkosRUFBQXRHLFVBQUFxSSxXQUFSLGVBQUE3RyxFQUFBQyxLQUVVb0ksRUFBZ0JwSSxLQUFLaUYsYUFBYWdDLE1BQU1DLEtBQUssU0FBQUMsR0FDL0MsSUFBTWtCLEVBQWdCbEIsRUFBSzlILEVBQUksRUFDekJnSSxFQUFjdEgsRUFBS2tGLGFBQWFxQyxjQUFjSCxFQUFLakcsS0FBSyxJQUM5RCxPQUFPbUgsSUFBVXRJLEVBQUsrRixLQUFLakUsUUFDbkI5QixFQUFLK0YsS0FBS3lCLGFBQWFKLEVBQUsvSCxFQUFHaUosS0FBV2hCLElBU3RELE9BTkllLElBQ0FwSSxLQUFLOEYsS0FBSzBCLFdBQVd4SCxLQUFLaUYsY0FDMUJqRixLQUFLaUYsYUFBYXdDLEtBQUssRUFBRyxHQUMxQnpILEtBQUs4RixLQUFLNEIsV0FBVzFILEtBQUtpRixlQUd2Qm1ELEdBR0h2RCxFQUFBdEcsVUFBQStKLGtCQUFSLFdBRUksSUFBSUMsRUFBbUJ2SSxLQUFLOEYsS0FBSzBDLG9CQUNqQ3hJLEtBQUt3RyxjQUFjK0IsRUFBbUJuRSxFQUFBekYsWUFBWWdCLG1CQUUvQ0ssS0FBS29HLG9CQUFzQixHQUMxQnBHLEtBQUtvRyx1QkFJTHZCLEVBQUF0RyxVQUFBa0ssaUJBQVIsV0FDSSxPQUFPekksS0FBSzhGLEtBQUs0QyxlQUFlLElBRzVCN0QsRUFBQXRHLFVBQUErSCxvQkFBUixXQUNJLElBQU1xQyxFQUF1QkMsS0FBS0MsTUFBTUQsS0FBS0UsU0FBVzlJLEtBQUttRixZQUFZMkMsUUFDckVpQixFQUFhM0UsRUFBQXpGLFlBQVlLLGFBQWEySixHQUUxQyxPQUFPM0ksS0FBSzRGLGNBQWNvRCxZQUNkaEosS0FBS21GLFlBQVl3RCxHQUNqQixJQUFJdEgsRUFBQVYsUUFBUWlJLEtBQUtDLE1BQU03SSxLQUFLOEYsS0FBS2xFLE1BQVEsSUFBSyxHQUM5Q21ILElBTVRsRSxFQUFBdEcsVUFBQW1HLE9BQVAsV0FFSSxJQURBMUUsS0FBSzZHLGtCQUNBN0csS0FBS21HLE9BQVNuRyxLQUFLb0csdUJBR0ZwRyxLQUFLNEcsYUFJdkIsR0FGQTVHLEtBQUtzSSxvQkFDTHRJLEtBQUtpRyxVQUFZakcsS0FBS3lJLG1CQUNsQnpJLEtBQUtpRyxVQU1MakcsS0FBS2dHLFdBTlUsQ0FDZixJQUFJSyxFQUFrQnJHLEtBQUtzRyxzQkFDM0J0RyxLQUFLa0YsYUFBYStELFFBQVE1QyxHQUMxQnJHLEtBQUtpRixhQUFlakYsS0FBS2tGLGFBQWFnRSxRQVExQ3JFLEVBQUF0RyxVQUFBNEssVUFBUixXQUNJaEYsRUFBQUosU0FBU1QsU0FBUyxVQUFZdEQsS0FBS2tHLE9BQU96RCxXQUFZMkIsRUFBQXpGLFlBQVlNLEtBQU1tRixFQUFBekYsWUFBWU8sV0FBWWtGLEVBQUF6RixZQUFZUSxpQkFHekcwRixFQUFBdEcsVUFBQW9HLEtBQVAsV0FDSTNFLEtBQUs4RixLQUFLbkIsT0FDVjNFLEtBQUttSixhQUVidEUsRUE5TUEsR0FBYXBJLEVBQUFvSSwyRkNSYixJQUFBdUUsRUFBQSxXQW1CSSxTQUFBQSxJQUNJcEosS0FBS3FKLFNBQVUsRUFHdkIsT0FsQkloTSxPQUFBQyxlQUFXOEwsRUFBQTdLLFVBQUEsUUFBSyxLQUFoQixXQUNJLE9BQU95QixLQUFLc0osWUFFaEIsU0FBaUJDLEdBQ2J2SixLQUFLc0osT0FBU0MsbUNBR2xCbE0sT0FBQUMsZUFBVzhMLEVBQUE3SyxVQUFBLFNBQU0sS0FBakIsV0FDSSxPQUFPeUIsS0FBS3FKLGFBRWhCLFNBQWtCRSxHQUNkdkosS0FBS3FKLFFBQVVFLG1DQU92QkgsRUF2QkEsR0FBYTNNLEVBQUEyTSxzRkNEYixTQUFZaEUsR0FDUkEsSUFBQSxTQUNBQSxJQUFBLFNBQ0FBLElBQUEsU0FDQUEsSUFBQSxTQUNBQSxJQUFBLFNBQ0FBLElBQUEsU0FDQUEsSUFBQSxTQVBKLENBQVkzSSxFQUFBMkksWUFBQTNJLEVBQUEySSxVQUFTLG9GQ0dyQixJQUFBb0UsRUFBQSxXQWdDSSxTQUFBQSxFQUFZQyxFQUFzQnhDLEVBQWtCVSxFQUFpQmxFLEdBOUI3RHpELEtBQUEwSixPQUFvQixHQUNwQjFKLEtBQUFzSixPQUFpQixHQUNqQnRKLEtBQUEySixRQUFtQixLQTZCdkIzSixLQUFLNEosV0FBYUgsRUFDbEJ6SixLQUFLMEosT0FBU3pDLEVBQ2RqSCxLQUFLc0osT0FBUzdGLEVBQ2R6RCxLQUFLMkosUUFBVWhDLEVBY3ZCLE9BM0NJdEssT0FBQUMsZUFBV2tNLEVBQUFqTCxVQUFBLFlBQVMsS0FBcEIsV0FDSSxPQUFPeUIsS0FBSzRKLDRDQUdoQnZNLE9BQUFDLGVBQVdrTSxFQUFBakwsVUFBQSxRQUFLLEtBQWhCLFdBQ0ksT0FBT3lCLEtBQUswSixZQUVoQixTQUFpQnpDLEdBQ2JqSCxLQUFLMEosT0FBU3pDLG1DQUdsQjVKLE9BQUFDLGVBQVdrTSxFQUFBakwsVUFBQSxTQUFNLEtBQWpCLFdBQ0ksT0FBT3lCLEtBQUsySixhQUVoQixTQUFrQmhDLEdBQ2QzSCxLQUFLMkosUUFBVWhDLG1DQUduQnRLLE9BQUFDLGVBQVdrTSxFQUFBakwsVUFBQSxRQUFLLEtBQWhCLFdBQ0ksT0FBT3lCLEtBQUtzSixZQUVoQixTQUFpQjdGLEdBQ2J6RCxLQUFLc0osT0FBUzdGLG1DQVVYK0YsRUFBQWpMLFVBQUErSSxjQUFQLFNBQXFCSCxHQUNqQixPQUFPbkgsS0FBSzBKLE9BQU94QyxLQUFLLFNBQUEyQyxHQUFhLE9BQUFBLEVBQVV6SyxJQUFNK0gsRUFBSy9ILEdBQUt5SyxFQUFVeEssSUFBTThILEVBQUs5SCxLQUdqRm1LLEVBQUFqTCxVQUFBa0osS0FBUCxTQUFZN0csRUFBZUMsUUFBZixJQUFBRCxNQUFBLFFBQWUsSUFBQUMsTUFBQSxHQUNwQmIsS0FBSzJKLFNBQ0ozSixLQUFLMkosUUFBUTFJLE9BQU9MLEdBQUdPLE9BQU9OLEdBR2xDYixLQUFLaUgsTUFBTTZDLFFBQVEsU0FBQTNDLEdBQVEsT0FBQUEsRUFBS2xHLE9BQU9MLEdBQUdPLE9BQU9OLE1BRXpEMkksRUFsREEsR0FBYS9NLEVBQUErTSx1RkNGYixJQUFBTyxFQUFBeE4sRUFBQSxHQUNBNEgsRUFBQTVILEVBQUEsR0FDQTZILEVBQUE3SCxFQUFBLEdBR0F3SixFQUFBLFdBZUksU0FBQUEsRUFBWW5FLEVBQWVDLEdBQ3ZCN0IsS0FBSzhGLEtBQU8sR0FDWjlGLEtBQUtnSyxPQUFTcEksRUFDZDVCLEtBQUtpSyxRQUFVcEksRUFtRnZCLE9BOUZJeEUsT0FBQUMsZUFBV3lJLEVBQUF4SCxVQUFBLFNBQU0sS0FBakIsV0FDSSxPQUFPeUIsS0FBS2lLLHlDQUdoQjVNLE9BQUFDLGVBQVd5SSxFQUFBeEgsVUFBQSxRQUFLLEtBQWhCLFdBQ0ksT0FBT3lCLEtBQUtnSyx3Q0FTVGpFLEVBQUF4SCxVQUFBeUgsS0FBUCxXQUNJLElBQUksSUFBSXJKLEVBQVksRUFBSUEsRUFBSXFELEtBQUtpSyxRQUFVdE4sSUFBSyxDQUM1Q3FELEtBQUs4RixLQUFLbkosR0FBSyxHQUVmLElBQUksSUFBSWlILEVBQVksRUFBSUEsRUFBSTVELEtBQUtnSyxPQUFTcEcsSUFDdEM1RCxLQUFLOEYsS0FBS25KLEdBQUdpSCxHQUFLLElBQUltRyxFQUFBWCxPQUszQnJELEVBQUF4SCxVQUFBNEosUUFBUCxTQUFldkgsRUFBV0MsR0FDdEIsT0FBT0QsR0FBSyxHQUFLQSxFQUFJWixLQUFLZ0ssUUFBVW5KLEdBQUssR0FBS0EsRUFBSWIsS0FBS2lLLFNBR3BEbEUsRUFBQXhILFVBQUFnSixhQUFQLFNBQW9CM0csRUFBV0MsR0FDM0IsT0FBT2IsS0FBS21JLFFBQVF2SCxFQUFFQyxJQUFNYixLQUFLOEYsS0FBS2pGLEdBQUdELEdBQUdzSixRQUl6Q25FLEVBQUF4SCxVQUFBNEwsVUFBUCxTQUFpQnZKLEVBQVdDLEdBQ3JCYixLQUFLbUksUUFBUXZILEVBQUdDLEtBQ2ZiLEtBQUs4RixLQUFLakYsR0FBR0QsR0FBR3NKLFFBQVMsSUFJMUJuRSxFQUFBeEgsVUFBQWlKLFdBQVAsU0FBa0I0QyxHQUFsQixJQUFBckssRUFBQUMsS0FDSW9LLEVBQU1uRCxNQUFNNkMsUUFBUSxTQUFBM0MsR0FDaEJwSCxFQUFLb0ssVUFBVWhELEVBQUsvSCxFQUFHK0gsRUFBSzlILE1BSTdCMEcsRUFBQXhILFVBQUE4TCxVQUFQLFNBQWlCekosRUFBV0MsRUFBVzRDLEdBQ2hDekQsS0FBS21JLFFBQVF2SCxFQUFHQyxLQUNmYixLQUFLOEYsS0FBS2pGLEdBQUdELEdBQUdzSixRQUFTLEVBQ3pCbEssS0FBSzhGLEtBQUtqRixHQUFHRCxHQUFHNkMsTUFBUUEsSUFJekJzQyxFQUFBeEgsVUFBQW1KLFdBQVAsU0FBa0IwQyxHQUFsQixJQUFBckssRUFBQUMsS0FDSW9LLEVBQU1uRCxNQUFNNkMsUUFBUSxTQUFBM0MsR0FDaEJwSCxFQUFLc0ssVUFBVWxELEVBQUsvSCxFQUFHK0gsRUFBSzlILEVBQUcrSyxFQUFNM0csVUFJdENzQyxFQUFBeEgsVUFBQW1LLGVBQVAsU0FBc0I0QixHQUNsQixPQUFPdEssS0FBSzhGLEtBQUt3RSxHQUFLcEQsS0FBSyxTQUFBQyxHQUFRLE9BQUFBLEVBQUsrQyxVQUdyQ25FLEVBQUF4SCxVQUFBaUssa0JBQVAsV0FJSSxJQUZBLElBQUlELEVBQW1CLEVBRWQ1TCxFQUFJLEVBQUlBLEVBQUlxRCxLQUFLOEYsS0FBS2dDLE9BQVNuTCxJQUFLLENBR3pDLEdBRjZCcUQsS0FBSzhGLEtBQUtuSixHQUFHdUwsTUFBTSxTQUFBZixHQUFRLE9BQUFBLEVBQUsrQyxTQUU5QyxDQUNYM0IsSUFDQXZJLEtBQUs4RixLQUFLeUUsT0FBTzVOLEVBQUUsR0FFbkIsSUFEQSxJQUFJNk4sRUFBaUIsR0FDYjVHLEVBQUksRUFBSUEsRUFBSTVELEtBQUtnSyxPQUFTcEcsSUFDOUI0RyxFQUFPNUcsR0FBSyxJQUFJbUcsRUFBQVgsS0FHcEJwSixLQUFLOEYsS0FBS21ELFFBQVF1QixJQUkxQixPQUFPakMsR0FHSnhDLEVBQUF4SCxVQUFBb0csS0FBUCxXQUNJLElBQUksSUFBSWhJLEVBQUksRUFBSUEsRUFBSXFELEtBQUs4RixLQUFLZ0MsT0FBU25MLElBQ25DLElBQUksSUFBSWlILEVBQUksRUFBSUEsRUFBSTVELEtBQUs4RixLQUFLbkosR0FBR21MLE9BQVNsRSxJQUFJLENBQzFDLElBQU11RCxFQUFhbkgsS0FBSzhGLEtBQUtuSixHQUFHaUgsR0FDN0J1RCxFQUFLK0MsUUFDSi9GLEVBQUFKLFNBQVNKLGVBQWVoSCxFQUFHaUgsRUFBR3VELEVBQUsxRCxNQUFPVyxFQUFBekYsWUFBWUksYUFBY3FGLEVBQUF6RixZQUFZRSxhQUtwR2tILEVBckdBLEdBQWF0SixFQUFBc0oseUZDTmIsSUFBQWpCLEVBQUF2SSxFQUFBLEdBQ0E4RSxFQUFBOUUsRUFBQSxHQUNBa08sRUFBQWxPLEVBQUEsR0FHQXNKLEVBQUEsb0JBQUFBLEtBMEVBLE9BekVXQSxFQUFBdEgsVUFBQXlLLFlBQVAsU0FBbUJTLEVBQXNCeEcsRUFBbUI4RixHQUV4RCxJQUNJMkIsRUFEQUMsRUFBd0IsR0FHNUIsT0FBT2xCLEdBQ0gsS0FBSzNFLEVBQUFNLFVBQVVDLEVBQ1hzRixFQUFhLENBQ1QsSUFBSXRKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxHQUNqQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUksR0FDckMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBQ3JDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxJQUV6Q3FMLEVBQWMsSUFBSXJKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBQ25ELE1BQ0osS0FBS3lGLEVBQUFNLFVBQVVFLEVBQ1hxRixFQUFhLENBQ1QsSUFBSXRKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxHQUNqQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUksR0FDckMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBQ3JDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUksRUFBRzZELEVBQVM1RCxFQUFJLElBRTdDcUwsRUFBYyxJQUFJckosRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUksR0FDbkQsTUFDSixLQUFLeUYsRUFBQU0sVUFBVUcsRUFDWG9GLEVBQWEsQ0FDVCxJQUFJdEosRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEdBQ2pDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxHQUNyQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUksR0FDckMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBSSxFQUFHNkQsRUFBUzVELEVBQUksSUFFN0NxTCxFQUFjLElBQUlySixFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxHQUNuRCxNQUNKLEtBQUt5RixFQUFBTSxVQUFVSSxFQUNYbUYsRUFBYSxDQUNULElBQUl0SixFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsR0FDakMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBSSxFQUFHNkQsRUFBUzVELEdBQ3JDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxHQUNyQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFJLEVBQUc2RCxFQUFTNUQsRUFBSSxJQUU3Q3FMLEVBQWMsS0FDZCxNQUNKLEtBQUs1RixFQUFBTSxVQUFVSyxFQUNYa0YsRUFBYSxDQUNULElBQUl0SixFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsR0FDakMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBSSxFQUFHNkQsRUFBUzVELEdBQ3JDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxHQUNyQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFJLEVBQUc2RCxFQUFTNUQsRUFBSSxJQUU3Q3FMLEVBQWMsSUFBSXJKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBQ25ELE1BQ0osS0FBS3lGLEVBQUFNLFVBQVVNLEVBQ1hpRixFQUFhLENBQ1QsSUFBSXRKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxHQUNqQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFJLEVBQUc2RCxFQUFTNUQsR0FDckMsSUFBSWdDLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBQ3JDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUksRUFBRzZELEVBQVM1RCxFQUFJLElBRTdDcUwsRUFBYyxJQUFJckosRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEVBQUksR0FDbkQsTUFDSixLQUFLeUYsRUFBQU0sVUFBVU8sRUFDWGdGLEVBQWEsQ0FDVCxJQUFJdEosRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFHNkQsRUFBUzVELEdBQ2pDLElBQUlnQyxFQUFBVixRQUFRc0MsRUFBUzdELEVBQUc2RCxFQUFTNUQsRUFBSSxHQUNyQyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFJLEVBQUc2RCxFQUFTNUQsRUFBSSxHQUN6QyxJQUFJZ0MsRUFBQVYsUUFBUXNDLEVBQVM3RCxFQUFJLEVBQUc2RCxFQUFTNUQsRUFBSSxJQUU3Q3FMLEVBQWMsSUFBSXJKLEVBQUFWLFFBQVFzQyxFQUFTN0QsRUFBRzZELEVBQVM1RCxFQUFJLEdBSTNELE9BQU8sSUFBSW9MLEVBQUFqQixNQUFNQyxFQUFXa0IsRUFBWUQsRUFBYTNCLElBRTdEbEQsRUExRUEsR0FBYXBKLEVBQUFvSiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJleHBvcnQgY29uc3QgR0FNRV9DT05GSUcgOiBhbnkgPSB7XG5cbiAgICAvLyBQSFlTSUNTXG4gICAgVVBEQVRFX0FGVEVSX1hfRlJBTUVTOiA0MCxcblxuICAgIC8vIFNJWklOR1xuICAgIENFTExfU0laRTogODAsXG5cbiAgICAvLyBDT0xPUlNcbiAgICBCQUNLR1JPVU5EX0NPTE9SOiAnIzI4MzYzQicsXG4gICAgU1RST0tFX0NPTE9SOiAnYmxhY2snLFxuICAgIFNIQVBFX0NPTE9SUzogW1wiI0Y5QjM4RlwiLCBcIiNCRjZDODZcIiwgXCIjODRBRjlDXCIsIFwiIzZENUM4MFwiLCBcIiNGRkEzRDBcIiwgXCIjNDM5RjlFXCIsIFwiI0VGNUYzQ1wiXSxcbiAgICBcbiAgICAvLyBURVhUXG4gICAgRk9OVDogJzQwcHggQ29taWMgU2FucyBNUycsICAgIFxuICAgIEZPTlRfQ09MT1I6ICd3aGl0ZScsXG5cbiAgICAvLyBQT1NJVElPTlNcbiAgICBTQ09SRV9QT1NJVElPTjoge1g6IDIwLCBZOiA1MH0sXG5cbiAgICAvLyBLRVlTXG4gICAgTEVGVF9LRVk6IDM3LFxuICAgIFJJR0hUX0tFWTogMzksXG4gICAgVVBfS0VZOiAzOCxcbiAgICBET1dOX0tFWTogNDAsXG4gICAgRFJPUDogMTMsXG5cbiAgICAvLyBSVUxFU1xuICAgIEZJTExFRF9MSU5FX0JPTlVTOiAxMDAsXG4gICAgRFJPUFBFRF9TSEFQRV9CT05VUzogMixcbiAgICBMT1dFUkVEX1NIQVBFX0JPTlVTOiAxLFxufTtcbiIsIlxuY2xhc3MgS2V5Ym9hcmQge1xuXG4gICAga2V5c1ByZXNzZWQgOiBib29sZWFuW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHt0aGlzLmtleURvd24oZSkgfSk7XG4gICAgfVxuXG4gICAga2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICB0aGlzLmtleXNQcmVzc2VkW2V2ZW50LmtleUNvZGVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXNldCgpIDogdm9pZCB7XG4gICAgICAgIHRoaXMua2V5c1ByZXNzZWQgPSBbXTtcbiAgICB9XG5cbiAgICBpc1ByZXNzZWQoa2V5Q29kZTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleXNQcmVzc2VkW2tleUNvZGVdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGtleWJvYXJkID0gbmV3IEtleWJvYXJkKCk7IiwiXG5leHBvcnQgY2xhc3MgVmVjdG9yMiB7XG4gICAgcHJpdmF0ZSBfeDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3k6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICB9XG5cbiAgICBnZXQgWCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgfVxuICAgIFxuICAgIGdldCBZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IFplcm8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCAwKTtcbiAgICB9XG5cbiAgICBhZGRYKHg6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy5feCwgdGhpcy5feSkuYWRkVG9YKHgpO1xuICAgIH1cblxuICAgIGFkZFkoeTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLl94LCB0aGlzLl95KS5hZGRUb1koeSk7XG4gICAgfVxuXG4gICAgYWRkVG9YKHg6IG51bWJlcikge1xuICAgICAgICB0aGlzLl94ICs9IHg7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZFRvWSh5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5feSArPSB5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGQoeCA6IG51bWJlciwgeTogbnVtYmVyKSA6IHZvaWR7XG4gICAgICAgIHRoaXMuYWRkVG9YKHgpO1xuICAgICAgICB0aGlzLmFkZFRvWSh5KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vZ2VvbS9WZWN0b3IyJztcblxuY2xhc3MgQ2FudmFzMkQge1xuXG4gICAgcHJpdmF0ZSBfY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29udGV4dCA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLmZpeERQSSgpO1xuICAgIH1cblxuICAgIGdldCBXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy53aWR0aDtcbiAgICB9XG4gICAgXG4gICAgZ2V0IEhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaXhEUEkoKXtcbiAgICAgICAgLy9nZXQgRFBJXG4gICAgICAgIGxldCBkcGk6IG51bWJlciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG4gICAgICAgIC8vZ2V0IENTUyBoZWlnaHRcbiAgICAgICAgLy90aGUgKyBwcmVmaXggY2FzdHMgaXQgdG8gYW4gaW50ZWdlclxuICAgICAgICAvL3RoZSBzbGljZSBtZXRob2QgZ2V0cyByaWQgb2YgXCJweFwiXG4gICAgICAgIGxldCBzdHlsZV9oZWlnaHQ6IG51bWJlciA9ICtnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2NhbnZhcykuZ2V0UHJvcGVydHlWYWx1ZShcImhlaWdodFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgICAgICAvL2dldCBDU1Mgd2lkdGhcbiAgICAgICAgbGV0IHN0eWxlX3dpZHRoOiBudW1iZXIgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9jYW52YXMpLmdldFByb3BlcnR5VmFsdWUoXCJ3aWR0aFwiKS5zbGljZSgwLCAtMik7XG4gICAgICAgIFxuICAgICAgICAvL3NjYWxlIHRoZSBjYW52YXNcbiAgICAgICAgdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHN0eWxlX2hlaWdodCAqIGRwaSkudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgKHN0eWxlX3dpZHRoICogZHBpKS50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBkcmF3QmFja2dyb3VuZChiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1JlY3QocG9zaXRpb246IFZlY3RvcjIsIGZpbGxDb2xvcjogc3RyaW5nLCBzdHJva2VDb2xvcjogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICAgICAgdGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFJlY3QocG9zaXRpb24uWCwgcG9zaXRpb24uWSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc3Ryb2tlUmVjdChwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgZHJhd1RleHQodGV4dDogc3RyaW5nLCBmb250OnN0cmluZywgY29sb3I6IHN0cmluZywgcG9zaXRpb246IFZlY3RvcjIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuZmlsbFRleHQodGV4dCwgcG9zaXRpb24uWCwgcG9zaXRpb24uWSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGRyYXdSZWN0QXRDZWxsKGk6IG51bWJlciwgajogbnVtYmVyLCBmaWxsQ29sb3I6IHN0cmluZywgc3Ryb2tlQ29sb3I6IHN0cmluZywgY2VsbFNpemU6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kcmF3UmVjdChuZXcgVmVjdG9yMihqICogY2VsbFNpemUsaSAqIGNlbGxTaXplKSwgZmlsbENvbG9yLCBzdHJva2VDb2xvciwgY2VsbFNpemUsIGNlbGxTaXplKTtcbiAgICB9XG59XG5cbmNvbnN0IGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuZXhwb3J0IGNvbnN0IGNhbnZhczJEID0gbmV3IENhbnZhczJEKGNhbnZhcyk7IiwiaW1wb3J0IHsgR2FtZVdvcmxkIH0gZnJvbSAnLi9HYW1lV29ybGQnO1xuaW1wb3J0IHsga2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IGNhbnZhczJEIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgR0FNRV9DT05GSUcgfSBmcm9tICcuL2dhbWUuY29uZmlnJztcblxuY29uc3QgZ2FtZVdpZHRoID0gY2FudmFzMkQuV2lkdGggLyBHQU1FX0NPTkZJRy5DRUxMX1NJWkU7XG5jb25zdCBnYW1lSGVpZ2h0ID0gY2FudmFzMkQuSGVpZ2h0IC8gR0FNRV9DT05GSUcuQ0VMTF9TSVpFO1xuXG5sZXQgdGV0cmlzOiBHYW1lV29ybGQ7XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIHRldHJpcyA9IG5ldyBHYW1lV29ybGQoZ2FtZVdpZHRoLCBnYW1lSGVpZ2h0KTtcbiAgICBnYW1lTG9vcCgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdGV0cmlzLnVwZGF0ZSgpO1xuICAgIGtleWJvYXJkLnJlc2V0KCk7XG59XG5cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgY2FudmFzMkQuZml4RFBJKCk7XG4gICAgY2FudmFzMkQuY2xlYXIoKTtcbiAgICBjYW52YXMyRC5kcmF3QmFja2dyb3VuZChHQU1FX0NPTkZJRy5CQUNLR1JPVU5EX0NPTE9SKTtcbiAgICB0ZXRyaXMuZHJhdygpO1xufVxuXG5mdW5jdGlvbiBnYW1lTG9vcCgpIHtcbiAgICB1cGRhdGUoKTtcbiAgICBkcmF3KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbn1cblxuc3RhcnQoKTsiLCJpbXBvcnQgeyBHQU1FX0NPTkZJRyB9IGZyb20gJy4vZ2FtZS5jb25maWcnO1xuaW1wb3J0IHsga2V5Ym9hcmQgfSBmcm9tICcuL2lucHV0L0tleWJvYXJkJztcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tICcuL2dlb20vVmVjdG9yMic7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSAnLi9zaGFwZS9TaGFwZSc7XG5pbXBvcnQgeyBTaGFwZVR5cGUgfSBmcm9tICcuL3NoYXBlL1NoYXBlVHlwZSc7XG5pbXBvcnQgeyBHYW1lTWFwIH0gZnJvbSAnLi9tYXAvR2FtZU1hcCc7XG5pbXBvcnQgeyBTaGFwZUZhY3RvcnkgfSBmcm9tICcuL3NoYXBlL1NoYXBlRmFjdG9yeSc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lV29ybGQge1xuXG4gICAgLy8tLS0tLS1NZW1iZXJzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgX21hcDogR2FtZU1hcDtcbiAgICBwcml2YXRlIF91cGRhdGVFdmVyeVhGcmFtZXM6IG51bWJlcjtcbiAgICBwcml2YXRlIF9mcmFtZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX21vdmluZ1NoYXBlOiBTaGFwZSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfc2hhcGVzUXVldWU6IFNoYXBlW10gPSBbXTtcbiAgICBwcml2YXRlIF9zY29yZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyIDogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9zaGFwZUZhY3Rvcnk6IFNoYXBlRmFjdG9yeTtcblxuICAgIHByaXZhdGUgX3NoYXBlVHlwZXM6IFNoYXBlVHlwZVtdID0gW1xuICAgICAgICBTaGFwZVR5cGUuSSxcbiAgICAgICAgU2hhcGVUeXBlLkosXG4gICAgICAgIFNoYXBlVHlwZS5MLFxuICAgICAgICBTaGFwZVR5cGUuTyxcbiAgICAgICAgU2hhcGVUeXBlLlMsXG4gICAgICAgIFNoYXBlVHlwZS5aLFxuICAgICAgICBTaGFwZVR5cGUuVFxuICAgIF07XG5cbiAgICAvLy0tLS0tLVByb3BlcnRpZXMtLS0tLS0vL1xuICAgIFxuICAgIHB1YmxpYyBnZXQgZ2FtZU92ZXIoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2FtZU92ZXI7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIC8vLS0tLS0tQ29uc3RydWN0b3ItLS0tLS0vL1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVGYWN0b3J5ID0gbmV3IFNoYXBlRmFjdG9yeSgpO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgR2FtZU1hcCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zY29yZSA9IDA7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gMDsgXG4gICAgICAgIHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcyA9IEdBTUVfQ09ORklHLlVQREFURV9BRlRFUl9YX0ZSQU1FUztcbiAgICAgICAgdGhpcy5fbWFwLmluaXQoKTtcbiAgICAgICAgY29uc3QgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgIHRoaXMuX3NoYXBlc1F1ZXVlLnB1c2gobmV3U2hhcGUpO1xuICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21TaGFwZSgpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHJpdmF0ZSBNZXRob2RzLS0tLS0tLy9cblxuICAgIHByaXZhdGUgaW5jcmVhc2VTY29yZSh0b0FkZDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLl9zY29yZSArPSB0b0FkZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRyb3BTaGFwZSgpOiBudW1iZXIge1xuICAgICAgICBsZXQgbnVtT2ZDZWxscyA9IDA7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSghdGhpcy5sb3dlclNoYXBlKCkpe1xuICAgICAgICAgICAgbnVtT2ZDZWxscysrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudW1PZkNlbGxzO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGhhbmRsZUlucHV0KCk6IHZvaWQge1xuXG4gICAgICAgIGxldCB0b01vdmVYID0gMDtcblxuICAgICAgICBpZihrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuRFJPUCkpIHtcbiAgICAgICAgICAgIGxldCBjZWxsc0Ryb3BwZWQgPSB0aGlzLmRyb3BTaGFwZSgpO1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKGNlbGxzRHJvcHBlZCAqIEdBTUVfQ09ORklHLkRST1BQRURfU0hBUEVfQk9OVVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLlVQX0tFWSkpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRlU2hhcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXlib2FyZC5pc1ByZXNzZWQoR0FNRV9DT05GSUcuRE9XTl9LRVkpKSB7XG4gICAgICAgICAgICBjb25zdCByZWFjaGVkQm90dG9tID0gdGhpcy5sb3dlclNoYXBlKCk7XG4gICAgICAgICAgICB0aGlzLmluY3JlYXNlU2NvcmUoR0FNRV9DT05GSUcuTE9XRVJFRF9TSEFQRV9CT05VUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5Ym9hcmQuaXNQcmVzc2VkKEdBTUVfQ09ORklHLkxFRlRfS0VZKSkge1xuICAgICAgICAgICAgdG9Nb3ZlWCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleWJvYXJkLmlzUHJlc3NlZChHQU1FX0NPTkZJRy5SSUdIVF9LRVkpKSB7XG4gICAgICAgICAgICB0b01vdmVYID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRvTW92ZVggIT09IDApe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZWFjaGVkQm9yZGVyID0gdGhpcy5fbW92aW5nU2hhcGUuY2VsbHMuc29tZShjZWxsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0WCA9IGNlbGwuWCArIHRvTW92ZVg7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydE9mU2hhcGUgPSB0aGlzLl9tb3ZpbmdTaGFwZS5pc1BhcnRPZlNoYXBlKGNlbGwuYWRkWCh0b01vdmVYKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRYIDwgMCB8fCBuZXh0WCA9PT0gdGhpcy5fbWFwLndpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9tYXAuaXNDZWxsRmlsbGVkKG5leHRYLCBjZWxsLlkpICYmICFwYXJ0T2ZTaGFwZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYoIXJlYWNoZWRCb3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuY2xlYXJTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUubW92ZSh0b01vdmVYLCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAuY29sb3JTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJvdGF0ZVNoYXBlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmKCF0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4pe1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld1NoYXBlID0gW107XG5cbiAgICAgICAgZm9yKGxldCBjZWxsIG9mIHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzKSB7XG4gICAgICAgICAgICBsZXQgeCA9IGNlbGwuWCAtIHRoaXMuX21vdmluZ1NoYXBlLm9yaWdpbi5YO1xuICAgICAgICAgICAgbGV0IHkgPSBjZWxsLlkgLSB0aGlzLl9tb3ZpbmdTaGFwZS5vcmlnaW4uWTtcbiAgICAgICAgICAgIGxldCBuZXdYID0gLXk7XG4gICAgICAgICAgICBsZXQgbmV3WSA9IHg7XG5cbiAgICAgICAgICAgIGxldCBuZXdDZWxsID0gdGhpcy5fbW92aW5nU2hhcGUub3JpZ2luLmFkZFgobmV3WCkuYWRkWShuZXdZKTtcbiAgICAgICAgICAgIG5ld1NoYXBlLnB1c2gobmV3Q2VsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9zc2libGVSb3RhdGlvbiA9IG5ld1NoYXBlLmV2ZXJ5KGNlbGwgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFydE9mU2hhcGUgPSB0aGlzLl9tb3ZpbmdTaGFwZS5pc1BhcnRPZlNoYXBlKGNlbGwpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5pc0luTWFwKGNlbGwuWCwgY2VsbC5ZKSAmJlxuICAgICAgICAgICAgICAgICghdGhpcy5fbWFwLmlzQ2VsbEZpbGxlZChjZWxsLlgsIGNlbGwuWSkgfHwgcGFydE9mU2hhcGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZihwb3NzaWJsZVJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY2xlYXJTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmdTaGFwZS5jZWxscyA9IG5ld1NoYXBlO1xuICAgICAgICAgICAgdGhpcy5fbWFwLmNvbG9yU2hhcGUodGhpcy5fbW92aW5nU2hhcGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb3dlclNoYXBlKCk6IGJvb2xlYW4ge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMuX21vdmluZ1NoYXBlLmNlbGxzLnNvbWUoY2VsbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0WTogbnVtYmVyID0gY2VsbC5ZICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRPZlNoYXBlID0gdGhpcy5fbW92aW5nU2hhcGUuaXNQYXJ0T2ZTaGFwZShjZWxsLmFkZFkoMSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRZID09PSB0aGlzLl9tYXAuaGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgICAgKHRoaXMuX21hcC5pc0NlbGxGaWxsZWQoY2VsbC5YLCBuZXh0WSkgJiYgIXBhcnRPZlNoYXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIXJlYWNoZWRCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMuX21hcC5jbGVhclNoYXBlKHRoaXMuX21vdmluZ1NoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmluZ1NoYXBlLm1vdmUoMCwgMSk7XG4gICAgICAgICAgICB0aGlzLl9tYXAuY29sb3JTaGFwZSh0aGlzLl9tb3ZpbmdTaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVhY2hlZEJvdHRvbTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUZpbGxlZExpbmVzKCk6IHZvaWQge1xuICAgICAgICBcbiAgICAgICAgbGV0IGZpbGxlZExpbmVzQ291bnQgPSB0aGlzLl9tYXAucmVtb3ZlRmlsbGVkTGluZXMoKTtcbiAgICAgICAgdGhpcy5pbmNyZWFzZVNjb3JlKGZpbGxlZExpbmVzQ291bnQgKiBHQU1FX0NPTkZJRy5GSUxMRURfTElORV9CT05VUyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUV2ZXJ5WEZyYW1lcy0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0ZvckdhbWVPdmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmFueUZpbGxlZE9uUm93KDApO1xuICAgIH0gXG5cbiAgICBwcml2YXRlIGdlbmVyYXRlUmFuZG9tU2hhcGUoKTogU2hhcGUge1xuICAgICAgICBjb25zdCByYW5kb21TaGFwZVR5cGVJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3NoYXBlVHlwZXMubGVuZ3RoKTtcbiAgICAgICAgbGV0IHNoYXBlQ29sb3IgPSBHQU1FX0NPTkZJRy5TSEFQRV9DT0xPUlNbcmFuZG9tU2hhcGVUeXBlSW5kZXhdO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlRmFjdG9yeS5jcmVhdGVTaGFwZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hhcGVUeXBlc1tyYW5kb21TaGFwZVR5cGVJbmRleF0sIFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihNYXRoLmZsb29yKHRoaXMuX21hcC53aWR0aCAvIDIpLCAtMyksXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlQ29sb3JcbiAgICAgICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLS0tLS0tUHVibGljIE1ldGhvZHMtLS0tLS0vL1xuXG4gICAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYW5kbGVJbnB1dCgpO1xuICAgICAgICBpZigrK3RoaXMuX2ZyYW1lICUgdGhpcy5fdXBkYXRlRXZlcnlYRnJhbWVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhY2hlZEJvdHRvbSA9IHRoaXMubG93ZXJTaGFwZSgpO1xuICAgICAgICBpZihyZWFjaGVkQm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZpbGxlZExpbmVzKCk7XG4gICAgICAgICAgICB0aGlzLl9nYW1lT3ZlciA9IHRoaXMuY2hlY2tGb3JHYW1lT3ZlcigpO1xuICAgICAgICAgICAgaWYoIXRoaXMuX2dhbWVPdmVyKXtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2hhcGU6IFNoYXBlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVNoYXBlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcGVzUXVldWUudW5zaGlmdChuZXdTaGFwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92aW5nU2hhcGUgPSB0aGlzLl9zaGFwZXNRdWV1ZS5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRyYXdTY29yZSgpOiB2b2lkIHtcbiAgICAgICAgY2FudmFzMkQuZHJhd1RleHQoJ1Njb3JlOiAnICsgdGhpcy5fc2NvcmUudG9TdHJpbmcoKSwgR0FNRV9DT05GSUcuRk9OVCwgR0FNRV9DT05GSUcuRk9OVF9DT0xPUiwgR0FNRV9DT05GSUcuU0NPUkVfUE9TSVRJT04pO1xuICAgIH1cblxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tYXAuZHJhdygpO1xuICAgICAgICB0aGlzLmRyYXdTY29yZSgpO1xuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBDZWxsIHtcblxuICAgIHByaXZhdGUgX2ZpbGxlZCA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfY29sb3IgOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgZ2V0IGNvbG9yKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgY29sb3IodiA6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb2xvciA9IHY7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBmaWxsZWQoKSA6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbGVkO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGZpbGxlZCh2IDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSB2O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9maWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGVudW0gU2hhcGVUeXBlIHtcbiAgICBJLFxuICAgIEosXG4gICAgTCxcbiAgICBTLFxuICAgIFosXG4gICAgTyxcbiAgICBUXG59IiwiaW1wb3J0IHsgU2hhcGVUeXBlIH0gZnJvbSAnLi9TaGFwZVR5cGUnO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gJy4vLi4vZ2VvbS9WZWN0b3IyJztcblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcblxuICAgIHByaXZhdGUgX2NlbGxzOiBWZWN0b3IyW10gPSBbXTtcbiAgICBwcml2YXRlIF9jb2xvcjogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBWZWN0b3IyID0gbnVsbDtcbiAgICBwcml2YXRlIF9zaGFwZVR5cGU6IFNoYXBlVHlwZTtcbiAgICBcbiAgICBwdWJsaWMgZ2V0IHNoYXBlVHlwZSgpIDogU2hhcGVUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXBlVHlwZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCBjZWxscygpIDogVmVjdG9yMltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NlbGxzO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNlbGxzKGNlbGxzIDogVmVjdG9yMltdKSB7XG4gICAgICAgIHRoaXMuX2NlbGxzID0gY2VsbHM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvcmlnaW4oKSA6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JpZ2luO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9yaWdpbihvcmlnaW4gOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuX29yaWdpbiA9IG9yaWdpbjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCBjb2xvcigpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGNvbG9yKGNvbG9yIDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0cnVjdG9yKHNoYXBlVHlwZTogU2hhcGVUeXBlLCBjZWxsczogVmVjdG9yMltdLCBvcmlnaW46IFZlY3RvcjIsIGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2hhcGVUeXBlID0gc2hhcGVUeXBlO1xuICAgICAgICB0aGlzLl9jZWxscyA9IGNlbGxzO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLl9vcmlnaW4gPSBvcmlnaW47XG4gICAgfVxuXG4gICAgcHVibGljIGlzUGFydE9mU2hhcGUoY2VsbDogVmVjdG9yMikge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbHMuc29tZShzaGFwZUNlbGwgPT4gc2hhcGVDZWxsLlggPT09IGNlbGwuWCAmJiBzaGFwZUNlbGwuWSA9PT0gY2VsbC5ZKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZSh4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmKHRoaXMuX29yaWdpbil7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW4uYWRkVG9YKHgpLmFkZFRvWSh5KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5hZGRUb1goeCkuYWRkVG9ZKHkpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLy4uL3NoYXBlL1NoYXBlJztcbmltcG9ydCB7IENlbGwgfSBmcm9tIFwiLi9DZWxsXCI7XG5pbXBvcnQgeyBjYW52YXMyRCB9IGZyb20gXCIuLi9DYW52YXNcIjtcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSBcIi4uL2dhbWUuY29uZmlnXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcCB7XG5cbiAgICBwcml2YXRlIF9tYXA6IENlbGxbXVtdO1xuICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7XG5cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCB3aWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IFtdO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQoKTogdm9pZHtcbiAgICAgICAgZm9yKGxldCBpOiBudW1iZXIgPSAwIDsgaSA8IHRoaXMuX2hlaWdodCA7IGkrKyApe1xuICAgICAgICAgICAgdGhpcy5fbWFwW2ldID0gW107XG5cbiAgICAgICAgICAgIGZvcihsZXQgajogbnVtYmVyID0gMCA7IGogPCB0aGlzLl93aWR0aCA7IGorKyl7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwW2ldW2pdID0gbmV3IENlbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBpc0luTWFwKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0NlbGxGaWxsZWQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJbk1hcCh4LHkpICYmIHRoaXMuX21hcFt5XVt4XS5maWxsZWQ7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgY2xlYXJDZWxsKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaXNJbk1hcCh4LCB5KSkge1xuICAgICAgICAgICAgdGhpcy5fbWFwW3ldW3hdLmZpbGxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyU2hhcGUoc2hhcGU6IFNoYXBlKTogdm9pZCB7XG4gICAgICAgIHNoYXBlLmNlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2VsbChjZWxsLlgsIGNlbGwuWSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb2xvckNlbGwoeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5pc0luTWFwKHgsIHkpKXtcbiAgICAgICAgICAgIHRoaXMuX21hcFt5XVt4XS5maWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbWFwW3ldW3hdLmNvbG9yID0gY29sb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY29sb3JTaGFwZShzaGFwZTogU2hhcGUpOiB2b2lkIHtcbiAgICAgICAgc2hhcGUuY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JDZWxsKGNlbGwuWCwgY2VsbC5ZLCBzaGFwZS5jb2xvcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbnlGaWxsZWRPblJvdyhyb3c6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW3Jvd10uc29tZShjZWxsID0+IGNlbGwuZmlsbGVkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlRmlsbGVkTGluZXMoKTogbnVtYmVyIHtcbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgZmlsbGVkTGluZXNDb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAgOyBpIDwgdGhpcy5fbWFwLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmlsbGVkTGluZSA6IGJvb2xlYW4gPSB0aGlzLl9tYXBbaV0uZXZlcnkoY2VsbCA9PiBjZWxsLmZpbGxlZCk7XG5cbiAgICAgICAgICAgIGlmKGZpbGxlZExpbmUpIHtcbiAgICAgICAgICAgICAgICBmaWxsZWRMaW5lc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdSb3c6IENlbGxbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDAgOyBqIDwgdGhpcy5fd2lkdGggOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93W2pdID0gbmV3IENlbGwoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAudW5zaGlmdChuZXdSb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbGxlZExpbmVzQ291bnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XG4gICAgICAgIGZvcihsZXQgaSA9IDAgOyBpIDwgdGhpcy5fbWFwLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAwIDsgaiA8IHRoaXMuX21hcFtpXS5sZW5ndGggOyBqKyspe1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGw6IENlbGwgPSB0aGlzLl9tYXBbaV1bal07XG4gICAgICAgICAgICAgICAgaWYoY2VsbC5maWxsZWQpe1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMyRC5kcmF3UmVjdEF0Q2VsbChpLCBqLCBjZWxsLmNvbG9yLCBHQU1FX0NPTkZJRy5TVFJPS0VfQ09MT1IsIEdBTUVfQ09ORklHLkNFTExfU0laRSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFNoYXBlVHlwZSB9IGZyb20gXCIuL1NoYXBlVHlwZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFNoYXBlIH0gZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCB7IEdBTUVfQ09ORklHIH0gZnJvbSBcIi4uL2dhbWUuY29uZmlnXCI7XG5cbmV4cG9ydCBjbGFzcyBTaGFwZUZhY3Rvcnkge1xuICAgIHB1YmxpYyBjcmVhdGVTaGFwZShzaGFwZVR5cGU6IFNoYXBlVHlwZSwgcG9zaXRpb246IFZlY3RvcjIsIHNoYXBlQ29sb3I6IHN0cmluZyk6IFNoYXBlIHtcblxuICAgICAgICBsZXQgc2hhcGVDZWxsczogVmVjdG9yMltdID0gW107XG4gICAgICAgIGxldCBzaGFwZU9yaWdpbjogVmVjdG9yMjtcblxuICAgICAgICBzd2l0Y2goc2hhcGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5JOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAyKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDMpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLko6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDIpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YIC0gMSwgcG9zaXRpb24uWSArIDIpLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5MOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxLCBwb3NpdGlvbi5ZICsgMiksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLk86XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTaGFwZVR5cGUuUzpcbiAgICAgICAgICAgICAgICBzaGFwZUNlbGxzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCArIDEsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2hhcGVUeXBlLlo6XG4gICAgICAgICAgICAgICAgc2hhcGVDZWxscyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxLCBwb3NpdGlvbi5ZKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIocG9zaXRpb24uWCwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YICsgMSwgcG9zaXRpb24uWSArIDEpLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgc2hhcGVPcmlnaW4gPSBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNoYXBlVHlwZS5UOlxuICAgICAgICAgICAgICAgIHNoYXBlQ2VsbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMihwb3NpdGlvbi5YLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggLSAxLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IyKHBvc2l0aW9uLlggKyAxLCBwb3NpdGlvbi5ZICsgMSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzaGFwZU9yaWdpbiA9IG5ldyBWZWN0b3IyKHBvc2l0aW9uLlgsIHBvc2l0aW9uLlkgKyAxKTtcbiAgICAgICAgICAgICAgICBicmVhazsgIFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFwZShzaGFwZVR5cGUsIHNoYXBlQ2VsbHMsIHNoYXBlT3JpZ2luLCBzaGFwZUNvbG9yKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==